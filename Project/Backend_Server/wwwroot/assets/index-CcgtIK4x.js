import{g as ne,f as ie,h as z,m as te,n as re,Y as rt,X as fs,t as yr,j as e,o as K,p as oe,aw as sn,Z as ys,$ as Wt,a8 as Se,C as vs,V as yt,B as nn,q as Ct,i as Q,a2 as vt,a1 as bt,l as Ze,b as vr,ax as on,T as an,ay as ln,az as cn,aA as bs,W as S,aB as dn,G as un,a9 as pn,a6 as js,_ as hn,a7 as Ss,A as mn,x as ws,D as xn,U as gn,aC as fn,aD as qt,aE as br,aF as yn,aG as $r,k as xe,af as Bt,aH as mt,v as vn,H as gt,r as zt,aI as ft,aj as bn,a3 as Ot,aa as Cs,w as qe,aJ as jn,aK as Sn,aL as fe,ao as _,M as wn,as as jr,ag as Cn}from"./mui-core-BZjoSEI0.js";import{b as kn,r as d,u as dt,L as at,c as ks,d as Dn,g as Tn,n as Fe,e as Pn,f as Me,O as In,N as dr,B as An}from"./vendor-DuMT9bzH.js";import{E as Rn,a as Ds,D as Mn,A as sr,S as zr,I as At,P as Or,b as nr,B as Fr,c as En,Q as Wr,T as Ts,d as Ln,N as Nn,L as Ps,e as $n,f as zn,M as On,g as Fn,h as Wn,i as Bn,j as Is,H as Vn,G as Br,W as Un,k as Vr,l as Hn,C as Gn,m as qn,n as Ur,o as Sr,p as wr,q as _n,R as Yn,r as Zn}from"./mui-icons-78YMBE2X.js";import{I as Pe,C as Jn,g as Xn,a as Qn,G as Kn,S as eo,T as to,b as Cr,B as ro,c as so,L as ur,d as pr,e as Hr,f as Gr,h as Vt,D as Je,u as no,M as As,i as V,j as kr,k as oo,l as Xe,m as H,n as He,F as _t,o as Dr,p as kt,q as Tr,r as Be,s as Ve,v as De,w as k,P as jt,x as Pr,y as ao,z as Ir,A as Ar,E as Rs,H as Ut,J as io}from"./mui-data-visualization-CJpwy__X.js";import{a as B,l as lo,p as co,i as uo,f as hr,b as po,c as ho,d as mo,e as xo,g as go,h as or,j as qr,k as _r,m as ar,n as fo,s as yo,o as vo,q as bo,r as jo,t as So,u as wo,v as Co,w as ko,x as Do,y as To,z as Po,A as Io,B as Ao,C as Ro,D as Mo,E as Eo,F as Lo,G as No,H as $o,I as zo,J as Oo,K as Fo,L as Wo,M as Bo,N as Vo,O as Uo,P as Ho,Q as Go,R as qo}from"./utilities-BBCfxv8D.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var mr={},Yr=kn;mr.createRoot=Yr.createRoot,mr.hydrateRoot=Yr.hydrateRoot;function _o(t){return ie("MuiCollapse",t)}ne("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Yo=t=>{const{orientation:r,classes:n}=t,s={root:["root",`${r}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${r}`],wrapperInner:["wrapperInner",`${r}`]};return oe(s,_o,n)},Zo=z("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.orientation],n.state==="entered"&&r.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&r.hidden]}})(te(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:r})=>r.state==="exited"&&!r.in&&r.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Jo=z("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,r)=>r.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Xo=z("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,r)=>r.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),St=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiCollapse"}),{addEndListener:o,children:a,className:i,collapsedSize:l="0px",component:c,easing:u,in:h,onEnter:v,onEntered:g,onEntering:f,onExit:m,onExited:x,onExiting:p,orientation:y="vertical",style:b,timeout:j=sn.standard,TransitionComponent:A=ys,...E}=s,N={...s,orientation:y,collapsedSize:l},D=Yo(N),F=rt(),T=fs(),M=d.useRef(null),$=d.useRef(),G=typeof l=="number"?`${l}px`:l,I=y==="horizontal",w=I?"width":"height",L=d.useRef(null),X=yr(n,L),q=Z=>ge=>{if(Z){const he=L.current;ge===void 0?Z(he):Z(he,ge)}},W=()=>M.current?M.current[I?"clientWidth":"clientHeight"]:0,ee=q((Z,ge)=>{M.current&&I&&(M.current.style.position="absolute"),Z.style[w]=G,v&&v(Z,ge)}),ce=q((Z,ge)=>{const he=W();M.current&&I&&(M.current.style.position="");const{duration:Ie,easing:Ae}=Wt({style:b,timeout:j,easing:u},{mode:"enter"});if(j==="auto"){const Oe=F.transitions.getAutoHeightDuration(he);Z.style.transitionDuration=`${Oe}ms`,$.current=Oe}else Z.style.transitionDuration=typeof Ie=="string"?Ie:`${Ie}ms`;Z.style[w]=`${he}px`,Z.style.transitionTimingFunction=Ae,f&&f(Z,ge)}),de=q((Z,ge)=>{Z.style[w]="auto",g&&g(Z,ge)}),Le=q(Z=>{Z.style[w]=`${W()}px`,m&&m(Z)}),st=q(x),it=q(Z=>{const ge=W(),{duration:he,easing:Ie}=Wt({style:b,timeout:j,easing:u},{mode:"exit"});if(j==="auto"){const Ae=F.transitions.getAutoHeightDuration(ge);Z.style.transitionDuration=`${Ae}ms`,$.current=Ae}else Z.style.transitionDuration=typeof he=="string"?he:`${he}ms`;Z.style[w]=G,Z.style.transitionTimingFunction=Ie,p&&p(Z)}),ut=Z=>{j==="auto"&&T.start($.current||0,Z),o&&o(L.current,Z)};return e.jsx(A,{in:h,onEnter:ee,onEntered:de,onEntering:ce,onExit:Le,onExited:st,onExiting:it,addEndListener:ut,nodeRef:L,timeout:j==="auto"?null:j,...E,children:(Z,ge)=>e.jsx(Zo,{as:c,className:K(D.root,i,{entered:D.entered,exited:!h&&G==="0px"&&D.hidden}[Z]),style:{[I?"minWidth":"minHeight"]:G,...b},ref:X,...ge,ownerState:{...N,state:Z},children:e.jsx(Jo,{ownerState:{...N,state:Z},className:D.wrapper,ref:M,children:e.jsx(Xo,{ownerState:{...N,state:Z},className:D.wrapperInner,children:a})})})})});St&&(St.muiSupportAuto=!0);const Ms=d.createContext({});function Qo(t){return ie("MuiAccordion",t)}const Rt=ne("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),Ko=t=>{const{classes:r,square:n,expanded:s,disabled:o,disableGutters:a}=t;return oe({root:["root",!n&&"rounded",s&&"expanded",o&&"disabled",!a&&"gutters"],heading:["heading"],region:["region"]},Qo,r)},ea=z(Se,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`& .${Rt.region}`]:r.region},r.root,!n.square&&r.rounded,!n.disableGutters&&r.gutters]}})(te(({theme:t})=>{const r={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],r),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],r)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Rt.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Rt.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),te(({theme:t})=>({variants:[{props:r=>!r.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:r=>!r.disableGutters,style:{[`&.${Rt.expanded}`]:{margin:"16px 0"}}}]}))),ta=z("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(t,r)=>r.heading})({all:"unset"}),ra=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiAccordion"}),{children:o,className:a,defaultExpanded:i=!1,disabled:l=!1,disableGutters:c=!1,expanded:u,onChange:h,square:v=!1,slots:g={},slotProps:f={},TransitionComponent:m,TransitionProps:x,...p}=s,[y,b]=vs({controlled:u,default:i,name:"Accordion",state:"expanded"}),j=d.useCallback(X=>{b(!y),h&&h(X,!y)},[y,h,b]),[A,...E]=d.Children.toArray(o),N=d.useMemo(()=>({expanded:y,disabled:l,disableGutters:c,toggle:j}),[y,l,c,j]),D={...s,square:v,disabled:l,disableGutters:c,expanded:y},F=Ko(D),T={transition:m,...g},M={transition:x,...f},$={slots:T,slotProps:M},[G,I]=yt("heading",{elementType:ta,externalForwardedProps:$,className:F.heading,ownerState:D}),[w,L]=yt("transition",{elementType:St,externalForwardedProps:$,ownerState:D});return e.jsxs(ea,{className:K(F.root,a),ref:n,ownerState:D,square:v,...p,children:[e.jsx(G,{...I,children:e.jsx(Ms.Provider,{value:N,children:A})}),e.jsx(w,{in:y,timeout:"auto",...L,children:e.jsx("div",{"aria-labelledby":A.props.id,id:A.props["aria-controls"],role:"region",className:F.region,children:E})})]})});function sa(t){return ie("MuiAccordionDetails",t)}ne("MuiAccordionDetails",["root"]);const na=t=>{const{classes:r}=t;return oe({root:["root"]},sa,r)},oa=z("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,r)=>r.root})(te(({theme:t})=>({padding:t.spacing(1,2,2)}))),aa=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiAccordionDetails"}),{className:o,...a}=s,i=s,l=na(i);return e.jsx(oa,{className:K(l.root,o),ref:n,ownerState:i,...a})});function ia(t){return ie("MuiAccordionSummary",t)}const ct=ne("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),la=t=>{const{classes:r,expanded:n,disabled:s,disableGutters:o}=t;return oe({root:["root",n&&"expanded",s&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},ia,r)},ca=z(nn,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,r)=>r.root})(te(({theme:t})=>{const r={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],r),[`&.${ct.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ct.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${ct.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${ct.expanded}`]:{minHeight:64}}}]}})),da=z("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,r)=>r.content})(te(({theme:t})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:r=>!r.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${ct.expanded}`]:{margin:"20px 0"}}}]}))),ua=z("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,r)=>r.expandIconWrapper})(te(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${ct.expanded}`]:{transform:"rotate(180deg)"}}))),pa=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiAccordionSummary"}),{children:o,className:a,expandIcon:i,focusVisibleClassName:l,onClick:c,...u}=s,{disabled:h=!1,disableGutters:v,expanded:g,toggle:f}=d.useContext(Ms),m=y=>{f&&f(y),c&&c(y)},x={...s,expanded:g,disabled:h,disableGutters:v},p=la(x);return e.jsxs(ca,{focusRipple:!1,disableRipple:!0,disabled:h,component:"div","aria-expanded":g,className:K(p.root,a),focusVisibleClassName:K(p.focusVisible,l),onClick:m,ref:n,ownerState:x,...u,children:[e.jsx(da,{className:p.content,ownerState:x,children:o}),i&&e.jsx(ua,{className:p.expandIconWrapper,ownerState:x,children:i})]})});function ha(t){return ie("MuiAlert",t)}const Zr=ne("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),ma=Ct(e.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),xa=Ct(e.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ga=Ct(e.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),fa=Ct(e.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ya=t=>{const{variant:r,color:n,severity:s,classes:o}=t,a={root:["root",`color${Q(n||s)}`,`${r}${Q(n||s)}`,`${r}`],icon:["icon"],message:["message"],action:["action"]};return oe(a,ha,o)},va=z(Se,{name:"MuiAlert",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`${n.variant}${Q(n.color||n.severity)}`]]}})(te(({theme:t})=>{const r=t.palette.mode==="light"?vt:bt,n=t.palette.mode==="light"?bt:vt;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Ze(["light"])).map(([s])=>({props:{colorSeverity:s,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${s}Color`]:r(t.palette[s].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${s}StandardBg`]:n(t.palette[s].light,.9),[`& .${Zr.icon}`]:t.vars?{color:t.vars.palette.Alert[`${s}IconColor`]}:{color:t.palette[s].main}}})),...Object.entries(t.palette).filter(Ze(["light"])).map(([s])=>({props:{colorSeverity:s,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${s}Color`]:r(t.palette[s].light,.6),border:`1px solid ${(t.vars||t).palette[s].light}`,[`& .${Zr.icon}`]:t.vars?{color:t.vars.palette.Alert[`${s}IconColor`]}:{color:t.palette[s].main}}})),...Object.entries(t.palette).filter(Ze(["dark"])).map(([s])=>({props:{colorSeverity:s,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${s}FilledColor`],backgroundColor:t.vars.palette.Alert[`${s}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[s].dark:t.palette[s].main,color:t.palette.getContrastText(t.palette[s].main)}}}))]}})),ba=z("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,r)=>r.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ja=z("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,r)=>r.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Jr=z("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,r)=>r.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Xr={success:e.jsx(ma,{fontSize:"inherit"}),warning:e.jsx(xa,{fontSize:"inherit"}),error:e.jsx(ga,{fontSize:"inherit"}),info:e.jsx(fa,{fontSize:"inherit"})},we=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiAlert"}),{action:o,children:a,className:i,closeText:l="Close",color:c,components:u={},componentsProps:h={},icon:v,iconMapping:g=Xr,onClose:f,role:m="alert",severity:x="success",slotProps:p={},slots:y={},variant:b="standard",...j}=s,A={...s,color:c,severity:x,variant:b,colorSeverity:c||x},E=ya(A),N={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...y},slotProps:{...h,...p}},[D,F]=yt("closeButton",{elementType:Pe,externalForwardedProps:N,ownerState:A}),[T,M]=yt("closeIcon",{elementType:Jn,externalForwardedProps:N,ownerState:A});return e.jsxs(va,{role:m,elevation:0,ownerState:A,className:K(E.root,i),ref:n,...j,children:[v!==!1?e.jsx(ba,{ownerState:A,className:E.icon,children:v||g[x]||Xr[x]}):null,e.jsx(ja,{ownerState:A,className:E.message,children:a}),o!=null?e.jsx(Jr,{ownerState:A,className:E.action,children:o}):null,o==null&&f?e.jsx(Jr,{ownerState:A,className:E.action,children:e.jsx(D,{size:"small","aria-label":l,title:l,color:"inherit",onClick:f,...F,children:e.jsx(T,{fontSize:"small",...M})})}):null]})});function Sa(t){return ie("MuiAppBar",t)}ne("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const wa=t=>{const{color:r,position:n,classes:s}=t,o={root:["root",`color${Q(r)}`,`position${Q(n)}`]};return oe(o,Sa,s)},Qr=(t,r)=>t?`${t==null?void 0:t.replace(")","")}, ${r})`:r,Ca=z(Se,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`position${Q(n.position)}`],r[`color${Q(n.color)}`]]}})(te(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Ze(["contrastText"])).map(([r])=>({props:{color:r},style:{"--AppBar-background":(t.vars??t).palette[r].main,"--AppBar-color":(t.vars??t).palette[r].contrastText}})),{props:r=>r.enableColorOnDark===!0&&!["inherit","transparent"].includes(r.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:r=>r.enableColorOnDark===!1&&!["inherit","transparent"].includes(r.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?Qr(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?Qr(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),Es=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiAppBar"}),{className:o,color:a="primary",enableColorOnDark:i=!1,position:l="fixed",...c}=s,u={...s,color:a,position:l,enableColorOnDark:i},h=wa(u);return e.jsx(Ca,{square:!0,component:"header",ownerState:u,elevation:4,className:K(h.root,o,l==="fixed"&&"mui-fixed"),ref:n,...c})}),ka=Ct(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Da(t){return ie("MuiAvatar",t)}ne("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Ta=t=>{const{classes:r,variant:n,colorDefault:s}=t;return oe({root:["root",n,s&&"colorDefault"],img:["img"],fallback:["fallback"]},Da,r)},Pa=z("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],n.colorDefault&&r.colorDefault]}})(te(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Ia=z("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Aa=z(ka,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,r)=>r.fallback})({width:"75%",height:"75%"});function Ra({crossOrigin:t,referrerPolicy:r,src:n,srcSet:s}){const[o,a]=d.useState(!1);return d.useEffect(()=>{if(!n&&!s)return;a(!1);let i=!0;const l=new Image;return l.onload=()=>{i&&a("loaded")},l.onerror=()=>{i&&a("error")},l.crossOrigin=t,l.referrerPolicy=r,l.src=n,s&&(l.srcset=s),()=>{i=!1}},[t,r,n,s]),o}const Rr=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiAvatar"}),{alt:o,children:a,className:i,component:l="div",slots:c={},slotProps:u={},imgProps:h,sizes:v,src:g,srcSet:f,variant:m="circular",...x}=s;let p=null;const y=Ra({...h,src:g,srcSet:f}),b=g||f,j=b&&y!=="error",A={...s,colorDefault:!j,component:l,variant:m};delete A.ownerState;const E=Ta(A),[N,D]=yt("img",{className:E.img,elementType:Ia,externalForwardedProps:{slots:c,slotProps:{img:{...h,...u.img}}},additionalProps:{alt:o,src:g,srcSet:f,sizes:v},ownerState:A});return j?p=e.jsx(N,{...D}):a||a===0?p=a:b&&o?p=o[0]:p=e.jsx(Aa,{ownerState:A,className:E.fallback}),e.jsx(Pa,{as:l,className:K(E.root,i),ref:n,...x,ownerState:A,children:p})}),Ma=ne("MuiBox",["root"]),Ea=vr(),C=on({themeId:an,defaultTheme:Ea,defaultClassName:Ma.root,generateClassName:ln.generate});function La(t){return ie("MuiCardContent",t)}ne("MuiCardContent",["root"]);const Na=t=>{const{classes:r}=t;return oe({root:["root"]},La,r)},$a=z("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,r)=>r.root})({padding:16,"&:last-child":{paddingBottom:24}}),ye=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiCardContent"}),{className:o,component:a="div",...i}=s,l={...s,component:a},c=Na(l);return e.jsx($a,{as:a,className:K(c.root,o),ownerState:l,ref:n,...i})});function za(t){return ie("MuiCardMedia",t)}ne("MuiCardMedia",["root","media","img"]);const Oa=t=>{const{classes:r,isMediaComponent:n,isImageComponent:s}=t;return oe({root:["root",n&&"media",s&&"img"]},za,r)},Fa=z("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t,{isMediaComponent:s,isImageComponent:o}=n;return[r.root,s&&r.media,o&&r.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),Wa=["video","audio","picture","iframe","img"],Ba=["picture","img"],Va=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiCardMedia"}),{children:o,className:a,component:i="div",image:l,src:c,style:u,...h}=s,v=Wa.includes(i),g=!v&&l?{backgroundImage:`url("${l}")`,...u}:u,f={...s,component:i,isMediaComponent:v,isImageComponent:Ba.includes(i)},m=Oa(f);return e.jsx(Fa,{className:K(m.root,a),as:i,role:!v&&l?"img":void 0,ref:n,style:g,ownerState:f,src:v?l||c:void 0,...h,children:o})}),Dt=cn({createStyledComponent:z("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`maxWidth${Q(String(n.maxWidth))}`],n.fixed&&r.fixed,n.disableGutters&&r.disableGutters]}}),useThemeProps:t=>re({props:t,name:"MuiContainer"})}),xr=typeof bs({})=="function",Ua=(t,r)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...r&&!t.vars&&{colorScheme:t.palette.mode}}),Ha=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),Ls=(t,r=!1)=>{var a,i;const n={};r&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([l,c])=>{var h,v;const u=t.getColorSchemeSelector(l);u.startsWith("@")?n[u]={":root":{colorScheme:(h=c.palette)==null?void 0:h.mode}}:n[u.replace(/\s*&/,"")]={colorScheme:(v=c.palette)==null?void 0:v.mode}});let s={html:Ua(t,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...Ha(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const o=(i=(a=t.components)==null?void 0:a.MuiCssBaseline)==null?void 0:i.styleOverrides;return o&&(s=[s,o]),s},Ft="mui-ecs",Ga=t=>{const r=Ls(t,!1),n=Array.isArray(r)?r[0]:r;return!t.vars&&n&&(n.html[`:root:has(${Ft})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([s,o])=>{var i,l;const a=t.getColorSchemeSelector(s);a.startsWith("@")?n[a]={[`:root:not(:has(.${Ft}))`]:{colorScheme:(i=o.palette)==null?void 0:i.mode}}:n[a.replace(/\s*&/,"")]={[`&:not(:has(.${Ft}))`]:{colorScheme:(l=o.palette)==null?void 0:l.mode}}}),r},qa=bs(xr?({theme:t,enableColorScheme:r})=>Ls(t,r):({theme:t})=>Ga(t));function Mr(t){const r=re({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:s=!1}=r;return e.jsxs(d.Fragment,{children:[xr&&e.jsx(qa,{enableColorScheme:s}),!xr&&!s&&e.jsx("span",{className:Ft,style:{display:"none"}}),n]})}const _a=t=>{const{classes:r}=t;return oe({root:["root"]},Xn,r)},Ya=z(S,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,r)=>r.root})({padding:"16px 24px",flex:"0 0 auto"}),Er=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiDialogTitle"}),{className:o,id:a,...i}=s,l=s,c=_a(l),{titleId:u=a}=d.useContext(dn);return e.jsx(Ya,{component:"h2",className:K(c.root,o),ownerState:l,ref:n,variant:"h6",id:a??u,...i})});function Za(t,r,n){const s=r.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),a=js(r);let i;if(r.fakeTransform)i=r.fakeTransform;else{const u=a.getComputedStyle(r);i=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let l=0,c=0;if(i&&i!=="none"&&typeof i=="string"){const u=i.split("(")[1].split(")")[0].split(",");l=parseInt(u[4],10),c=parseInt(u[5],10)}return t==="left"?o?`translateX(${o.right+l-s.left}px)`:`translateX(${a.innerWidth+l-s.left}px)`:t==="right"?o?`translateX(-${s.right-o.left-l}px)`:`translateX(-${s.left+s.width-l}px)`:t==="up"?o?`translateY(${o.bottom+c-s.top}px)`:`translateY(${a.innerHeight+c-s.top}px)`:o?`translateY(-${s.top-o.top+s.height-c}px)`:`translateY(-${s.top+s.height-c}px)`}function Ja(t){return typeof t=="function"?t():t}function Mt(t,r,n){const s=Ja(n),o=Za(t,r,s);o&&(r.style.webkitTransform=o,r.style.transform=o)}const Xa=d.forwardRef(function(r,n){const s=rt(),o={enter:s.transitions.easing.easeOut,exit:s.transitions.easing.sharp},a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:i,appear:l=!0,children:c,container:u,direction:h="down",easing:v=o,in:g,onEnter:f,onEntered:m,onEntering:x,onExit:p,onExited:y,onExiting:b,style:j,timeout:A=a,TransitionComponent:E=ys,...N}=r,D=d.useRef(null),F=yr(un(c),D,n),T=W=>ee=>{W&&(ee===void 0?W(D.current):W(D.current,ee))},M=T((W,ee)=>{Mt(h,W,u),hn(W),f&&f(W,ee)}),$=T((W,ee)=>{const ce=Wt({timeout:A,style:j,easing:v},{mode:"enter"});W.style.webkitTransition=s.transitions.create("-webkit-transform",{...ce}),W.style.transition=s.transitions.create("transform",{...ce}),W.style.webkitTransform="none",W.style.transform="none",x&&x(W,ee)}),G=T(m),I=T(b),w=T(W=>{const ee=Wt({timeout:A,style:j,easing:v},{mode:"exit"});W.style.webkitTransition=s.transitions.create("-webkit-transform",ee),W.style.transition=s.transitions.create("transform",ee),Mt(h,W,u),p&&p(W)}),L=T(W=>{W.style.webkitTransition="",W.style.transition="",y&&y(W)}),X=W=>{i&&i(D.current,W)},q=d.useCallback(()=>{D.current&&Mt(h,D.current,u)},[h,u]);return d.useEffect(()=>{if(g||h==="down"||h==="right")return;const W=pn(()=>{D.current&&Mt(h,D.current,u)}),ee=js(D.current);return ee.addEventListener("resize",W),()=>{W.clear(),ee.removeEventListener("resize",W)}},[h,g,u]),d.useEffect(()=>{g||q()},[g,q]),e.jsx(E,{nodeRef:D,onEnter:M,onEntered:G,onEntering:$,onExit:w,onExited:L,onExiting:I,addEndListener:X,appear:l,in:g,timeout:A,...N,children:(W,ee)=>d.cloneElement(c,{ref:F,style:{visibility:W==="exited"&&!g?"hidden":void 0,...j,...c.props.style},...ee})})});function Qa(t){return ie("MuiDrawer",t)}const Ka=ne("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]),Ns=(t,r)=>{const{ownerState:n}=t;return[r.root,(n.variant==="permanent"||n.variant==="persistent")&&r.docked,r.modal]},ei=t=>{const{classes:r,anchor:n,variant:s}=t,o={root:["root"],docked:[(s==="permanent"||s==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Q(n)}`,s!=="temporary"&&`paperAnchorDocked${Q(n)}`]};return oe(o,Qa,r)},ti=z(Ss,{name:"MuiDrawer",slot:"Root",overridesResolver:Ns})(te(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),Kr=z("div",{shouldForwardProp:mn,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Ns})({flex:"0 0 auto"}),ri=z(Se,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.paper,r[`paperAnchor${Q(n.anchor)}`],n.variant!=="temporary"&&r[`paperAnchorDocked${Q(n.anchor)}`]]}})(te(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:r})=>r.anchor==="left"&&r.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="top"&&r.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="right"&&r.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="bottom"&&r.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),$s={left:"right",right:"left",top:"down",bottom:"up"};function si(t){return["left","right"].includes(t)}function ni({direction:t},r){return t==="rtl"&&si(r)?$s[r]:r}const zs=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiDrawer"}),o=rt(),a=ws(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:c,children:u,className:h,elevation:v=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:f,...m}={},onClose:x,open:p=!1,PaperProps:y={},SlideProps:b,TransitionComponent:j=Xa,transitionDuration:A=i,variant:E="temporary",...N}=s,D=d.useRef(!1);d.useEffect(()=>{D.current=!0},[]);const F=ni({direction:a?"rtl":"ltr"},l),M={...s,anchor:l,elevation:v,open:p,variant:E,...N},$=ei(M),G=e.jsx(ri,{elevation:E==="temporary"?v:0,square:!0,...y,className:K($.paper,y.className),ownerState:M,children:u});if(E==="permanent")return e.jsx(Kr,{className:K($.root,$.docked,h),ownerState:M,ref:n,...N,children:G});const I=e.jsx(j,{in:p,direction:$s[F],timeout:A,appear:D.current,...b,children:G});return E==="persistent"?e.jsx(Kr,{className:K($.root,$.docked,h),ownerState:M,ref:n,...N,children:I}):e.jsx(ti,{BackdropProps:{...c,...f,transitionDuration:A},className:K($.root,$.modal,h),open:p,ownerState:M,onClose:x,hideBackdrop:g,ref:n,...N,...m,children:I})});function oi(t){return ie("MuiFormGroup",t)}ne("MuiFormGroup",["root","row","error"]);const ai=t=>{const{classes:r,row:n,error:s}=t;return oe({root:["root",n&&"row",s&&"error"]},oi,r)},ii=z("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.row&&r.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),li=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiFormGroup"}),{className:o,row:a=!1,...i}=s,l=xn(),c=gn({props:s,muiFormControl:l,states:["error"]}),u={...s,row:a,error:c.error},h=ai(u);return e.jsx(ii,{className:K(h.root,o),ownerState:u,ref:n,...i})}),es=d.createContext();function ci(t){return ie("MuiGrid",t)}const di=[0,1,2,3,4,5,6,7,8,9,10],ui=["column-reverse","column","row-reverse","row"],pi=["nowrap","wrap-reverse","wrap"],xt=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],wt=ne("MuiGrid",["root","container","item","zeroMinWidth",...di.map(t=>`spacing-xs-${t}`),...ui.map(t=>`direction-xs-${t}`),...pi.map(t=>`wrap-xs-${t}`),...xt.map(t=>`grid-xs-${t}`),...xt.map(t=>`grid-sm-${t}`),...xt.map(t=>`grid-md-${t}`),...xt.map(t=>`grid-lg-${t}`),...xt.map(t=>`grid-xl-${t}`)]);function hi({theme:t,ownerState:r}){let n;return t.breakpoints.keys.reduce((s,o)=>{let a={};if(r[o]&&(n=r[o]),!n)return s;if(n===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const i=qt({values:r.columns,breakpoints:t.breakpoints.values}),l=typeof i=="object"?i[o]:i;if(l==null)return s;const c=`${Math.round(n/l*1e8)/1e6}%`;let u={};if(r.container&&r.item&&r.columnSpacing!==0){const h=t.spacing(r.columnSpacing);if(h!=="0px"){const v=`calc(${c} + ${h})`;u={flexBasis:v,maxWidth:v}}}a={flexBasis:c,flexGrow:0,maxWidth:c,...u}}return t.breakpoints.values[o]===0?Object.assign(s,a):s[t.breakpoints.up(o)]=a,s},{})}function mi({theme:t,ownerState:r}){const n=qt({values:r.direction,breakpoints:t.breakpoints.values});return br({theme:t},n,s=>{const o={flexDirection:s};return s.startsWith("column")&&(o[`& > .${wt.item}`]={maxWidth:"none"}),o})}function Os({breakpoints:t,values:r}){let n="";Object.keys(r).forEach(o=>{n===""&&r[o]!==0&&(n=o)});const s=Object.keys(t).sort((o,a)=>t[o]-t[a]);return s.slice(0,s.indexOf(n))}function xi({theme:t,ownerState:r}){const{container:n,rowSpacing:s}=r;let o={};if(n&&s!==0){const a=qt({values:s,breakpoints:t.breakpoints.values});let i;typeof a=="object"&&(i=Os({breakpoints:t.breakpoints.values,values:a})),o=br({theme:t},a,(l,c)=>{const u=t.spacing(l);return u!=="0px"?{marginTop:`-${u}`,[`& > .${wt.item}`]:{paddingTop:u}}:i!=null&&i.includes(c)?{}:{marginTop:0,[`& > .${wt.item}`]:{paddingTop:0}}})}return o}function gi({theme:t,ownerState:r}){const{container:n,columnSpacing:s}=r;let o={};if(n&&s!==0){const a=qt({values:s,breakpoints:t.breakpoints.values});let i;typeof a=="object"&&(i=Os({breakpoints:t.breakpoints.values,values:a})),o=br({theme:t},a,(l,c)=>{const u=t.spacing(l);if(u!=="0px"){const h=`-${u}`;return{width:`calc(100% + ${u})`,marginLeft:h,[`& > .${wt.item}`]:{paddingLeft:u}}}return i!=null&&i.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${wt.item}`]:{paddingLeft:0}}})}return o}function fi(t,r,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const s=[];return r.forEach(o=>{const a=t[o];Number(a)>0&&s.push(n[`spacing-${o}-${String(a)}`])}),s}const yi=z("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t,{container:s,direction:o,item:a,spacing:i,wrap:l,zeroMinWidth:c,breakpoints:u}=n;let h=[];s&&(h=fi(i,u,r));const v=[];return u.forEach(g=>{const f=n[g];f&&v.push(r[`grid-${g}-${String(f)}`])}),[r.root,s&&r.container,a&&r.item,c&&r.zeroMinWidth,...h,o!=="row"&&r[`direction-xs-${String(o)}`],l!=="wrap"&&r[`wrap-xs-${String(l)}`],...v]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),mi,xi,gi,hi);function vi(t,r){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return r.forEach(s=>{const o=t[s];if(Number(o)>0){const a=`spacing-${s}-${String(o)}`;n.push(a)}}),n}const bi=t=>{const{classes:r,container:n,direction:s,item:o,spacing:a,wrap:i,zeroMinWidth:l,breakpoints:c}=t;let u=[];n&&(u=vi(a,c));const h=[];c.forEach(g=>{const f=t[g];f&&h.push(`grid-${g}-${String(f)}`)});const v={root:["root",n&&"container",o&&"item",l&&"zeroMinWidth",...u,s!=="row"&&`direction-xs-${String(s)}`,i!=="wrap"&&`wrap-xs-${String(i)}`,...h]};return oe(v,ci,r)},U=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiGrid"}),{breakpoints:o}=rt(),a=fn(s),{className:i,columns:l,columnSpacing:c,component:u="div",container:h=!1,direction:v="row",item:g=!1,rowSpacing:f,spacing:m=0,wrap:x="wrap",zeroMinWidth:p=!1,...y}=a,b=f||m,j=c||m,A=d.useContext(es),E=h?l||12:A,N={},D={...y};o.keys.forEach(M=>{y[M]!=null&&(N[M]=y[M],delete D[M])});const F={...a,columns:E,container:h,direction:v,item:g,rowSpacing:b,columnSpacing:j,wrap:x,zeroMinWidth:p,spacing:m,...N,breakpoints:o.keys},T=bi(F);return e.jsx(es.Provider,{value:E,children:e.jsx(yi,{ownerState:F,className:K(T.root,i),as:u,ref:n,...D})})}),Ee=yn({createStyledComponent:z("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(t,r)=>r.root}),componentName:"MuiGrid2",useThemeProps:t=>re({props:t,name:"MuiGrid2"})});function ji(t){return ie("MuiLink",t)}const Si=ne("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),wi=({theme:t,ownerState:r})=>{const n=r.color,s=$r(t,`palette.${n}`,!1)||r.color,o=$r(t,`palette.${n}Channel`);return"vars"in t&&o?`rgba(${o} / 0.4)`:xe(s,.4)},ts={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Ci=t=>{const{classes:r,component:n,focusVisible:s,underline:o}=t,a={root:["root",`underline${Q(o)}`,n==="button"&&"button",s&&"focusVisible"]};return oe(a,ji,r)},ki=z(S,{name:"MuiLink",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`underline${Q(n.underline)}`],n.component==="button"&&r.button]}})(te(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:r,ownerState:n})=>r==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(Ze()).map(([r])=>({props:{underline:"always",color:r},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.4)`:xe(t.palette[r].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:xe(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:xe(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Si.focusVisible}`]:{outline:"auto"}}}]}))),gr=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiLink"}),o=rt(),{className:a,color:i="primary",component:l="a",onBlur:c,onFocus:u,TypographyClasses:h,underline:v="always",variant:g="inherit",sx:f,...m}=s,[x,p]=d.useState(!1),y=E=>{Bt(E.target)||p(!1),c&&c(E)},b=E=>{Bt(E.target)&&p(!0),u&&u(E)},j={...s,color:i,component:l,focusVisible:x,underline:v,variant:g},A=Ci(j);return e.jsx(ki,{color:i,className:K(A.root,a),classes:h,component:l,onBlur:y,onFocus:b,ref:n,ownerState:j,variant:g,...m,sx:[...ts[i]===void 0?[{color:i}]:[],...Array.isArray(f)?f:[f]],style:{...m.style,...v==="always"&&i!=="inherit"&&!ts[i]&&{"--Link-underlineColor":wi({theme:o,ownerState:j})}}})});function Di(t,r,n=(s,o)=>s===o){return t.length===r.length&&t.every((s,o)=>n(s,r[o]))}const Ti=2;function Fs(t,r){return t-r}function rs(t,r){const{index:n}=t.reduce((s,o,a)=>{const i=Math.abs(r-o);return s===null||i<s.distance||i===s.distance?{distance:i,index:a}:s},null)??{};return n}function Et(t,r){if(r.current!==void 0&&t.changedTouches){const n=t;for(let s=0;s<n.changedTouches.length;s+=1){const o=n.changedTouches[s];if(o.identifier===r.current)return{x:o.clientX,y:o.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Ht(t,r,n){return(t-r)*100/(n-r)}function Pi(t,r,n){return(n-r)*t+r}function Ii(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),s=n[0].split(".")[1];return(s?s.length:0)+parseInt(n[1],10)}const r=t.toString().split(".")[1];return r?r.length:0}function Ai(t,r,n){const s=Math.round((t-n)/r)*r+n;return Number(s.toFixed(Ii(r)))}function ss({values:t,newValue:r,index:n}){const s=t.slice();return s[n]=r,s.sort(Fs)}function Lt({sliderRef:t,activeIndex:r,setActive:n}){var o,a,i;const s=zt(t.current);(!((o=t.current)!=null&&o.contains(s.activeElement))||Number((a=s==null?void 0:s.activeElement)==null?void 0:a.getAttribute("data-index"))!==r)&&((i=t.current)==null||i.querySelector(`[type="range"][data-index="${r}"]`).focus()),n&&n(r)}function Nt(t,r){return typeof t=="number"&&typeof r=="number"?t===r:typeof t=="object"&&typeof r=="object"?Di(t,r):!1}const Ri={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Mi=t=>t;let $t;function ns(){return $t===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?$t=CSS.supports("touch-action","none"):$t=!0),$t}function Ei(t){const{"aria-labelledby":r,defaultValue:n,disabled:s=!1,disableSwap:o=!1,isRtl:a=!1,marks:i=!1,max:l=100,min:c=0,name:u,onChange:h,onChangeCommitted:v,orientation:g="horizontal",rootRef:f,scale:m=Mi,step:x=1,shiftStep:p=10,tabIndex:y,value:b}=t,j=d.useRef(void 0),[A,E]=d.useState(-1),[N,D]=d.useState(-1),[F,T]=d.useState(!1),M=d.useRef(0),[$,G]=vs({controlled:b,default:n??c,name:"Slider"}),I=h&&((P,R,O)=>{const J=P.nativeEvent||P,me=new J.constructor(J.type,J);Object.defineProperty(me,"target",{writable:!0,value:{value:R,name:u}}),h(me,R,O)}),w=Array.isArray($);let L=w?$.slice().sort(Fs):[$];L=L.map(P=>P==null?c:mt(P,c,l));const X=i===!0&&x!==null?[...Array(Math.floor((l-c)/x)+1)].map((P,R)=>({value:c+x*R})):i||[],q=X.map(P=>P.value),[W,ee]=d.useState(-1),ce=d.useRef(null),de=yr(f,ce),Le=P=>R=>{var J;const O=Number(R.currentTarget.getAttribute("data-index"));Bt(R.target)&&ee(O),D(O),(J=P==null?void 0:P.onFocus)==null||J.call(P,R)},st=P=>R=>{var O;Bt(R.target)||ee(-1),D(-1),(O=P==null?void 0:P.onBlur)==null||O.call(P,R)},it=(P,R)=>{const O=Number(P.currentTarget.getAttribute("data-index")),J=L[O],me=q.indexOf(J);let Y=R;if(X&&x==null){const Te=q[q.length-1];Y>Te?Y=Te:Y<q[0]?Y=q[0]:Y=Y<J?q[me-1]:q[me+1]}if(Y=mt(Y,c,l),w){o&&(Y=mt(Y,L[O-1]||-1/0,L[O+1]||1/0));const Te=Y;Y=ss({values:L,newValue:Y,index:O});let Re=O;o||(Re=Y.indexOf(Te)),Lt({sliderRef:ce,activeIndex:Re})}G(Y),ee(O),I&&!Nt(Y,$)&&I(P,Y,O),v&&v(P,Y)},ut=P=>R=>{var O;if(x!==null){const J=Number(R.currentTarget.getAttribute("data-index")),me=L[J];let Y=null;(R.key==="ArrowLeft"||R.key==="ArrowDown")&&R.shiftKey||R.key==="PageDown"?Y=Math.max(me-p,c):((R.key==="ArrowRight"||R.key==="ArrowUp")&&R.shiftKey||R.key==="PageUp")&&(Y=Math.min(me+p,l)),Y!==null&&(it(R,Y),R.preventDefault())}(O=P==null?void 0:P.onKeyDown)==null||O.call(P,R)};vn(()=>{var P;s&&ce.current.contains(document.activeElement)&&((P=document.activeElement)==null||P.blur())},[s]),s&&A!==-1&&E(-1),s&&W!==-1&&ee(-1);const Z=P=>R=>{var O;(O=P.onChange)==null||O.call(P,R),it(R,R.target.valueAsNumber)},ge=d.useRef(void 0);let he=g;a&&g==="horizontal"&&(he+="-reverse");const Ie=({finger:P,move:R=!1})=>{const{current:O}=ce,{width:J,height:me,bottom:Y,left:Te}=O.getBoundingClientRect();let Re;he.startsWith("vertical")?Re=(Y-P.y)/me:Re=(P.x-Te)/J,he.includes("-reverse")&&(Re=1-Re);let be;if(be=Pi(Re,c,l),x)be=Ai(be,x,c);else{const ht=rs(q,be);be=q[ht]}be=mt(be,c,l);let Ue=0;if(w){R?Ue=ge.current:Ue=rs(L,be),o&&(be=mt(be,L[Ue-1]||-1/0,L[Ue+1]||1/0));const ht=be;be=ss({values:L,newValue:be,index:Ue}),o&&R||(Ue=be.indexOf(ht),ge.current=Ue)}return{newValue:be,activeIndex:Ue}},Ae=gt(P=>{const R=Et(P,j);if(!R)return;if(M.current+=1,P.type==="mousemove"&&P.buttons===0){Oe(P);return}const{newValue:O,activeIndex:J}=Ie({finger:R,move:!0});Lt({sliderRef:ce,activeIndex:J,setActive:E}),G(O),!F&&M.current>Ti&&T(!0),I&&!Nt(O,$)&&I(P,O,J)}),Oe=gt(P=>{const R=Et(P,j);if(T(!1),!R)return;const{newValue:O}=Ie({finger:R,move:!0});E(-1),P.type==="touchend"&&D(-1),v&&v(P,O),j.current=void 0,ve()}),nt=gt(P=>{if(s)return;ns()||P.preventDefault();const R=P.changedTouches[0];R!=null&&(j.current=R.identifier);const O=Et(P,j);if(O!==!1){const{newValue:me,activeIndex:Y}=Ie({finger:O});Lt({sliderRef:ce,activeIndex:Y,setActive:E}),G(me),I&&!Nt(me,$)&&I(P,me,Y)}M.current=0;const J=zt(ce.current);J.addEventListener("touchmove",Ae,{passive:!0}),J.addEventListener("touchend",Oe,{passive:!0})}),ve=d.useCallback(()=>{const P=zt(ce.current);P.removeEventListener("mousemove",Ae),P.removeEventListener("mouseup",Oe),P.removeEventListener("touchmove",Ae),P.removeEventListener("touchend",Oe)},[Oe,Ae]);d.useEffect(()=>{const{current:P}=ce;return P.addEventListener("touchstart",nt,{passive:ns()}),()=>{P.removeEventListener("touchstart",nt),ve()}},[ve,nt]),d.useEffect(()=>{s&&ve()},[s,ve]);const Yt=P=>R=>{var me;if((me=P.onMouseDown)==null||me.call(P,R),s||R.defaultPrevented||R.button!==0)return;R.preventDefault();const O=Et(R,j);if(O!==!1){const{newValue:Y,activeIndex:Te}=Ie({finger:O});Lt({sliderRef:ce,activeIndex:Te,setActive:E}),G(Y),I&&!Nt(Y,$)&&I(R,Y,Te)}M.current=0;const J=zt(ce.current);J.addEventListener("mousemove",Ae,{passive:!0}),J.addEventListener("mouseup",Oe)},Tt=Ht(w?L[0]:c,c,l),Zt=Ht(L[L.length-1],c,l)-Tt,Ce=(P={})=>{const R=ft(P),O={onMouseDown:Yt(R||{})},J={...R,...O};return{...P,ref:de,...J}},pt=P=>R=>{var J;(J=P.onMouseOver)==null||J.call(P,R);const O=Number(R.currentTarget.getAttribute("data-index"));D(O)},Pt=P=>R=>{var O;(O=P.onMouseLeave)==null||O.call(P,R),D(-1)};return{active:A,axis:he,axisProps:Ri,dragging:F,focusedThumbIndex:W,getHiddenInputProps:(P={})=>{const R=ft(P),O={onChange:Z(R||{}),onFocus:Le(R||{}),onBlur:st(R||{}),onKeyDown:ut(R||{})},J={...R,...O};return{tabIndex:y,"aria-labelledby":r,"aria-orientation":g,"aria-valuemax":m(l),"aria-valuemin":m(c),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:s,...P,...J,style:{...bn,direction:a?"rtl":"ltr",width:"100%",height:"100%"}}},getRootProps:Ce,getThumbProps:(P={})=>{const R=ft(P),O={onMouseOver:pt(R||{}),onMouseLeave:Pt(R||{})};return{...P,...R,...O}},marks:X,open:N,range:w,rootRef:de,trackLeap:Zt,trackOffset:Tt,values:L,getThumbStyle:P=>({pointerEvents:A!==-1&&A!==P?"none":void 0})}}const Li=t=>!t||!Ot(t);function Ni(t){return ie("MuiSlider",t)}const $e=ne("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),$i=t=>{const{open:r}=t;return{offset:K(r&&$e.valueLabelOpen),circle:$e.valueLabelCircle,label:$e.valueLabelLabel}};function zi(t){const{children:r,className:n,value:s}=t,o=$i(t);return r?d.cloneElement(r,{className:K(r.props.className)},e.jsxs(d.Fragment,{children:[r.props.children,e.jsx("span",{className:K(o.offset,n),"aria-hidden":!0,children:e.jsx("span",{className:o.circle,children:e.jsx("span",{className:o.label,children:s})})})]})):null}function os(t){return t}const Oi=z("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`color${Q(n.color)}`],n.size!=="medium"&&r[`size${Q(n.size)}`],n.marked&&r.marked,n.orientation==="vertical"&&r.vertical,n.track==="inverted"&&r.trackInverted,n.track===!1&&r.trackFalse]}})(te(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${$e.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${$e.dragging}`]:{[`& .${$e.thumb}, & .${$e.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(Ze()).map(([r])=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Fi=z("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,r)=>r.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Wi=z("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,r)=>r.track})(te(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(Ze()).map(([r])=>({props:{color:r,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${r}Track`],borderColor:t.vars.palette.Slider[`${r}Track`]}:{backgroundColor:bt(t.palette[r].main,.62),borderColor:bt(t.palette[r].main,.62),...t.applyStyles("dark",{backgroundColor:vt(t.palette[r].main,.5)}),...t.applyStyles("dark",{borderColor:vt(t.palette[r].main,.5)})}}}))]}))),Bi=z("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.thumb,r[`thumbColor${Q(n.color)}`],n.size!=="medium"&&r[`thumbSize${Q(n.size)}`]]}})(te(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${$e.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(Ze()).map(([r])=>({props:{color:r},style:{[`&:hover, &.${$e.focusVisible}`]:{...t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${xe(t.palette[r].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${$e.active}`]:{...t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${xe(t.palette[r].main,.16)}`}}}}))]}))),Vi=z(zi,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,r)=>r.valueLabel})(te(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${$e.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${$e.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Ui=z("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Cs(t)&&t!=="markActive",overridesResolver:(t,r)=>{const{markActive:n}=t;return[r.mark,n&&r.markActive]}})(te(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),Hi=z("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Cs(t)&&t!=="markLabelActive",overridesResolver:(t,r)=>r.markLabel})(te(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),Gi=t=>{const{disabled:r,dragging:n,marked:s,orientation:o,track:a,classes:i,color:l,size:c}=t,u={root:["root",r&&"disabled",n&&"dragging",s&&"marked",o==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",l&&`color${Q(l)}`,c&&`size${Q(c)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",r&&"disabled",c&&`thumbSize${Q(c)}`,l&&`thumbColor${Q(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return oe(u,Ni,i)},qi=({children:t})=>t,_i=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiSlider"}),o=ws(),{"aria-label":a,"aria-valuetext":i,"aria-labelledby":l,component:c="span",components:u={},componentsProps:h={},color:v="primary",classes:g,className:f,disableSwap:m=!1,disabled:x=!1,getAriaLabel:p,getAriaValueText:y,marks:b=!1,max:j=100,min:A=0,name:E,onChange:N,onChangeCommitted:D,orientation:F="horizontal",shiftStep:T=10,size:M="medium",step:$=1,scale:G=os,slotProps:I,slots:w,tabIndex:L,track:X="normal",value:q,valueLabelDisplay:W="off",valueLabelFormat:ee=os,...ce}=s,de={...s,isRtl:o,max:j,min:A,classes:g,disabled:x,disableSwap:m,orientation:F,marks:b,color:v,size:M,step:$,shiftStep:T,scale:G,track:X,valueLabelDisplay:W,valueLabelFormat:ee},{axisProps:Le,getRootProps:st,getHiddenInputProps:it,getThumbProps:ut,open:Z,active:ge,axis:he,focusedThumbIndex:Ie,range:Ae,dragging:Oe,marks:nt,values:ve,trackOffset:Yt,trackLeap:Tt,getThumbStyle:Zt}=Ei({...de,rootRef:n});de.marked=nt.length>0&&nt.some(ue=>ue.label),de.dragging=Oe,de.focusedThumbIndex=Ie;const Ce=Gi(de),pt=(w==null?void 0:w.root)??u.Root??Oi,Pt=(w==null?void 0:w.rail)??u.Rail??Fi,Jt=(w==null?void 0:w.track)??u.Track??Wi,Xt=(w==null?void 0:w.thumb)??u.Thumb??Bi,Qt=(w==null?void 0:w.valueLabel)??u.ValueLabel??Vi,P=(w==null?void 0:w.mark)??u.Mark??Ui,R=(w==null?void 0:w.markLabel)??u.MarkLabel??Hi,O=(w==null?void 0:w.input)??u.Input??"input",J=(I==null?void 0:I.root)??h.root,me=(I==null?void 0:I.rail)??h.rail,Y=(I==null?void 0:I.track)??h.track,Te=(I==null?void 0:I.thumb)??h.thumb,Re=(I==null?void 0:I.valueLabel)??h.valueLabel,be=(I==null?void 0:I.mark)??h.mark,Ue=(I==null?void 0:I.markLabel)??h.markLabel,ht=(I==null?void 0:I.input)??h.input,Qs=qe({elementType:pt,getSlotProps:st,externalSlotProps:J,externalForwardedProps:ce,additionalProps:{...Li(pt)&&{as:c}},ownerState:{...de,...J==null?void 0:J.ownerState},className:[Ce.root,f]}),Ks=qe({elementType:Pt,externalSlotProps:me,ownerState:de,className:Ce.rail}),en=qe({elementType:Jt,externalSlotProps:Y,additionalProps:{style:{...Le[he].offset(Yt),...Le[he].leap(Tt)}},ownerState:{...de,...Y==null?void 0:Y.ownerState},className:Ce.track}),Kt=qe({elementType:Xt,getSlotProps:ut,externalSlotProps:Te,ownerState:{...de,...Te==null?void 0:Te.ownerState},className:Ce.thumb}),tn=qe({elementType:Qt,externalSlotProps:Re,ownerState:{...de,...Re==null?void 0:Re.ownerState},className:Ce.valueLabel}),er=qe({elementType:P,externalSlotProps:be,ownerState:de,className:Ce.mark}),tr=qe({elementType:R,externalSlotProps:Ue,ownerState:de,className:Ce.markLabel}),rn=qe({elementType:O,getSlotProps:it,externalSlotProps:ht,ownerState:de});return e.jsxs(pt,{...Qs,children:[e.jsx(Pt,{...Ks}),e.jsx(Jt,{...en}),nt.filter(ue=>ue.value>=A&&ue.value<=j).map((ue,je)=>{const rr=Ht(ue.value,A,j),It=Le[he].offset(rr);let Ge;return X===!1?Ge=ve.includes(ue.value):Ge=X==="normal"&&(Ae?ue.value>=ve[0]&&ue.value<=ve[ve.length-1]:ue.value<=ve[0])||X==="inverted"&&(Ae?ue.value<=ve[0]||ue.value>=ve[ve.length-1]:ue.value>=ve[0]),e.jsxs(d.Fragment,{children:[e.jsx(P,{"data-index":je,...er,...!Ot(P)&&{markActive:Ge},style:{...It,...er.style},className:K(er.className,Ge&&Ce.markActive)}),ue.label!=null?e.jsx(R,{"aria-hidden":!0,"data-index":je,...tr,...!Ot(R)&&{markLabelActive:Ge},style:{...It,...tr.style},className:K(Ce.markLabel,tr.className,Ge&&Ce.markLabelActive),children:ue.label}):null]},je)}),ve.map((ue,je)=>{const rr=Ht(ue,A,j),It=Le[he].offset(rr),Ge=W==="off"?qi:Qt;return e.jsx(Ge,{...!Ot(Ge)&&{valueLabelFormat:ee,valueLabelDisplay:W,value:typeof ee=="function"?ee(G(ue),je):ee,index:je,open:Z===je||ge===je||W==="on",disabled:x},...tn,children:e.jsx(Xt,{"data-index":je,...Kt,className:K(Ce.thumb,Kt.className,ge===je&&Ce.active,Ie===je&&Ce.focusVisible),style:{...It,...Zt(je),...Kt.style},children:e.jsx(O,{"data-index":je,"aria-label":p?p(je):a,"aria-valuenow":G(ue),"aria-labelledby":l,"aria-valuetext":y?y(G(ue),je):i,value:ve[je],...rn})})},je)})]})});function Yi(t={}){const{autoHideDuration:r=null,disableWindowBlurListener:n=!1,onClose:s,open:o,resumeHideDuration:a}=t,i=fs();d.useEffect(()=>{if(!o)return;function y(b){b.defaultPrevented||b.key==="Escape"&&(s==null||s(b,"escapeKeyDown"))}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[o,s]);const l=gt((y,b)=>{s==null||s(y,b)}),c=gt(y=>{!s||y==null||i.start(y,()=>{l(null,"timeout")})});d.useEffect(()=>(o&&c(r),i.clear),[o,r,c,i]);const u=y=>{s==null||s(y,"clickaway")},h=i.clear,v=d.useCallback(()=>{r!=null&&c(a??r*.5)},[r,a,c]),g=y=>b=>{const j=y.onBlur;j==null||j(b),v()},f=y=>b=>{const j=y.onFocus;j==null||j(b),h()},m=y=>b=>{const j=y.onMouseEnter;j==null||j(b),h()},x=y=>b=>{const j=y.onMouseLeave;j==null||j(b),v()};return d.useEffect(()=>{if(!n&&o)return window.addEventListener("focus",v),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",h)}},[n,o,v,h]),{getRootProps:(y={})=>{const b={...ft(t),...ft(y)};return{role:"presentation",...y,...b,onBlur:g(b),onFocus:f(b),onMouseEnter:m(b),onMouseLeave:x(b)}},onClickAway:u}}function Zi(t){return ie("MuiSnackbarContent",t)}ne("MuiSnackbarContent",["root","message","action"]);const Ji=t=>{const{classes:r}=t;return oe({root:["root"],action:["action"],message:["message"]},Zi,r)},Xi=z(Se,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,r)=>r.root})(te(({theme:t})=>{const r=t.palette.mode==="light"?.8:.98,n=jn(t.palette.background.default,r);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Qi=z("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,r)=>r.message})({padding:"8px 0"}),Ki=z("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,r)=>r.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),el=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiSnackbarContent"}),{action:o,className:a,message:i,role:l="alert",...c}=s,u=s,h=Ji(u);return e.jsxs(Xi,{role:l,square:!0,elevation:6,className:K(h.root,a),ownerState:u,ref:n,...c,children:[e.jsx(Qi,{className:h.message,ownerState:u,children:i}),o?e.jsx(Ki,{className:h.action,ownerState:u,children:o}):null]})});function tl(t){return ie("MuiSnackbar",t)}ne("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const rl=t=>{const{classes:r,anchorOrigin:n}=t,s={root:["root",`anchorOrigin${Q(n.vertical)}${Q(n.horizontal)}`]};return oe(s,tl,r)},as=z("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`anchorOrigin${Q(n.anchorOrigin.vertical)}${Q(n.anchorOrigin.horizontal)}`]]}})(te(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:r})=>r.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:r})=>r.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:r})=>r.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:r})=>r.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:r})=>r.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),Lr=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiSnackbar"}),o=rt(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:l,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:h,className:v,ClickAwayListenerProps:g,ContentProps:f,disableWindowBlurListener:m=!1,message:x,onBlur:p,onClose:y,onFocus:b,onMouseEnter:j,onMouseLeave:A,open:E,resumeHideDuration:N,TransitionComponent:D=Kn,transitionDuration:F=a,TransitionProps:{onEnter:T,onExited:M,...$}={},...G}=s,I={...s,anchorOrigin:{vertical:l,horizontal:c},autoHideDuration:u,disableWindowBlurListener:m,TransitionComponent:D,transitionDuration:F},w=rl(I),{getRootProps:L,onClickAway:X}=Yi({...I}),[q,W]=d.useState(!0),ee=qe({elementType:as,getSlotProps:L,externalForwardedProps:G,ownerState:I,additionalProps:{ref:n},className:[w.root,v]}),ce=Le=>{W(!0),M&&M(Le)},de=(Le,st)=>{W(!1),T&&T(Le,st)};return!E&&q?null:e.jsx(Qn,{onClickAway:X,...g,children:e.jsx(as,{...ee,children:e.jsx(D,{appear:!0,in:E,timeout:F,direction:l==="top"?"down":"up",onEnter:de,onExited:ce,...$,children:h||e.jsx(el,{message:x,action:i,...f})})})})}),Ne=Sn({createStyledComponent:z("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,r)=>r.root}),useThemeProps:t=>re({props:t,name:"MuiStack"})});function sl(t){return ie("MuiSwitch",t)}const ke=ne("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),nl=t=>{const{classes:r,edge:n,size:s,color:o,checked:a,disabled:i}=t,l={root:["root",n&&`edge${Q(n)}`,`size${Q(s)}`],switchBase:["switchBase",`color${Q(o)}`,a&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=oe(l,sl,r);return{...r,...c}},ol=z("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.edge&&r[`edge${Q(n.edge)}`],r[`size${Q(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ke.thumb}`]:{width:16,height:16},[`& .${ke.switchBase}`]:{padding:4,[`&.${ke.checked}`]:{transform:"translateX(16px)"}}}}]}),al=z(eo,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.switchBase,{[`& .${ke.input}`]:r.input},n.color!=="default"&&r[`color${Q(n.color)}`]]}})(te(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${ke.checked}`]:{transform:"translateX(20px)"},[`&.${ke.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${ke.checked} + .${ke.track}`]:{opacity:.5},[`&.${ke.disabled} + .${ke.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${ke.input}`]:{left:"-100%",width:"300%"}})),te(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:xe(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Ze(["light"])).map(([r])=>({props:{color:r},style:{[`&.${ke.checked}`]:{color:(t.vars||t).palette[r].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:xe(t.palette[r].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ke.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${r}DisabledColor`]:`${t.palette.mode==="light"?bt(t.palette[r].main,.62):vt(t.palette[r].main,.55)}`}},[`&.${ke.checked} + .${ke.track}`]:{backgroundColor:(t.vars||t).palette[r].main}}}))]}))),il=z("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,r)=>r.track})(te(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),ll=z("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,r)=>r.thumb})(te(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),cl=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiSwitch"}),{className:o,color:a="primary",edge:i=!1,size:l="medium",sx:c,...u}=s,h={...s,color:a,edge:i,size:l},v=nl(h),g=e.jsx(ll,{className:v.thumb,ownerState:h});return e.jsxs(ol,{className:K(v.root,o),sx:c,ownerState:h,children:[e.jsx(al,{type:"checkbox",icon:g,checkedIcon:g,ref:n,ownerState:h,...u,classes:{...v,root:v.switchBase}}),e.jsx(il,{className:v.track,ownerState:h})]})});function dl(t){return ie("MuiTable",t)}ne("MuiTable",["root","stickyHeader"]);const ul=t=>{const{classes:r,stickyHeader:n}=t;return oe({root:["root",n&&"stickyHeader"]},dl,r)},pl=z("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.stickyHeader&&r.stickyHeader]}})(te(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:r})=>r.stickyHeader,style:{borderCollapse:"separate"}}]}))),is="table",Qe=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiTable"}),{className:o,component:a=is,padding:i="normal",size:l="medium",stickyHeader:c=!1,...u}=s,h={...s,component:a,padding:i,size:l,stickyHeader:c},v=ul(h),g=d.useMemo(()=>({padding:i,size:l,stickyHeader:c}),[i,l,c]);return e.jsx(to.Provider,{value:g,children:e.jsx(pl,{as:a,role:a===is?null:"table",ref:n,className:K(v.root,o),ownerState:h,...u})})});function hl(t){return ie("MuiTableBody",t)}ne("MuiTableBody",["root"]);const ml=t=>{const{classes:r}=t;return oe({root:["root"]},hl,r)},xl=z("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,r)=>r.root})({display:"table-row-group"}),gl={variant:"body"},ls="tbody",Ke=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiTableBody"}),{className:o,component:a=ls,...i}=s,l={...s,component:a},c=ml(l);return e.jsx(Cr.Provider,{value:gl,children:e.jsx(xl,{className:K(c.root,o),as:a,ref:n,role:a===ls?null:"rowgroup",ownerState:l,...i})})});function fl(t){return ie("MuiTableContainer",t)}ne("MuiTableContainer",["root"]);const yl=t=>{const{classes:r}=t;return oe({root:["root"]},fl,r)},vl=z("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,r)=>r.root})({width:"100%",overflowX:"auto"}),et=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiTableContainer"}),{className:o,component:a="div",...i}=s,l={...s,component:a},c=yl(l);return e.jsx(vl,{ref:n,as:a,className:K(c.root,o),ownerState:l,...i})});function bl(t){return ie("MuiTableHead",t)}ne("MuiTableHead",["root"]);const jl=t=>{const{classes:r}=t;return oe({root:["root"]},bl,r)},Sl=z("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,r)=>r.root})({display:"table-header-group"}),wl={variant:"head"},cs="thead",tt=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiTableHead"}),{className:o,component:a=cs,...i}=s,l={...s,component:a},c=jl(l);return e.jsx(Cr.Provider,{value:wl,children:e.jsx(Sl,{as:a,className:K(c.root,o),ref:n,role:a===cs?null:"rowgroup",ownerState:l,...i})})});function Cl(t){return ie("MuiTableRow",t)}const ds=ne("MuiTableRow",["root","selected","hover","head","footer"]),kl=t=>{const{classes:r,selected:n,hover:s,head:o,footer:a}=t;return oe({root:["root",n&&"selected",s&&"hover",o&&"head",a&&"footer"]},Cl,r)},Dl=z("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.head&&r.head,n.footer&&r.footer]}})(te(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${ds.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ds.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:xe(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:xe(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),us="tr",le=d.forwardRef(function(r,n){const s=re({props:r,name:"MuiTableRow"}),{className:o,component:a=us,hover:i=!1,selected:l=!1,...c}=s,u=d.useContext(Cr),h={...s,component:a,hover:i,selected:l,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},v=kl(h);return e.jsx(Dl,{as:a,ref:n,className:K(v.root,o),role:a===us?null:"row",ownerState:h,...c})});function Nr({showBadge:t=!1,...r}){return e.jsx(ro,{color:"error",variant:"dot",invisible:!t,sx:{[`& .${so.badge}`]:{right:2,top:2}},children:e.jsx(Pe,{size:"small",...r})})}const Ws=d.createContext(void 0),Tl=({children:t})=>{const[r,n]=d.useState(()=>sessionStorage.getItem("isAuthenticated")==="true"),[s,o]=d.useState(()=>{const p=sessionStorage.getItem("user");return p?JSON.parse(p):null}),[a,i]=d.useState(()=>sessionStorage.getItem("viewRole")||null),[l,c]=d.useState(!r),u={purchaseConfirmation:!0,pointEarned:!0,pointBalanceDrop:!0,orderIssue:!0,systemDrop:!0,applicationApproved:!0},[h,v]=d.useState(()=>{const p=localStorage.getItem("notifySettings");return p?JSON.parse(p):u}),g=(p,y)=>{p==="systemDrop"||p==="applicationApproved"||v(b=>{const j={...b,[p]:y};return localStorage.setItem("notifySettings",JSON.stringify(j)),j})},f=d.useCallback(p=>{i(p),p?sessionStorage.setItem("viewRole",p):sessionStorage.removeItem("viewRole")},[]);d.useEffect(()=>{r?c(!1):m()},[]);const m=async()=>{c(!0);try{const p=await B.get("/api/user/currentuser",{withCredentials:!0}),y=p.data;p.data.userType==="Sponsor"&&p.data.sponsorDetails&&(y.sponsorDetails={sponsorID:y.sponsorDetails.sponsorID,companyName:y.sponsorDetails.companyName,isPrimarySponsor:y.sponsorDetails.isPrimarySponsor,joinDate:y.sponsorDetails.joinDate,sponsorRole:y.sponsorDetails.sponsorRole}),o(p.data),n(!0),sessionStorage.setItem("user",JSON.stringify(p.data)),sessionStorage.setItem("isAuthenticated","true")}catch{o(null),n(!1),sessionStorage.removeItem("user"),sessionStorage.removeItem("isAuthenticated")}finally{c(!1)}},x=async()=>{if(!s||!s.userType){sessionStorage.clear(),f(null),n(!1);return}try{await B.post("/api/system/logout",{},{withCredentials:!0}),o(null),n(!1),f(null),sessionStorage.clear()}catch{}};return e.jsx(Ws.Provider,{value:{user:s,isAuthenticated:r,isLoading:l,viewRole:a,setViewRole:f,checkAuth:m,logout:x,notifySettings:h,updateNotifySetting:g},children:t})},ze=()=>{const t=d.useContext(Ws);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Bs=d.createContext(void 0),Vs=()=>{const t=d.useContext(Bs);if(!t)throw new Error("useView must be used within a ViewProvider");return t},Pl=({children:t})=>{const[r,n]=d.useState("MAIN");return e.jsx(Bs.Provider,{value:{currentView:r,setCurrentView:n},children:t})},ps={base:[{text:"Dashboard",icon:e.jsx(Mn,{}),view:"MAIN"}],Guest:[{text:"Applications",icon:e.jsx(sr,{}),view:"DRIVER_APPLICATION"}],Driver:[{text:"Applications",icon:e.jsx(sr,{}),view:"DRIVER_APPLICATION"},{text:"Product Catalog",icon:e.jsx(zr,{}),path:"/catalog"},{text:"Points",icon:e.jsx(At,{}),view:"DRIVER_POINTS"},{text:"Activity",icon:e.jsx(At,{}),view:"DRIVER_ACTIVITY"},{text:"Profile",icon:e.jsx(At,{}),view:"PROFILE"}],Admin:[{text:"Manage Users",icon:e.jsx(Or,{}),nestedItems:[{text:"Drivers",icon:e.jsx(nr,{}),view:"MANAGE_DRIVERS"},{text:"Sponsors",icon:e.jsx(nr,{}),view:"MANAGE_SPONSORS"},{text:"Admins",icon:e.jsx(nr,{}),view:"MANAGE_ADMINS"}]},{text:"Reports Views",icon:e.jsx(Fr,{fontWeight:"large"}),nestedItems:[{text:"General",icon:e.jsx(En,{fontWeight:"medium"}),view:"ADMIN_REPORTS"},{text:"Audits",icon:e.jsx(Wr,{fontWeight:"medium"}),view:"ADMIN_AUDIT_REPORTS"}]},{text:"Console",icon:e.jsx(Ts,{}),view:"ADMIN_CONSOLE"}],Sponsor:[{text:"Manage Drivers",icon:e.jsx(Or,{}),view:"SPONSOR_DRIVERS"},{text:"Approve/Reject Applications",icon:e.jsx(sr,{}),view:"APPLICATION_MANAGER"},{text:"Product Catalog",icon:e.jsx(zr,{}),path:"/catalog"},{text:"Reports Views",icon:e.jsx(Fr,{fontWeight:"large"}),nestedItems:[{text:"General",icon:e.jsx(At,{}),view:"SPONSOR_REPORTS"},{text:"Audits",icon:e.jsx(Wr,{fontWeight:"medium"}),view:"SPONSOR_AUDIT_REPORTS"}]}]};function Us(){const{setCurrentView:t}=Vs(),{user:r,viewRole:n}=ze(),s=dt(),o=n||(r==null?void 0:r.userType)||"Guest",[a,i]=d.useState({}),l=[...ps.base,...ps[o]||[]],c=h=>{i(v=>({...v,[h]:!v[h]}))},u=(h,v)=>{v?s(v):h&&t(h)};return e.jsx(ur,{dense:!0,children:l.map((h,v)=>e.jsxs(d.Fragment,{children:[e.jsx(pr,{disablePadding:!0,children:e.jsxs(Hr,{onClick:()=>h.nestedItems?c(h.text):u(h.view,h.path),children:[e.jsx(Gr,{children:h.icon}),e.jsx(Vt,{primary:h.text}),h.nestedItems?a[h.text]?e.jsx(Rn,{}):e.jsx(Ds,{}):null]})}),h.nestedItems&&e.jsx(St,{in:a[h.text],timeout:"auto",unmountOnExit:!0,children:e.jsx(ur,{component:"div",disablePadding:!0,children:h.nestedItems.map((g,f)=>e.jsx(pr,{disablePadding:!0,children:e.jsxs(Hr,{onClick:()=>u(g.view,g.path),children:[e.jsx(Gr,{children:g.icon}),e.jsx(Vt,{primary:g.text})]})},f))})})]},v))})}function Il(){return e.jsx(fe,{variant:"outlined",sx:{m:1.5,p:1.5},children:e.jsxs(ye,{children:[e.jsx(Ln,{fontSize:"small"}),e.jsx(S,{gutterBottom:!0,sx:{fontWeight:600},children:"Something"}),e.jsx(S,{variant:"body2",sx:{mb:2,color:"text.secondary"},children:"Earn points by driving safe!"}),e.jsx(_,{variant:"contained",size:"small",fullWidth:!0,children:"Make the pledge"})]})})}function Al({open:t,toggleDrawer:r}){const{user:n,viewRole:s,logout:o}=ze(),a=s?{userName:`Viewing as ${s}`,email:`${s.toLowerCase()}@example.com`,userType:s}:n;return e.jsx(zs,{anchor:"right",open:t,onClose:r(!1),sx:{zIndex:i=>i.zIndex.drawer+1,[`& .${Ka.paper}`]:{backgroundImage:"none",backgroundColor:"background.paper"}},children:e.jsxs(Ne,{sx:{maxWidth:"70dvw",height:"100%"},children:[e.jsxs(Ne,{direction:"row",sx:{p:2,pb:0,gap:1},children:[a?e.jsxs(Ne,{direction:"row",sx:{gap:1,alignItems:"center",flexGrow:1,p:1},children:[e.jsx(Rr,{alt:a.userName,src:"/static/images/avatar/7.jpg",sx:{width:24,height:24}}),e.jsx(S,{component:"p",variant:"h6",children:a.userName})]}):e.jsx(S,{variant:"body2",sx:{flexGrow:1,p:1},children:"Please log in to access more features."}),e.jsx(Nr,{showBadge:!0,children:e.jsx(Nn,{})})]}),e.jsx(Je,{}),e.jsxs(Ne,{sx:{flexGrow:1},children:[e.jsx(Us,{}),e.jsx(Je,{})]}),e.jsx(Il,{}),a&&e.jsx(Ne,{sx:{p:2},children:e.jsx(_,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(Ps,{}),onClick:o,children:"Logout"})})]})})}function Rl(t){const{mode:r,systemMode:n,setMode:s}=no(),o=rt(),[a,i]=d.useState(null),l=!!a,c=f=>{i(f.currentTarget)},u=()=>{i(null)},h=f=>()=>{s(f),u()};if(!r)return e.jsx(C,{"data-screenshot":"toggle-mode",sx:{verticalAlign:"bottom",display:"inline-flex",width:"2.25rem",height:"2.25rem",borderRadius:o.shape.borderRadius,border:"1px solid",borderColor:o.palette.divider}});const g=(n||r)==="light"?e.jsx($n,{}):e.jsx(zn,{});return e.jsxs(d.Fragment,{children:[e.jsx(Pe,{"data-screenshot":"toggle-mode",onClick:c,disableRipple:!0,size:"small","aria-controls":l?"color-scheme-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,...t,children:g}),e.jsxs(As,{anchorEl:a,id:"color-scheme-menu",open:l,onClose:u,onClick:u,PaperProps:{variant:"outlined",sx:{my:"4px"}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsx(V,{selected:r==="system",onClick:h("system"),children:"System"}),e.jsx(V,{selected:r==="light",onClick:h("light"),children:"Light"}),e.jsx(V,{selected:r==="dark",onClick:h("dark"),children:"Dark"})]})]})}function Ml(){const[t,r]=d.useState(!1);ze();const n=s=>()=>{r(s)};return e.jsx(Es,{position:"fixed",sx:{zIndex:s=>s.zIndex.drawer+1,boxShadow:0,bgcolor:"background.paper",borderBottom:"1px solid",borderColor:"divider",maxWidth:"100vw",overflow:"hidden"},children:e.jsxs(kr,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:1,maxWidth:"100%",overflow:"hidden"},children:[e.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,flexShrink:0},children:[e.jsx(El,{}),e.jsx(S,{variant:"h5",component:"a",href:"/",sx:{color:"text.primary",textDecoration:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"GitGud Drivers"})]}),e.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:{xs:1,md:2},flexWrap:"wrap",justifyContent:"flex-end",width:{xs:"100%",md:"auto"}},children:[e.jsx(S,{component:at,to:"/about",sx:{color:"text.primary",textDecoration:"none",fontSize:{xs:"0.9rem",md:"1rem"},whiteSpace:"nowrap"},children:"About"}),e.jsx(S,{component:at,to:"/faq",sx:{color:"text.primary",textDecoration:"none",fontSize:{xs:"0.9rem",md:"1rem"},whiteSpace:"nowrap"},children:"FAQ"}),e.jsx(Rl,{}),e.jsxs(C,{sx:{display:{xs:"block",md:"none"}},children:[e.jsx(Nr,{"aria-label":"menu",onClick:n(!0),children:e.jsx(On,{})}),e.jsx(Al,{open:t,toggleDrawer:n})]})]})]})})}function El(){return e.jsx(C,{sx:{width:"1.5rem",height:"1.5rem",bgcolor:"black",borderRadius:"999px",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(135deg, hsl(210, 98%, 60%) 0%, hsl(210, 100%, 35%) 100%)",color:"hsla(210, 100%, 95%, 0.9)",border:"1px solid",borderColor:"hsl(210, 100%, 55%)",boxShadow:"inset 0 2px 5px rgba(255, 255, 255, 0.3)"},children:e.jsx(Fn,{color:"inherit",sx:{fontSize:"1rem"}})})}const se=vr(),hs=[...se.shadows],ae={50:"hsl(210, 100%, 95%)",100:"hsl(210, 100%, 92%)",200:"hsl(210, 100%, 80%)",300:"hsl(210, 100%, 65%)",400:"hsl(210, 98%, 48%)",500:"hsl(210, 98%, 42%)",600:"hsl(210, 98%, 55%)",700:"hsl(210, 100%, 35%)",800:"hsl(210, 100%, 16%)",900:"hsl(210, 100%, 21%)"},pe={50:"hsl(220, 35%, 97%)",100:"hsl(220, 30%, 94%)",200:"hsl(220, 20%, 88%)",300:"hsl(220, 20%, 80%)",400:"hsl(220, 20%, 65%)",500:"hsl(220, 20%, 42%)",600:"hsl(220, 20%, 35%)",700:"hsl(220, 20%, 25%)",800:"hsl(220, 30%, 6%)",900:"hsl(220, 35%, 3%)"},_e={50:"hsl(120, 80%, 98%)",100:"hsl(120, 75%, 94%)",200:"hsl(120, 75%, 87%)",300:"hsl(120, 61%, 77%)",400:"hsl(120, 44%, 53%)",500:"hsl(120, 59%, 30%)",600:"hsl(120, 70%, 25%)",700:"hsl(120, 75%, 16%)",800:"hsl(120, 84%, 10%)",900:"hsl(120, 87%, 6%)"},We={50:"hsl(45, 100%, 97%)",100:"hsl(45, 92%, 90%)",200:"hsl(45, 94%, 80%)",300:"hsl(45, 90%, 65%)",400:"hsl(45, 90%, 40%)",500:"hsl(45, 90%, 35%)",600:"hsl(45, 91%, 25%)",700:"hsl(45, 94%, 20%)",800:"hsl(45, 95%, 16%)",900:"hsl(45, 93%, 12%)"},Ye={50:"hsl(0, 100%, 97%)",100:"hsl(0, 92%, 90%)",200:"hsl(0, 94%, 80%)",300:"hsl(0, 90%, 65%)",400:"hsl(0, 90%, 40%)",500:"hsl(0, 90%, 30%)",600:"hsl(0, 91%, 25%)",700:"hsl(0, 94%, 18%)",800:"hsl(0, 95%, 12%)",900:"hsl(0, 93%, 6%)"},Ll=t=>(hs[1]="hsla(220, 30%, 5%, 0.07) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.07) 0px 8px 16px -5px",{palette:{mode:t,primary:{light:ae[200],main:ae[400],dark:ae[700],contrastText:ae[50],...t==="dark"},info:{light:ae[100],main:ae[300],dark:ae[600],contrastText:pe[50],...t==="dark"},warning:{light:We[300],main:We[400],dark:We[800],...t==="dark"},error:{light:Ye[300],main:Ye[400],dark:Ye[800],...t==="dark"},success:{light:_e[300],main:_e[400],dark:_e[800],...t==="dark"},grey:{...pe},divider:xe(pe[300],.4),background:{default:"hsl(0, 0%, 99%)",paper:"hsl(220, 35%, 97%)",...t==="dark"},text:{primary:pe[800],secondary:pe[600],warning:We[400],...t==="dark"},action:{hover:xe(pe[200],.2),selected:`${xe(pe[200],.3)}`,...t==="dark"}},typography:{fontFamily:['"Inter", "sans-serif"'].join(","),h1:{fontSize:se.typography.pxToRem(48),fontWeight:600,lineHeight:1.2,letterSpacing:-.5},h2:{fontSize:se.typography.pxToRem(36),fontWeight:600,lineHeight:1.2},h3:{fontSize:se.typography.pxToRem(30),lineHeight:1.2},h4:{fontSize:se.typography.pxToRem(24),fontWeight:600,lineHeight:1.5},h5:{fontSize:se.typography.pxToRem(20),fontWeight:600},h6:{fontSize:se.typography.pxToRem(18),fontWeight:600},subtitle1:{fontSize:se.typography.pxToRem(18)},subtitle2:{fontSize:se.typography.pxToRem(14),fontWeight:500},body1:{fontSize:se.typography.pxToRem(14)},body2:{fontSize:se.typography.pxToRem(14),fontWeight:400},caption:{fontSize:se.typography.pxToRem(12),fontWeight:400}},shape:{borderRadius:8},shadows:hs});ae[200],ae[400],ae[700],ae[50],ae[100],ae[300],ae[600],pe[50],We[300],We[400],We[800],Ye[300],Ye[400],Ye[800],_e[300],_e[400],_e[800],{...pe},xe(pe[300],.4),pe[800],pe[600],We[400],xe(pe[200],.2),`${xe(pe[200],.3)}`,ae[50],ae[300],ae[400],ae[700],ae[300],ae[500],ae[700],ae[900],We[400],We[500],We[700],Ye[400],Ye[500],Ye[700],_e[400],_e[500],_e[700],{...pe},xe(pe[700],.6),pe[900],pe[400],xe(pe[600],.2),xe(pe[600],.3);['"Inter", "sans-serif"'].join(","),se.typography.pxToRem(48),se.typography.pxToRem(36),se.typography.pxToRem(30),se.typography.pxToRem(24),se.typography.pxToRem(20),se.typography.pxToRem(18),se.typography.pxToRem(18),se.typography.pxToRem(14),se.typography.pxToRem(14),se.typography.pxToRem(14),se.typography.pxToRem(12);[...se.shadows.slice(2)];const Hs=t=>{switch(t){case"highContrast":return{palette:{text:{primary:"hsl(0, 0%, 100%)",secondary:"hsl(0, 0%, 90%)"},background:{default:"hsl(0, 0%, 10%)",paper:"hsl(0, 0%, 15%)"}},typography:{fontSize:16}};case"RGColorblind":return{palette:{primary:{main:"hsl(210, 79%, 46%)"},secondary:{main:"hsl(51, 100%, 50%)"}}};case"monochrome":return{palette:{primary:{main:"hsl(0, 0%, 50%)"},text:{primary:"hsl(0, 0%, 20%)",secondary:"hsl(0, 0%, 50%)"}}};default:return{}}},Gs=d.createContext(void 0),Nl=()=>{const t=d.useContext(Gs);if(!t)throw new Error("useAppTheme must be used within an AppThemeProvider");return t},$l=({children:t})=>{const[r,n]=d.useState(14),[s,o]=d.useState(Hs("default")),a=d.useMemo(()=>{const l=Ll("light"),c=wn(l,s||{});return vr({...c,cssVariables:{colorSchemeSelector:"data-mui-color-scheme",cssVarPrefix:"template"}})},[r,s]),i=d.useMemo(()=>({fontSize:r,setFontSize:n,accessibleTokens:s,setAccessibleTokens:o}),[r,s]);return e.jsx(Gs.Provider,{value:i,children:e.jsxs(oo,{theme:a,children:[e.jsx(Mr,{}),t]})})},zl=z(V)({margin:"2px"}),ir=d.forwardRef(({to:t,children:r,onClick:n},s)=>e.jsx(V,{component:at,to:t,ref:s,onClick:n,children:r}));function Ol(){const[t,r]=d.useState(null),{logout:n}=ze(),s=!!t,o=l=>{r(l.currentTarget)},a=()=>{r(null)},i=()=>{n(),a()};return e.jsxs(e.Fragment,{children:[e.jsx(Nr,{"aria-label":"Open menu",onClick:o,sx:{borderColor:"transparent"},children:e.jsx(Wn,{})}),e.jsxs(As,{anchorEl:t,id:"menu",open:s,onClose:a,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},sx:{"& .MuiList-root":{padding:"4px"},"& .MuiPaper-root":{padding:0}},children:[e.jsx(ir,{to:"/profile",onClick:a,children:"Profile"}),e.jsx(Je,{}),e.jsx(ir,{to:"/settings",onClick:a,children:"Settings"}),e.jsx(ir,{to:"/feedback",onClick:a,children:"Feedback"}),e.jsx(Je,{}),e.jsxs(zl,{onClick:i,children:[e.jsx(Ps,{fontSize:"small"}),e.jsx(Vt,{children:"Logout"})]})]})]})}const ms=240;function Fl(){const{user:t,viewRole:r}=ze(),n=r?{userName:`Viewing as ${r}`,email:`${r.toLowerCase()}@example.com`,userType:r}:t;return e.jsxs(C,{sx:{display:"flex"},children:[e.jsx(Mr,{}),e.jsx(Es,{position:"fixed",sx:{zIndex:s=>s.zIndex.drawer+1}}),e.jsxs(zs,{variant:"permanent",sx:{display:{xs:"none",md:"block"},width:ms,flexShrink:0,"& .MuiDrawer-paper":{width:ms,boxSizing:"border-box"}},children:[e.jsx(kr,{}),e.jsx(C,{sx:{overflow:"auto"},children:n&&e.jsxs(e.Fragment,{children:[e.jsxs(C,{sx:{display:"flex",alignItems:"center",p:2},children:[e.jsx(Rr,{alt:n.userName,src:"/static/images/avatar/7.jpg",sx:{width:36,height:36}}),e.jsxs(C,{sx:{ml:2},children:[e.jsx(S,{variant:"body2",sx:{fontWeight:500,lineHeight:"16px"},children:n.userName}),e.jsx(S,{variant:"caption",sx:{color:"text.secondary"},children:n.email})]}),e.jsx(Ol,{})]}),e.jsx(Je,{}),e.jsx(Us,{})]})})]})]})}const qs=d.createContext(null),Wl=({children:t})=>{const r=d.useRef(null),n=(o,a="polite")=>{r.current&&(r.current.setAttribute("aria-live",a),r.current.textContent=o,setTimeout(()=>{r.current&&(r.current.textContent="")},1e3))},s=o=>{const a=document.querySelector(o);a&&(a.focus(),n(`Focused ${a.getAttribute("aria-label")||"element"}`))};return d.useEffect(()=>{const o=a=>{var i;if(a.altKey)switch(a.key){case"h":a.preventDefault(),s("#dashboard-home");break;case"m":a.preventDefault(),s("#main-content");break;case"n":a.preventDefault(),s('[role="navigation"]');break;case"s":a.preventDefault(),s('[role="search"]');break}a.key==="Escape"&&((i=document.querySelector('[role="dialog"] [aria-label="Close"]'))==null||i.click())};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[]),e.jsxs(qs.Provider,{value:{announce:n,focusElement:s},children:[e.jsx("div",{ref:r,"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}}),t]})},Bl=()=>{const t=d.useContext(qs);if(!t)throw new Error("useAccessibility must be used within an AccessibilityProvider");return t},Vl=()=>{const t=dt();return e.jsxs(Dt,{maxWidth:"lg",component:"main",role:"main","aria-label":"Git Gud Drivers Homepage",children:[e.jsxs(C,{component:"section","aria-labelledby":"hero-title",sx:{textAlign:"center",py:8,backgroundColor:"background.paper",borderRadius:2,mb:4},children:[e.jsx(S,{variant:"h2",component:"h1",gutterBottom:!0,id:"hero-title",children:"Git Gud Drivers"}),e.jsx(S,{variant:"h5",color:"text.secondary",paragraph:!0,component:"p",children:"A rewards program for professional drivers committed to excellence"}),e.jsxs(C,{role:"navigation","aria-label":"Account access",children:[e.jsx(_,{variant:"contained",size:"large",onClick:()=>t("/register"),sx:{mr:2,minHeight:"44px",minWidth:"88px"},"aria-label":"Sign up for Git Gud Drivers",children:"Sign Up"}),e.jsx(_,{variant:"outlined",size:"large",onClick:()=>t("/login"),sx:{minHeight:"44px",minWidth:"88px"},"aria-label":"Sign in to your account",children:"Sign In"})]})]}),e.jsx(U,{container:!0,spacing:4,sx:{mb:6},justifyContent:"center",alignItems:"center",component:"section","aria-labelledby":"how-it-works-title",children:e.jsxs(U,{item:!0,xs:12,md:4,component:"article",role:"article",children:[e.jsx(S,{variant:"h5",gutterBottom:!0,component:"h2",id:"how-it-works-title",children:"How It Works"}),e.jsxs(C,{component:"ol",sx:{listStyleType:"decimal",pl:3,mb:2},"aria-label":"Steps to join Git Gud Drivers",children:[e.jsx("li",{children:"Apply as a driver"}),e.jsx("li",{children:"Get approved by a sponsor"}),e.jsx("li",{children:"Start earning points"}),e.jsx("li",{children:"Redeem rewards"})]}),e.jsx(S,{variant:"h6",gutterBottom:!0,component:"p",sx:{mt:2},children:"We hope to see you soon!"})]})})]})},ot=({title:t,value:r})=>e.jsxs(C,{sx:{mb:1},children:[e.jsxs(S,{variant:"body1",component:"span",fontWeight:"bold",children:[t,":"]}),e.jsx(S,{variant:"body1",component:"span",sx:{ml:1},children:r})]}),Ul=()=>{const[t,r]=d.useState(null),[n,s]=d.useState(null),[o,a]=d.useState(!0);return d.useEffect(()=>{(async()=>{try{const l=await B.get("/api/system/about",{withCredentials:!0});r(l.data)}catch(l){s(l.message)}finally{a(!1)}})()},[]),o?e.jsx(Xe,{}):n?e.jsxs(S,{color:"error",children:["Error: ",n]}):t?e.jsxs(C,{sx:{maxWidth:600,margin:"auto",p:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(S,{variant:"h4",gutterBottom:!0,children:"About Information"}),e.jsxs(C,{sx:{p:2,mb:2,border:1,borderColor:"divider",borderRadius:2},children:[e.jsx(ot,{title:"Team",value:t.team}),e.jsx(ot,{title:"Version",value:t.version.toString()}),e.jsx(ot,{title:"Release Date",value:new Date(t.release).toLocaleDateString()}),e.jsx(ot,{title:"Product",value:t.product}),e.jsx(ot,{title:"Description",value:t.description})]})]}):e.jsx(S,{children:"No information available."})},Hl=()=>{const t=dt(),r=ks(),{checkAuth:n}=ze(),s=new URLSearchParams(r.search),o=s.get("step")==="2fa"?"2fa":"login",a=s.get("userId"),[i,l]=d.useState(o),[c,u]=d.useState(a||null),[h,v]=d.useState(!1),[g,f]=d.useState(""),[m,x]=d.useState(""),[p,y]=d.useState(""),[b,j]=d.useState(null);d.useEffect(()=>{o==="2fa"&&a&&(l("2fa"),u(a))},[o,a]);const A=async N=>{var D,F;N.preventDefault(),v(!0),j(null);try{const T=await B.post("/api/system/login",{username:g,password:m});T.data.requiresTwoFactor?(l("2fa"),u(T.data.userId.toString()),t(`/login?step=2fa&userId=${T.data.userId}`,{replace:!0})):T.data.succeeded?(await n(),t("/dashboard")):j(T.data.message||"Login failed. Please try again.")}catch(T){j(((F=(D=T.response)==null?void 0:D.data)==null?void 0:F.message)||"Login failed. Please try again.")}finally{v(!1)}},E=async N=>{var D,F;N.preventDefault(),v(!0);try{const T=await B.post("/api/system/verify-2fa",{userId:String(c),code:p},{withCredentials:!0});T.data.succeeded?(await n(),t("/dashboard")):j(T.data.message||"Invalid 2FA code. Please try again.")}catch(T){j(((F=(D=T.response)==null?void 0:D.data)==null?void 0:F.message)||"2FA verification failed. Please try again.")}finally{v(!1)}};return e.jsxs(C,{component:"form",onSubmit:i==="login"?A:E,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,margin:"auto",padding:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(S,{variant:"h4",component:"h1",gutterBottom:!0,children:i==="login"?"Login":"2FA Verification"}),b&&e.jsx(we,{severity:"error",sx:{mb:2},children:b}),i==="login"?e.jsxs(e.Fragment,{children:[e.jsx(H,{label:"Username",variant:"outlined",margin:"normal",fullWidth:!0,autoComplete:"username",value:g,onChange:N=>f(N.target.value),required:!0}),e.jsx(H,{label:"Password",type:"password",variant:"outlined",margin:"normal",fullWidth:!0,autoComplete:"current-password",value:m,onChange:N=>x(N.target.value),required:!0})]}):e.jsx(H,{label:"2FA Code",variant:"outlined",margin:"normal",fullWidth:!0,value:p,onChange:N=>y(N.target.value),required:!0}),e.jsx(_,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,sx:{mt:3,mb:2},disabled:h,children:h?e.jsx(Xe,{size:24}):i==="login"?"Log In":"Verify 2FA"}),i==="login"&&e.jsxs(C,{sx:{textAlign:"center",mt:2},children:[e.jsx(gr,{component:at,to:"/register",variant:"body2",sx:{display:"block",mb:1},children:"Don't have an account? Sign Up"}),e.jsx(gr,{component:at,to:"/reset-password",variant:"body2",children:"Forgot Password? Click here to Reset it"})]})]})},Gl=t=>{const[r,n]=d.useState(0);return d.useEffect(()=>{n((o=>{let a=0;return o.length>=8&&(a+=1),/[A-Z]/.test(o)&&(a+=1),/[0-9]/.test(o)&&(a+=1),/[^A-Za-z0-9]/.test(o)&&(a+=1),a/4*100})(t))},[t]),r},ql=t=>t.length<8?"Password must be at least 8 characters long.":/[A-Z]/.test(t)?/[0-9]/.test(t)?/[^A-Za-z0-9]/.test(t)?null:"Password must contain at least one special character.":"Password must contain at least one number.":"Password must contain at least one uppercase letter.",_l=()=>{const[t,r]=d.useState(""),[n,s]=d.useState(""),[o,a]=d.useState(""),[i,l]=d.useState(!1),[c,u]=d.useState(!1),[h,v]=d.useState(null),[g,f]=d.useState(null),m=Gl(o),x=dt(),p=async b=>{var A,E;b.preventDefault(),v(null),f(null);const j=ql(o);if(j){f(j);return}u(!0);try{const N=await B.post("/api/system/register",{username:t,email:n,password:o,enable2FA:i}),D=await B.post("/api/system/login",{username:t,password:o});N.data.requiresTwoFactor?x(`/login?step=2fa&userId=${N.data.userId}`):x("/dashboard")}catch(N){v(((E=(A=N.response)==null?void 0:A.data)==null?void 0:E.message)||"Registration failed. Please try again.")}finally{u(!1)}},y=b=>b<33?"error":b<66?"warning":"success";return e.jsxs(C,{component:"form",onSubmit:p,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,margin:"auto",padding:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(S,{variant:"h4",component:"h1",gutterBottom:!0,children:"Create Account"}),h&&e.jsx(we,{severity:"error",children:h}),g&&e.jsx(we,{severity:"warning",children:g}),e.jsx(H,{label:"Username",variant:"outlined",margin:"normal",fullWidth:!0,value:t,onChange:b=>r(b.target.value),required:!0}),e.jsx(H,{label:"Email",type:"email",variant:"outlined",margin:"normal",fullWidth:!0,value:n,onChange:b=>s(b.target.value),required:!0}),e.jsx(H,{label:"Password",type:"password",variant:"outlined",margin:"normal",fullWidth:!0,value:o,onChange:b=>a(b.target.value),required:!0}),e.jsxs(C,{sx:{width:"100%",mt:1},children:[e.jsx(He,{variant:"determinate",value:m,color:y(m)}),e.jsxs(S,{variant:"body2",sx:{mt:1},children:["Password strength: ",m<33?"Weak":m<66?"Medium":"Strong"]})]}),e.jsx(_t,{control:e.jsx(Dr,{checked:i,onChange:b=>l(b.target.checked),color:"primary"}),label:"Enable Two-Factor Authentication (2FA)"}),e.jsx(_,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,sx:{mt:3,mb:2},disabled:c,children:c?e.jsx(Xe,{size:24}):"Register"}),e.jsx(gr,{component:at,to:"/login",variant:"body2",children:"Already have an account? Sign in"})]})},Yl=()=>{const[t,r]=d.useState([]),[n,s]=d.useState([]),[o,a]=d.useState(""),[i,l]=d.useState(!0),[c,u]=d.useState(null),[h,v]=d.useState(null),[g,f]=d.useState(!1);d.useEffect(()=>{m()},[]);const m=async()=>{var b;try{const j=await B.get("/api/driver/available-sponsors",{withCredentials:!0});r(Array.isArray(j.data)?j.data:[]),u(null)}catch(j){if(B.isAxiosError(j)){const A=((b=j.response)==null?void 0:b.data)||"Failed to load sponsors. Please try again later.";u(typeof A=="string"?A:"An error occurred.")}else u("Failed to load sponsors. Please try again later.");r([])}finally{l(!1)}},x=b=>{s(j=>j.includes(b)?j.filter(A=>A!==b):[...j,b])},p=async()=>{var b;if(n.length===0){u("Please select at least one sponsor");return}if(!o.trim()){u("Please provide a reason for your application");return}f(!0),u(null),v(null);try{const j={sponsorIds:n,reason:o},A=await B.post("/api/driverapp/apply",j,{withCredentials:!0,headers:{"Content-Type":"application/json"}});v(A.data.message||"Application submitted successfully!"),s([]),a("")}catch(j){if(B.isAxiosError(j)){const A=((b=j.response)==null?void 0:b.data)||"Failed to submit application. Please try again.";u(typeof A=="string"?A:"Submission failed.")}else u("Failed to submit application. Please try again.")}finally{f(!1)}},y=d.useMemo(()=>t.map(b=>e.jsxs(C,{sx:{mb:2},children:[e.jsx(_t,{control:e.jsx(Dr,{checked:n.includes(b.sponsorID),onChange:()=>x(b.sponsorID),color:"primary"}),label:e.jsxs(Ne,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(Bn,{color:"action"}),e.jsx(S,{children:b.companyName}),e.jsx(kt,{icon:e.jsx(Is,{}),label:`$${b.pointDollarValue.toFixed(2)} per point`,size:"small",color:"primary",variant:"outlined"})]})}),e.jsx(Je,{sx:{ml:7,my:1}})]},b.sponsorID)),[t,n]);return i?e.jsx(C,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsx(Xe,{})}):e.jsxs(C,{sx:{maxWidth:800,mx:"auto",p:2},children:[e.jsx(S,{variant:"h5",component:"h1",gutterBottom:!0,children:"Driver Application"}),e.jsx(fe,{sx:{mb:2,bgcolor:"background.paper"},children:e.jsxs(ye,{children:[e.jsxs(Ne,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[e.jsx(S,{variant:"subtitle1",children:"Available Reward Programs"}),e.jsx(Tr,{title:"Select multiple sponsors to join their reward programs",children:e.jsx(Pe,{size:"small",children:e.jsx(Vn,{color:"action",fontSize:"small"})})})]}),c&&e.jsx(we,{severity:"error",sx:{mb:2},children:c}),h&&e.jsx(we,{severity:"success",sx:{mb:2},children:h}),e.jsx(li,{children:t.length===0?e.jsx(S,{color:"text.secondary",children:"No available sponsors found."}):y}),e.jsx(H,{label:"Reason for Application",multiline:!0,rows:4,value:o,onChange:b=>a(b.target.value),fullWidth:!0,margin:"normal",variant:"outlined"}),e.jsx(_,{variant:"contained",color:"primary",onClick:p,disabled:n.length===0||!o.trim()||g,sx:{mt:2},children:g?e.jsx(Xe,{size:24,color:"inherit"}):`Submit Application (${n.length} Sponsor${n.length!==1?"s":""})`})]})})]})},Zl={0:"Submitted",1:"Approved",2:"Rejected"},Jl=()=>{const[t,r]=d.useState([]),[n,s]=d.useState(!0),[o,a]=d.useState(null),i=async()=>{var g;try{const f=await B.get("/api/sponsor/applications");r(f.data)}catch(f){a(((g=f.response)==null?void 0:g.data)||"Failed to load applications.")}finally{s(!1)}};d.useEffect(()=>{i()},[]);const l=async(g,f)=>{var m;try{await B.post(`/api/sponsor/applications/${g}/process?action=${f}`),r(x=>x.map(p=>p.applicationID===g?{...p,status:f==="approve"?1:2}:p))}catch(x){a(((m=x.response)==null?void 0:m.data)||`Failed to ${f} application.`)}};if(n)return e.jsx(Xe,{});if(o)return e.jsx(we,{severity:"error",children:o});const c=t.filter(g=>g.status===0),u=t.filter(g=>g.status===1),h=t.filter(g=>g.status===2),v=(g,f)=>g.length>0?g.map(m=>e.jsx(Ee,{size:{xs:12,sm:6,md:4},children:e.jsx(fe,{children:e.jsxs(ye,{children:[e.jsxs(S,{variant:"subtitle1",children:["Application ID: ",m.applicationID]}),e.jsxs(S,{children:["User ID: ",m.userID]}),e.jsxs(S,{children:["Apply Date: ",m.applyDate]}),e.jsxs(S,{children:["Status: ",Zl[m.status]]}),m.status===0&&e.jsxs(e.Fragment,{children:[e.jsx(_,{color:"primary",variant:"contained",onClick:()=>l(m.applicationID,"approve"),children:"Approve"}),e.jsx(_,{color:"secondary",variant:"contained",onClick:()=>l(m.applicationID,"reject"),sx:{ml:1},children:"Reject"})]})]})})},m.applicationID)):e.jsx(S,{variant:"body2",color:"textSecondary",sx:{mt:2},children:f});return e.jsxs(Dt,{children:[e.jsx(S,{variant:"h4",component:"h1",gutterBottom:!0,children:"Driver Applications"}),e.jsxs(C,{children:[e.jsx(S,{variant:"h6",children:"Submitted Applications"}),e.jsx(Je,{sx:{mb:2}}),e.jsx(Ee,{container:!0,spacing:2,style:{maxHeight:"300px",overflowY:"auto"},children:v(c,"No pending applications")})]}),e.jsxs(C,{sx:{mt:4},children:[e.jsx(S,{variant:"h6",children:"Approved Applications"}),e.jsx(Je,{sx:{mb:2}}),e.jsx(Ee,{container:!0,spacing:2,style:{maxHeight:"300px",overflowY:"auto"},children:v(u,"No approved applications")})]}),e.jsxs(C,{sx:{mt:4},children:[e.jsx(S,{variant:"h6",children:"Rejected Applications"}),e.jsx(Je,{sx:{mb:2}}),e.jsx(Ee,{container:!0,spacing:2,style:{maxHeight:"300px",overflowY:"auto"},children:v(h,"No rejected applications")})]})]})},Xl=(t="Driver")=>{switch(t){case"Admin":return[{check:r=>r.length>=20,message:"At least 20 characters long"},{check:r=>/[0-9]/.test(r),message:"Contains at least one digit"},{check:r=>/[a-z]/.test(r),message:"Contains at least one lowercase letter"},{check:r=>/[A-Z]/.test(r),message:"Contains at least one uppercase letter"},{check:r=>/[^A-Za-z0-9]/.test(r),message:"Contains at least three symbols"},{check:r=>new Set(r).size>=3,message:"Contains at least 3 unique characters"},{check:r=>/^(?=.*[!@#$%^&*])(?=.*[0-9])(?=.*[A-Z]).*$/.test(r),message:"Combination of numbers, symbols, and uppercase"}];case"Driver":return[{check:r=>r.length>=8,message:"At least 8 characters long"},{check:r=>/[0-9]/.test(r),message:"Contains at least one digit"},{check:r=>/[a-z]/.test(r),message:"Contains at least one lowercase letter"},{check:r=>/[A-Z]/.test(r),message:"Contains at least one uppercase letter"},{check:r=>/[^A-Za-z0-9]/.test(r),message:"Contains at least one special character"},{check:r=>new Set(r).size>=1,message:"Contains at least 1 unique character"}];default:return[{check:r=>r.length>=6,message:"At least 6 characters long"},{check:r=>/[0-9]/.test(r),message:"Contains at least one digit"},{check:r=>/[a-zA-Z]/.test(r),message:"Contains at least one letter"},{check:r=>new Set(r).size>=1,message:"Contains at least 1 unique character"}]}},_s=()=>{const[t,r]=d.useState(""),[n,s]=d.useState(""),[o,a]=d.useState(""),[i,l]=d.useState(""),[c,u]=d.useState(!1),[h,v]=d.useState(!1),[g,f]=d.useState("Driver");d.useEffect(()=>{(async()=>{try{const b=await B.get("/api/user/currentuser");f(b.data.userType)}catch{}})()},[]);const m=Xl(g),x=y=>m.every(b=>b.check(y)),p=async y=>{var b,j;if(y.preventDefault(),l(""),u(!1),v(!0),n!==o){l("New passwords do not match"),v(!1);return}if(!x(n)){l("New password does not meet all requirements"),v(!1);return}try{const A=await B.post("/api/user/change-password",{currentPassword:t,newPassword:n});u(!0),r(""),s(""),a("")}catch(A){B.isAxiosError(A)?l(((j=(b=A.response)==null?void 0:b.data)==null?void 0:j.message)||"Failed to change password"):l("An unexpected error occurred")}finally{v(!1)}};return e.jsxs(C,{sx:{width:"100%",maxWidth:400,margin:"auto",mt:4},children:[e.jsx(S,{variant:"h4",component:"h1",gutterBottom:!0,children:"Change Password"}),i&&e.jsx(we,{severity:"error",sx:{mt:2,mb:2},children:i}),c&&e.jsx(we,{severity:"success",sx:{mt:2,mb:2},children:"Password changed successfully!"}),e.jsxs(C,{component:"form",onSubmit:p,noValidate:!0,sx:{mt:1},children:[e.jsx(H,{margin:"normal",required:!0,fullWidth:!0,name:"currentPassword",label:"Current Password",type:"password",id:"currentPassword",autoComplete:"current-password",value:t,onChange:y=>r(y.target.value)}),e.jsx(H,{margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:"New Password",type:"password",id:"newPassword",autoComplete:"new-password",value:n,onChange:y=>s(y.target.value)}),e.jsx(H,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm New Password",type:"password",id:"confirmPassword",autoComplete:"new-password",value:o,onChange:y=>a(y.target.value)}),e.jsxs(C,{sx:{mt:4},children:[e.jsxs(S,{variant:"h6",children:["Password Requirements for ",g,":"]}),m.map((y,b)=>e.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(C,{sx:{flexGrow:1,mr:1},children:e.jsx(He,{variant:"determinate",value:y.check(n)?100:0,color:y.check(n)?"success":"error"})}),e.jsx(C,{sx:{minWidth:200},children:e.jsx(S,{variant:"body2",color:"text.secondary",children:y.message})})]},b))]}),e.jsx(_,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:h,children:h?e.jsx(Xe,{size:24}):"Change Password"})]})]})},Ql=()=>{const[t,r]=d.useState([]),[n,s]=d.useState(null),[o,a]=d.useState(""),[i,l]=d.useState(!0),[c,u]=d.useState("");d.useEffect(()=>{h()},[]),d.useEffect(()=>{o&&v(o)},[o]);const h=async()=>{try{l(!0);const p=await B.get("/api/driver/my-sponsors");r(p.data),p.data.length>0&&!o&&a(p.data[0].sponsorId),u("")}catch{u("Failed to load sponsor points data")}finally{l(!1)}},v=async p=>{try{const y=await B.get(`/api/driver/sponsor-points/${p}`);s(y.data)}catch{}},g=p=>{a(p.target.value)};if(i)return e.jsx(C,{sx:{width:"100%",mt:2},children:e.jsx(He,{})});if(c)return e.jsx(S,{color:"error",sx:{mt:2},children:c});if(t.length===0)return e.jsx(S,{sx:{mt:2},children:"You are not currently registered with any sponsors."});const f=t.find(p=>p.sponsorId===o),m=t.map(p=>({id:p.sponsorId,value:p.totalPoints,label:p.sponsorName})),x=(n==null?void 0:n.pointsHistory.map(p=>({date:new Date(p.date).toLocaleDateString(),points:p.points,reason:p.reason})).reverse())||[];return e.jsxs(C,{sx:{width:"100%",mb:2,mt:2},children:[e.jsxs(Be,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Ve,{children:"Select Sponsor"}),e.jsx(De,{value:o,label:"Select Sponsor",onChange:g,children:t.map(p=>e.jsx(V,{value:p.sponsorId,children:p.sponsorName},p.sponsorId))})]}),e.jsxs(U,{container:!0,spacing:3,children:[e.jsx(U,{item:!0,xs:12,children:e.jsx(Se,{children:e.jsx(et,{children:e.jsxs(Qe,{"aria-label":"sponsor points details",children:[e.jsx(tt,{children:e.jsxs(le,{children:[e.jsx(k,{children:"Sponsor"}),e.jsx(k,{align:"right",children:"Total Points"}),e.jsx(k,{align:"right",children:"Point Value ($)"}),e.jsx(k,{align:"right",children:"Total Value ($)"})]})}),e.jsx(Ke,{children:f&&e.jsxs(le,{children:[e.jsx(k,{children:f.sponsorName}),e.jsx(k,{align:"right",children:f.totalPoints.toLocaleString()}),e.jsxs(k,{align:"right",children:["$",f.pointDollarValue.toFixed(2)]}),e.jsxs(k,{align:"right",children:["$",(f.totalPoints*f.pointDollarValue).toFixed(2)]})]})})]})})})}),e.jsx(U,{item:!0,xs:12,md:6,children:e.jsxs(Se,{sx:{p:2},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Points Distribution Across Sponsors"}),e.jsx(C,{sx:{width:"100%",height:300},children:e.jsx(jt,{series:[{data:m,highlightScope:{faded:"global",highlighted:"item"},faded:{innerRadius:30,additionalRadius:-30}}],height:300})})]})}),e.jsx(U,{item:!0,xs:12,md:6,children:e.jsxs(Se,{sx:{p:2},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Recent Points History"}),x.length>0?e.jsx(C,{sx:{width:"100%",height:300},children:e.jsx(Pr,{xAxis:[{scaleType:"band",data:x.map(p=>p.date),label:"Date"}],series:[{data:x.map(p=>p.points),label:"Points"}],height:300,tooltip:{trigger:"item"}})}):e.jsx(S,{children:"No history data available"})]})})]})]})},Kl=()=>{const[t,r]=d.useState(null),[n,s]=d.useState(!0),[o,a]=d.useState("");return d.useEffect(()=>{(async()=>{try{s(!0);const l=await B.get("/api/driver/activity");r(l.data)}catch{a("Failed to load driver activity")}finally{s(!1)}})()},[]),n?e.jsx(He,{}):o?e.jsx(S,{color:"error",children:o}):t?e.jsxs(C,{sx:{p:3},children:[t.pointValue&&e.jsx(fe,{sx:{mb:4},children:e.jsxs(ye,{children:[e.jsxs(S,{variant:"h6",gutterBottom:!0,children:["Points Value - ",t.pointValue.sponsorName||"Unknown Sponsor"]}),e.jsxs(S,{children:["Current Balance: ",t.pointValue.totalPoints.toLocaleString()," points"]}),e.jsxs(S,{children:["Point Value: $",t.pointValue.pointValue.toFixed(2)," each"]}),e.jsxs(S,{variant:"h5",sx:{mt:2},children:["Total Value: $",t.pointValue.totalValue.toFixed(2)]})]})}),e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Activity History"}),e.jsx(et,{component:Se,children:e.jsxs(Qe,{children:[e.jsx(tt,{children:e.jsxs(le,{children:[e.jsx(k,{children:"Date"}),e.jsx(k,{children:"Type"}),e.jsx(k,{children:"Points"}),e.jsx(k,{children:"Details"}),e.jsx(k,{children:"Status"})]})}),e.jsx(Ke,{children:t.transactions&&t.transactions.length>0?t.transactions.map((i,l)=>e.jsxs(le,{children:[e.jsx(k,{children:i.date?new Date(i.date).toLocaleDateString():"N/A"}),e.jsx(k,{children:i.type}),e.jsxs(k,{sx:{color:i.points>0?"success.main":"error.main"},children:[i.points>0?"+":"",i.points]}),e.jsx(k,{children:i.reason}),e.jsx(k,{children:i.status&&e.jsx(kt,{label:i.status,color:i.status==="Ordered"?"success":i.status==="Cancelled"?"error":"default",size:"small"})})]},l)):e.jsx(le,{children:e.jsx(k,{colSpan:5,align:"center",children:"No transactions available"})})})]})})]}):null};function lr({icon:t,title:r,value:n,description:s}){return e.jsx(fe,{sx:{height:"100%"},children:e.jsxs(ye,{children:[e.jsx(t,{sx:{color:"primary.main",mb:1}}),e.jsx(S,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600",mb:1},children:r}),e.jsx(S,{variant:"h4",sx:{mb:1},children:n}),e.jsx(S,{sx:{color:"text.secondary",mb:1},children:s})]})})}function ec(){const t=rt(),r=ao(t.breakpoints.down("sm")),[n,s]=d.useState([]),[o,a]=d.useState(null),[i,l]=d.useState(!0),[c,u]=d.useState(null),[h,v]=d.useState({}),[g,f]=d.useState(!1),[m,x]=d.useState(""),[p,y]=d.useState({open:!1,message:"",severity:"success"});d.useEffect(()=>{(async()=>{try{l(!0);const M=await fetch("/api/sponsor/drivers",{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch drivers");const $=await M.json();s($);const G=await fetch("/api/sponsor/point-ratio",{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch point ratio");const I=await G.json();a(I)}catch(M){u(M instanceof Error?M.message:"An error occurred while fetching data")}finally{l(!1)}})()},[]);const b=async()=>{if(o)try{const T=await fetch("/api/sponsor/point-value",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(parseFloat(m))});if(!T.ok)throw new Error("Failed to update point value");const M=await T.json();a($=>$?{...$,pointDollarValue:parseFloat(m)}:null),f(!1),y({open:!0,message:"Point value updated successfully",severity:"success"})}catch(T){y({open:!0,message:T instanceof Error?T.message:"Failed to update point value",severity:"error"})}},j=async(T,M)=>{if(o)try{const $=await fetch(`/api/sponsor/driver/${T}/points`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(M)});if(!$.ok)throw new Error("Failed to update driver points");const G=await $.json();s(I=>I.map(w=>w.userID===T?{...w,totalPoints:M}:w)),v(I=>{const w={...I};return delete w[T],w}),y({open:!0,message:"Points updated successfully",severity:"success"})}catch($){y({open:!0,message:$ instanceof Error?$.message:"Failed to update points",severity:"error"})}},A=(o==null?void 0:o.pointDollarValue)!==void 0?`$${o.pointDollarValue.toFixed(2)}`:"$0.00";if(i)return e.jsx(C,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,children:e.jsx(Xe,{})});if(c)return e.jsx(we,{severity:"error",sx:{mb:2},children:c});const E=n.reduce((T,M)=>T+M.totalPoints,0),N=[...n].sort((T,M)=>M.totalPoints-T.totalPoints),D=Math.max(...n.map(T=>T.totalPoints)),F=n.map(T=>({id:T.userID,value:T.totalPoints,label:T.email}));return e.jsxs(C,{sx:{width:"100%"},children:[e.jsx(S,{component:"h2",variant:"h6",sx:{mb:2},children:"Sponsored Drivers Overview"}),e.jsxs(Ee,{container:!0,spacing:2,columns:12,children:[e.jsx(Ee,{size:{xs:12,lg:3},children:e.jsxs(Ne,{gap:2,direction:{xs:"column",sm:"row",lg:"column"},children:[e.jsx(lr,{icon:Br,title:"Active Drivers",value:n.length.toString(),description:"Currently sponsored drivers"}),e.jsx(lr,{icon:Un,title:"Total Points",value:E.toLocaleString(),description:"Accumulated driver points"}),e.jsx(lr,{icon:Is,title:"Point Value",value:A,description:e.jsx(_,{size:"small",startIcon:e.jsx(Vr,{}),onClick:()=>{x((o==null?void 0:o.pointDollarValue.toString())||"0.00"),f(!0)},children:"Update Value"})})]})}),e.jsx(Ee,{size:{xs:12,lg:9},children:e.jsx(fe,{sx:{height:"100%"},children:e.jsx(ye,{children:n.length===0?e.jsx(C,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200,children:e.jsx(S,{color:"text.secondary",children:"No drivers found under your sponsorship."})}):e.jsx(et,{children:e.jsxs(Qe,{sx:{minWidth:650},children:[e.jsx(tt,{children:e.jsxs(le,{children:[e.jsx(k,{children:"Driver ID"}),e.jsx(k,{children:"Email"}),e.jsx(k,{align:"right",children:"Points"}),e.jsx(k,{align:"right",children:"Progress"})]})}),e.jsx(Ke,{children:n.map(T=>e.jsxs(le,{children:[e.jsx(k,{component:"th",scope:"row",children:T.userID}),e.jsx(k,{children:T.email}),e.jsx(k,{align:"right",children:h[T.userID]!==void 0?e.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"flex-end"},children:[e.jsx(H,{size:"small",type:"number",value:h[T.userID],onChange:M=>v($=>({...$,[T.userID]:parseInt(M.target.value)||0})),inputProps:{min:0}}),e.jsx(Pe,{size:"small",color:"primary",onClick:()=>j(T.userID,h[T.userID]),children:e.jsx(Hn,{})}),e.jsx(Pe,{size:"small",color:"error",onClick:()=>v(M=>{const $={...M};return delete $[T.userID],$}),children:e.jsx(Gn,{})})]}):e.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:1},children:[T.totalPoints.toLocaleString(),e.jsx(Pe,{size:"small",onClick:()=>v(M=>({...M,[T.userID]:T.totalPoints})),children:e.jsx(Vr,{})})]})}),e.jsx(k,{align:"right",sx:{width:"30%"},children:e.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(C,{sx:{width:"100%",mr:1},children:e.jsx(He,{variant:"determinate",value:T.totalPoints/D*100})}),e.jsxs(S,{variant:"body2",color:"text.secondary",children:[Math.round(T.totalPoints/D*100),"%"]})]})})]},T.userID))})]})})})})}),n.length>0&&e.jsx(Ee,{size:12,children:e.jsx(fe,{sx:{mt:2},children:e.jsxs(ye,{children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Points Distribution"}),e.jsx(C,{sx:{height:400},children:e.jsx(jt,{series:[{data:F,highlightScope:{faded:"global",highlighted:"item"}}],height:350})})]})})}),n.length>0&&e.jsx(Ee,{size:12,children:e.jsx(fe,{sx:{mt:2},children:e.jsxs(ye,{children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Driver Leaderboard"}),e.jsx(et,{children:e.jsxs(Qe,{children:[e.jsx(tt,{children:e.jsxs(le,{children:[e.jsx(k,{children:"Rank"}),e.jsx(k,{children:"Driver"}),e.jsx(k,{align:"right",children:"Points"}),e.jsx(k,{align:"right",children:"Progress"})]})}),e.jsx(Ke,{children:N.map((T,M)=>e.jsxs(le,{children:[e.jsx(k,{children:M+1}),e.jsx(k,{children:T.email}),e.jsx(k,{align:"right",children:T.totalPoints.toLocaleString()}),e.jsx(k,{align:"right",sx:{width:"30%"},children:e.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(C,{sx:{width:"100%",mr:1},children:e.jsx(He,{variant:"determinate",value:T.totalPoints/D*100})}),e.jsxs(S,{variant:"body2",color:"text.secondary",children:[Math.round(T.totalPoints/D*100),"%"]})]})})]},T.userID))})]})})]})})})]}),e.jsx(S,{component:"h2",variant:"h6",sx:{mb:2,mt:4},children:"Driver Management"}),e.jsx(Ee,{container:!0,spacing:2,columns:12,children:e.jsx(Ee,{size:{xs:12,sm:6,lg:4},children:e.jsx(fe,{sx:{height:"100%"},children:e.jsxs(ye,{children:[e.jsx(Br,{sx:{color:"primary.main",mb:1}}),e.jsx(S,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600"},children:"Manage Drivers"}),e.jsx(S,{sx:{color:"text.secondary",mb:2},children:"Add or remove drivers from your sponsorship."}),e.jsx(_,{variant:"contained",size:"small",color:"primary",endIcon:e.jsx(qn,{}),fullWidth:r,children:"Manage Drivers"})]})})})}),e.jsxs(jr,{open:g,onClose:()=>f(!1),children:[e.jsx(Er,{children:"Update Point Dollar Value"}),e.jsx(Ir,{children:e.jsx(H,{autoFocus:!0,margin:"dense",label:"Dollar Value per Point",type:"number",fullWidth:!0,value:m,onChange:T=>x(T.target.value),inputProps:{step:"0.01",min:"0"}})}),e.jsxs(Ar,{children:[e.jsx(_,{onClick:()=>f(!1),children:"Cancel"}),e.jsx(_,{onClick:b,variant:"contained",children:"Update"})]})]}),e.jsx(Lr,{open:p.open,autoHideDuration:6e3,onClose:()=>y(T=>({...T,open:!1})),message:p.message})]})}const tc=()=>{const{driverId:t}=Dn(),[r,n]=d.useState([]),[s,o]=d.useState(!0),[a,i]=d.useState("");return d.useEffect(()=>{(async()=>{try{o(!0);const c=await B.get("/api/driver/transactions");n(c.data),i("")}catch{i("Failed to load transaction data")}finally{o(!1)}})()},[t]),s?e.jsx(C,{sx:{width:"100%",mt:2},children:e.jsx(He,{})}):a?e.jsx(S,{color:"error",sx:{mt:2},children:a}):e.jsx(Se,{sx:{width:"100%",mb:2,mt:2},children:e.jsx(et,{children:e.jsxs(Qe,{"aria-label":"driver transactions table",children:[e.jsx(tt,{children:e.jsxs(le,{children:[e.jsx(k,{children:"Date"}),e.jsx(k,{children:"Points Changed"}),e.jsx(k,{children:"Reason"})]})}),e.jsx(Ke,{children:r.map(l=>e.jsxs(le,{children:[e.jsx(k,{children:new Date(l.transactionDate).toLocaleDateString()}),e.jsx(k,{children:l.pointsChanged}),e.jsx(k,{children:l.reason})]},l.transactionId))})]})})})};var fr={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(c,u){switch(c){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},s=function(c,u){switch(c){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},o=function(c,u){var h=c.match(/(P+)(p+)?/)||[],v=h[1],g=h[2];if(!g)return n(c,u);var f;switch(v){case"P":f=u.dateTime({width:"short"});break;case"PP":f=u.dateTime({width:"medium"});break;case"PPP":f=u.dateTime({width:"long"});break;case"PPPP":default:f=u.dateTime({width:"full"});break}return f.replace("{{date}}",n(v,u)).replace("{{time}}",s(g,u))},a={p:s,P:o},i=a;r.default=i,t.exports=r.default})(fr,fr.exports);var rc=fr.exports;const sc=Tn(rc),nc={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},oc={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class ac{constructor(r){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=nc,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=i=>{const l=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(l).map(c=>{const u=c[0];if(u==="p"||u==="P"){const h=this.longFormatters[u];return h(c,this.locale.formatLong)}return c}).join("")},this.formatNumber=i=>i,this.getDayOfWeek=i=>i.getDay()+1;const{locale:n,formats:s,longFormatters:o,lib:a}=r;this.locale=n,this.formats=Cn({},oc,s),this.longFormatters=o,this.lib=a||"date-fns"}}class Ys extends ac{constructor({locale:r,formats:n}={}){super({locale:r??lo,formats:n,longFormatters:sc}),this.parse=(s,o)=>s===""?null:co(s,o,new Date,{locale:this.locale}),this.isValid=s=>s==null?!1:uo(s),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>hr(s,o,{locale:this.locale}),this.isEqual=(s,o)=>s===null&&o===null?!0:s===null||o===null?!1:po(s,o),this.isSameYear=(s,o)=>ho(s,o),this.isSameMonth=(s,o)=>mo(s,o),this.isSameDay=(s,o)=>xo(s,o),this.isSameHour=(s,o)=>go(s,o),this.isAfter=(s,o)=>or(s,o),this.isAfterYear=(s,o)=>or(s,qr(o)),this.isAfterDay=(s,o)=>or(s,_r(o)),this.isBefore=(s,o)=>ar(s,o),this.isBeforeYear=(s,o)=>ar(s,this.startOfYear(o)),this.isBeforeDay=(s,o)=>ar(s,this.startOfDay(o)),this.isWithinRange=(s,[o,a])=>fo(s,{start:o,end:a}),this.startOfYear=s=>yo(s),this.startOfMonth=s=>vo(s),this.startOfWeek=s=>bo(s,{locale:this.locale}),this.startOfDay=s=>jo(s),this.endOfYear=s=>qr(s),this.endOfMonth=s=>So(s),this.endOfWeek=s=>wo(s,{locale:this.locale}),this.endOfDay=s=>_r(s),this.addYears=(s,o)=>Co(s,o),this.addMonths=(s,o)=>ko(s,o),this.addWeeks=(s,o)=>Do(s,o),this.addDays=(s,o)=>To(s,o),this.addHours=(s,o)=>Po(s,o),this.addMinutes=(s,o)=>Io(s,o),this.addSeconds=(s,o)=>Ao(s,o),this.getYear=s=>Ro(s),this.getMonth=s=>Mo(s),this.getDate=s=>Eo(s),this.getHours=s=>Lo(s),this.getMinutes=s=>No(s),this.getSeconds=s=>$o(s),this.getMilliseconds=s=>zo(s),this.setYear=(s,o)=>Oo(s,o),this.setMonth=(s,o)=>Fo(s,o),this.setDate=(s,o)=>Wo(s,o),this.setHours=(s,o)=>Bo(s,o),this.setMinutes=(s,o)=>Vo(s,o),this.setSeconds=(s,o)=>Uo(s,o),this.setMilliseconds=(s,o)=>Ho(s,o),this.getDaysInMonth=s=>Go(s),this.getWeekArray=s=>{const o=this.startOfWeek(this.startOfMonth(s)),a=this.endOfWeek(this.endOfMonth(s));let i=0,l=o;const c=[];for(;this.isBefore(l,a);){const u=Math.floor(i/7);c[u]=c[u]||[],c[u].push(l),l=this.addDays(l,1),i+=1}return c},this.getWeekNumber=s=>qo(s,{locale:this.locale}),this.getYearRange=([s,o])=>{const a=this.startOfYear(s),i=this.endOfYear(o),l=[];let c=a;for(;this.isBefore(c,i);)l.push(c),c=this.addYears(c,1);return l}}}const Zs=({dateRange:t,setDateRange:r})=>{const[n,s]=t,[o,a]=d.useState(!1),i=l=>{const c=new Date,u=new Date;u.setDate(c.getDate()-l),r([u,c])};return e.jsx(Rs,{dateAdapter:Ys,children:e.jsxs(Ne,{direction:"column",spacing:2,alignItems:"flex-start",sx:{mb:2},children:[e.jsx(_t,{control:e.jsx(Dr,{checked:o,onChange:()=>a(!o)}),label:"Custom Date Range"}),o?e.jsxs(Ne,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(C,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(Ur,{fontSize:"small"}),e.jsx(Ut,{label:"Start",value:n,onChange:l=>r([l,s]),disableFuture:!0})]}),e.jsxs(C,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(Ur,{fontSize:"small"}),e.jsx(Ut,{label:"End",value:s,onChange:l=>r([n,l]),disableFuture:!0})]})]}):e.jsxs(Ne,{direction:"row",spacing:1,children:[e.jsx(_,{variant:"outlined",size:"small",onClick:()=>i(7),children:"Last 7 Days"}),e.jsx(_,{variant:"outlined",size:"small",onClick:()=>i(30),children:"Last 30 Days"}),e.jsx(_,{variant:"outlined",size:"small",onClick:()=>i(365),children:"Last Year"})]})]})})};function Js({chartType:t,title:r,viewType:n,data:s,categoryKey:o="category",valueKey:a="value",stackKey:i="group"}){const l=rt(),c=()=>{const h=Array.from(new Set(s.map(f=>f[o]))),v={};s.forEach(f=>{const m=f[i]||"Default";v[m]||(v[m]=Array(h.length).fill(0));const x=h.indexOf(f[o]);x>=0&&(v[m][x]+=f[a]||0)});const g=Object.entries(v).map(([f,m])=>({label:f,data:m,color:l.palette.secondary.main}));return e.jsx(Pr,{xAxis:[{scaleType:"band",data:h}],series:g,height:300,grid:{horizontal:!0}})},u=()=>{if(n==="summary")return e.jsx(jt,{series:[{data:s.map(h=>({id:h[o]||"Unknown",value:h[a]||0,label:h[o]||"Unknown"}))}],height:300});if(n==="detailed"){const h={};s.forEach(g=>{const f=g[i]||"Default";h[f]||(h[f]=[]),h[f].push({id:g[o]||"Unknown",value:g[a]||0,label:g[o]||"Unknown"})});const v=Object.entries(h).map(([g,f])=>({id:g,value:f.reduce((m,x)=>m+x.value,0),label:g,children:f}));return e.jsx(jt,{series:[{data:v}],height:300})}return null};return e.jsxs(C,{children:[e.jsx(S,{variant:"h6",align:"center",gutterBottom:!0,children:r}),t==="bar"?c():u()]})}const ic=()=>{const{user:t,isLoading:r,isAuthenticated:n}=ze(),[s,o]=d.useState({viewType:"summary",reportType:"driver-points",selectedDriver:null,dateRange:[null,null]}),[a,i]=d.useState([]),[l,c]=d.useState([]),[u,h]=d.useState(null);d.useEffect(()=>{var p;if(!((p=t==null?void 0:t.sponsorDetails)!=null&&p.sponsorID)||r||!n)return;(async()=>{var y;try{const b=await B.get("/api/sponsor/drivers",{params:{sponsorID:(y=t.sponsorDetails)==null?void 0:y.sponsorID}});i(b.data)}catch{h("Failed to fetch drivers. Please try again later.")}})()},[t,r,n]);const v=async()=>{var x;if(!((x=t==null?void 0:t.sponsorDetails)!=null&&x.sponsorID)){h("Sponsor details are missing.");return}try{h(null);const p="/api/reports/driver-points",[y,b]=s.dateRange,j={sponsorID:t.sponsorDetails.sponsorID,startDate:y?y.toISOString().split("T")[0]:"",endDate:b?b.toISOString().split("T")[0]:""};s.reportType==="driver-points"&&(j.driverID=s.selectedDriver);const A=await B.get(p,{params:j});c(A.data)}catch{h("Failed to fetch reports. Please try again later.")}},g=()=>s.viewType==="summary"?l.map(x=>({category:x.driverName,value:x.totalPoints})):s.viewType==="detailed"?l.map(x=>({category:x.driverName,group:x.transactionDate,value:x.pointsChanged})):[],f=async()=>{var x,p;if(!((x=t==null?void 0:t.sponsorDetails)!=null&&x.sponsorID)){h("Sponsor details are missing.");return}try{const[y,b]=s.dateRange,j={reportType:s.reportType,metadata:{Sponsor:t.sponsorDetails.companyName,StartDate:y?y.toISOString().split("T")[0]:"N/A",EndDate:b?b.toISOString().split("T")[0]:"N/A",SelectedDriver:s.selectedDriver&&((p=a.find(F=>F.userID===s.selectedDriver))==null?void 0:p.name)||"All Drivers"},data:l},A=await B.post("/api/reports/export-csv",j,{responseType:"blob"}),E=new Blob([A.data],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(E),D=document.createElement("a");D.href=N,D.download=`${s.reportType}_report.csv`,D.click()}catch{h("Failed to export CSV. Please try again later.")}},m=async()=>{var x,p;if(!((x=t==null?void 0:t.sponsorDetails)!=null&&x.companyName)){h("Sponsor details are missing.");return}try{const[y,b]=s.dateRange,j={reportType:s.reportType,metadata:{Sponsor:t.sponsorDetails.companyName,StartDate:y?y.toISOString().split("T")[0]:"N/A",EndDate:b?b.toISOString().split("T")[0]:"N/A",SelectedDriver:s.selectedDriver&&((p=a.find(F=>F.userID===s.selectedDriver))==null?void 0:p.name)||"All Drivers"},data:l},A=await B.post("/api/reports/export-pdf",j,{responseType:"blob"}),E=new Blob([A.data],{type:"application/pdf"}),N=URL.createObjectURL(E),D=document.createElement("a");D.href=N,D.download=`${s.reportType}_report.pdf`,D.click()}catch{h("Failed to export PDF. Please try again later.")}};return r?e.jsx(S,{children:"Loading sponsor details..."}):!n||!(t!=null&&t.sponsorDetails)?e.jsx(S,{color:"error",children:"Sponsor details are missing or user is not authenticated."}):e.jsxs(C,{sx:{padding:4},children:[e.jsxs(S,{variant:"h4",gutterBottom:!0,children:["Sponsor Reports (",t.sponsorDetails.companyName,")"]}),e.jsxs(C,{sx:{display:"flex",flexWrap:"wrap",gap:3,alignItems:"center",mb:3},children:[e.jsxs(Be,{sx:{minWidth:200},children:[e.jsx(Ve,{children:"View Type"}),e.jsxs(De,{value:s.viewType,onChange:x=>o(p=>({...p,viewType:x.target.value})),children:[e.jsx(V,{value:"summary",children:"Summary"}),e.jsx(V,{value:"detailed",children:"Detailed"})]})]}),e.jsxs(Be,{sx:{minWidth:200},children:[e.jsx(Ve,{children:"Select Driver"}),e.jsxs(De,{value:s.selectedDriver||"",onChange:x=>o(p=>({...p,selectedDriver:x.target.value?Number(x.target.value):null})),children:[e.jsx(V,{value:"",children:"All Drivers"}),a.map(x=>e.jsx(V,{value:x.userID,children:x.name},x.userID))]})]})]}),e.jsx(C,{sx:{mb:3},children:e.jsx(Zs,{dateRange:s.dateRange,setDateRange:x=>o(p=>({...p,dateRange:x}))})}),e.jsxs(C,{sx:{display:"flex",gap:2,mb:4},children:[e.jsx(_,{variant:"contained",onClick:v,children:"Fetch Reports"}),e.jsx(_,{variant:"outlined",onClick:f,children:"Export CSV"}),e.jsx(_,{variant:"outlined",onClick:m,children:"Export PDF"})]}),e.jsxs(C,{sx:{mt:4},children:[e.jsx(S,{variant:"h5",gutterBottom:!0,children:"Report Chart"}),e.jsx(Js,{chartType:"bar",title:s.viewType==="summary"?"Driver Points (Summary)":"Driver Points (Detailed)",viewType:s.viewType,data:g()})]})]})},lc=()=>{const[t,r]=d.useState({reportType:"sales-sponsor",viewType:"summary",selectedSponsor:null,selectedDriver:null,dateRange:[null,null]}),[n,s]=d.useState([]),[o,a]=d.useState([]),[i,l]=d.useState([]),[c,u]=d.useState(null);d.useEffect(()=>{(async()=>{try{const x=await B.get("/api/admin/sponsors/details");s(x.data)}catch{u("Failed to fetch sponsors. Please try again later.")}})()},[]),d.useEffect(()=>{t.reportType==="sales-driver"&&t.selectedSponsor?(async()=>{try{const x=await B.get("/api/sponsor/drivers",{params:{sponsorID:t.selectedSponsor}});a(x.data)}catch{u("Failed to fetch drivers. Please try again later.")}})():a([])},[t.reportType,t.selectedSponsor]);const h=async()=>{try{u(null);const[m,x]=t.dateRange,p=await B.get(`/api/reports/${t.reportType}`,{params:{sponsorID:t.selectedSponsor,driverID:t.selectedDriver,startDate:m?m.toISOString().split("T")[0]:"",endDate:x?x.toISOString().split("T")[0]:"",viewType:t.viewType}});l(Array.isArray(p.data)?p.data:[])}catch{u("Failed to fetch reports. Please try again later.")}},v=async()=>{var m,x;try{const[p,y]=t.dateRange,b={reportType:t.reportType,metadata:{SelectedSponsor:t.selectedSponsor&&((m=o.find(D=>D.userID===t.selectedSponsor))==null?void 0:m.name)||"All Sponsors",StartDate:p?p.toISOString().split("T")[0]:"N/A",EndDate:y?y.toISOString().split("T")[0]:"N/A",SelectedDriver:t.selectedDriver&&((x=o.find(D=>D.userID===t.selectedDriver))==null?void 0:x.name)||"All Drivers"},data:i},j=await B.post("/api/reports/export-csv",b,{responseType:"blob"}),A=new Blob([j.data],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(A),N=document.createElement("a");N.href=E,N.download=`${t.reportType}_report.csv`,N.click()}catch{u("Failed to export CSV. Please try again later.")}},g=async()=>{var m,x;try{const[p,y]=t.dateRange,b={reportType:t.reportType,metadata:{SelectedSponsor:t.selectedSponsor&&((m=o.find(D=>D.userID===t.selectedSponsor))==null?void 0:m.name)||"All Sponsors",StartDate:p?p.toISOString().split("T")[0]:"N/A",EndDate:y?y.toISOString().split("T")[0]:"N/A",SelectedDriver:t.selectedDriver&&((x=o.find(D=>D.userID===t.selectedDriver))==null?void 0:x.name)||"All Drivers"},data:i},j=await B.post("/api/reports/export-pdf",b,{responseType:"blob"}),A=new Blob([j.data],{type:"application/pdf"}),E=URL.createObjectURL(A),N=document.createElement("a");N.href=E,N.download=`${t.reportType}_report.pdf`,N.click()}catch{u("Failed to export PDF. Please try again later.")}},f=()=>{switch(t.reportType){case"sales-sponsor":return t.viewType==="summary"?i.map(m=>({category:m.sponsorName,value:m.totalSales})):i.map(m=>({category:m.sponsorName,group:m.transactionDate,value:m.saleAmount}));case"sales-driver":return t.viewType==="summary"?i.map(m=>({category:m.driverName,value:m.totalSales})):i.map(m=>({category:m.driverName,group:m.transactionDate,value:m.saleAmount}));case"invoice":return i.map(m=>({category:m.sponsorName,value:m.invoiceTotal}));default:return[]}};return e.jsxs(C,{sx:{padding:4},children:[e.jsx(S,{variant:"h4",gutterBottom:!0,children:"Admin Reports"}),e.jsxs(C,{sx:{display:"flex",gap:3,mb:3},children:[e.jsxs(Be,{sx:{minWidth:200},children:[e.jsx(Ve,{children:"Report Type"}),e.jsxs(De,{value:t.reportType,onChange:m=>r(x=>({...x,reportType:m.target.value,selectedDriver:null})),children:[e.jsx(V,{value:"sales-sponsor",children:"Sales by Sponsor"}),e.jsx(V,{value:"sales-driver",children:"Sales by Driver"}),e.jsx(V,{value:"invoice",children:"Invoice Report"})]})]}),t.reportType!=="invoice"&&e.jsxs(Be,{sx:{minWidth:200},children:[e.jsx(Ve,{children:"View Type"}),e.jsxs(De,{value:t.viewType,onChange:m=>r(x=>({...x,viewType:m.target.value})),children:[e.jsx(V,{value:"summary",children:"Summary"}),e.jsx(V,{value:"detailed",children:"Detailed"})]})]}),e.jsxs(Be,{sx:{minWidth:200},children:[e.jsx(Ve,{children:"Select Sponsor"}),e.jsxs(De,{value:t.selectedSponsor||"",onChange:m=>r(x=>({...x,selectedSponsor:Number(m.target.value)||null})),children:[e.jsx(V,{value:"",children:"All Sponsors"}),n.map(m=>e.jsx(V,{value:m.sponsorID,children:m.companyName},m.sponsorID))]})]}),t.reportType==="sales-driver"&&e.jsxs(Be,{sx:{minWidth:200},children:[e.jsx(Ve,{children:"Select Driver"}),e.jsxs(De,{value:t.selectedDriver||"",onChange:m=>r(x=>({...x,selectedDriver:Number(m.target.value)||null})),children:[e.jsx(V,{value:"",children:"All Drivers"}),o.map(m=>e.jsx(V,{value:m.userID,children:m.name},m.userID))]})]})]}),e.jsx(Zs,{dateRange:t.dateRange,setDateRange:m=>r(x=>({...x,dateRange:m}))}),e.jsxs(C,{sx:{display:"flex",gap:2,mb:4},children:[e.jsx(_,{variant:"contained",onClick:h,children:"Fetch Reports"}),e.jsx(_,{variant:"outlined",onClick:v,children:"Export CSV"}),e.jsx(_,{variant:"outlined",onClick:g,children:"Export PDF"})]}),e.jsx(Js,{chartType:"bar",title:`${t.reportType} Report (${t.viewType})`,viewType:t.viewType,data:f()})]})},cc=()=>{const[t,r]=d.useState([]),[n,s]=d.useState(!0),[o,a]=d.useState(""),[i,l]=d.useState("");d.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const g=await B.get("/api/admin/drivers/details");r(g.data),a("")}catch{a("Failed to load driver data")}finally{s(!1)}},u=async(g,f)=>{try{await B.post("/api/admin/change-user-type",{userId:g,newUserType:f}),await c()}catch(m){a(m.message)}},h=async g=>{try{await B.delete(`/api/admin/remove-user/${g}`),await c()}catch(f){a(f.message)}},v=Array.isArray(t)?t.filter(g=>g.name.toLowerCase().includes(i.toLowerCase())||g.email.toLowerCase().includes(i.toLowerCase())||g.sponsorRelationships.some(f=>f.sponsorName.toLowerCase().includes(i.toLowerCase()))):[];return n?e.jsx(C,{sx:{width:"100%",mt:2},children:e.jsx(He,{})}):o?e.jsx(we,{severity:"error",sx:{mt:2},children:o}):e.jsxs(C,{sx:{width:"100%",p:3},children:[e.jsx(S,{variant:"h5",gutterBottom:!0,children:"Driver-Sponsor Associations"}),e.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(H,{fullWidth:!0,variant:"outlined",placeholder:"Search by driver name, email, or sponsor...",value:i,onChange:g=>l(g.target.value)}),e.jsx(Pe,{sx:{ml:-4},children:e.jsx(Sr,{})})]}),e.jsx(et,{component:Se,children:e.jsxs(Qe,{children:[e.jsx(tt,{children:e.jsxs(le,{children:[e.jsx(k,{children:"Driver Name"}),e.jsx(k,{children:"Email"}),e.jsx(k,{children:"Sponsors"}),e.jsx(k,{align:"center",children:"Total Sponsors"}),e.jsx(k,{children:"Points Distribution"}),e.jsx(k,{children:"User Type"}),e.jsx(k,{children:"Actions"})]})}),e.jsx(Ke,{children:v.map(g=>e.jsxs(le,{children:[e.jsx(k,{children:g.name}),e.jsx(k,{children:g.email}),e.jsx(k,{children:e.jsx(C,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:g.sponsorRelationships.map(f=>e.jsx(kt,{label:f.sponsorName,size:"small",color:"primary"},f.sponsorId))})}),e.jsx(k,{align:"center",children:g.sponsorRelationships.length}),e.jsx(k,{children:e.jsx(C,{sx:{display:"flex",alignItems:"center",gap:1},children:g.sponsorRelationships.map(f=>e.jsx(Tr,{title:`${f.sponsorName}: ${f.points} points`,children:e.jsx(C,{sx:{display:"flex",alignItems:"center"},children:e.jsx(S,{variant:"body2",children:f.points})})},f.sponsorId))})}),e.jsx(k,{children:e.jsxs(De,{size:"small",value:g.userType||"",onChange:f=>u(g.userId.toString(),f.target.value),children:[e.jsx(V,{value:"driver",children:"Driver"}),e.jsx(V,{value:"sponsor",children:"Sponsor"}),e.jsx(V,{value:"admin",children:"Admin"})]})}),e.jsx(k,{children:e.jsx(Pe,{onClick:()=>h(g.userId.toString()),color:"error",size:"small",children:e.jsx(wr,{})})})]},g.userId))})]})})]})};var Xs=(t=>(t.User="User",t.Point="Point",t.Purchase="Purchase",t.Application="Application",t.Product="Product",t.System="System",t))(Xs||{});const dc=()=>{const[t,r]=d.useState([]),[n,s]=d.useState(0),[o,a]=d.useState(!1),[i,l]=d.useState(null),[c,u]=d.useState({page:0,pageSize:10}),h=async()=>{try{a(!0),l(null);const p=new URLSearchParams;c.userID&&p.append("userId",c.userID.toString()),c.category&&p.append("category",c.category),c.startDate&&p.append("startDate",c.startDate.toISOString()),c.endDate&&p.append("endDate",c.endDate.toISOString()),p.append("page",(c.page+1).toString()),p.append("pageSize",c.pageSize.toString());const y=await B.get(`/api/reports/audit-logs?${p.toString()}`);r(y.data.logs),s(y.data.totalCount)}catch{l("Failed to fetch audit logs")}finally{a(!1)}},v=async()=>{try{const p=new URLSearchParams;c.startDate&&p.append("startDate",c.startDate.toISOString()),c.endDate&&p.append("endDate",c.endDate.toISOString()),c.category&&p.append("category",c.category);const y=await B.get(`/api/reports/audit-logs/export?${p.toString()}`,{responseType:"blob"}),b=window.URL.createObjectURL(new Blob([y.data])),j=document.createElement("a");j.href=b,j.setAttribute("download",`audit_logs_${hr(new Date,"yyyyMMdd")}.csv`),document.body.appendChild(j),j.click(),j.remove()}catch{l("Failed to export audit logs")}};d.useEffect(()=>{h()},[c]);const g=(p,y)=>{u(b=>({...b,page:y}))},f=p=>{u(y=>({...y,pageSize:parseInt(p.target.value,10),page:0}))},m=p=>{const y=p.target.value;u(b=>({...b,category:y||void 0,page:0}))},x=p=>({User:"primary",Point:"success",Purchase:"info",Application:"warning",Product:"secondary",System:"error"})[p]||"default";return e.jsx(Rs,{dateAdapter:Ys,children:e.jsx(C,{sx:{p:3},children:e.jsxs(U,{container:!0,spacing:3,children:[e.jsxs(U,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(S,{variant:"h4",children:"Audit Log Dashboard"}),e.jsx(_,{variant:"contained",startIcon:e.jsx(_n,{}),onClick:v,disabled:o,children:"Export CSV"})]}),i&&e.jsx(U,{item:!0,xs:12,children:e.jsx(we,{severity:"error",children:i})}),e.jsx(U,{item:!0,xs:12,children:e.jsx(Se,{sx:{p:2,mb:2},children:e.jsxs(U,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(U,{item:!0,xs:12,sm:6,md:2,children:e.jsx(H,{fullWidth:!0,label:"User ID",type:"number",value:c.userID||"",onChange:p=>u(y=>({...y,userID:p.target.value?parseInt(p.target.value):void 0,page:0}))})}),e.jsx(U,{item:!0,xs:12,sm:6,md:2,children:e.jsxs(Be,{fullWidth:!0,children:[e.jsx(Ve,{children:"Category"}),e.jsxs(De,{value:c.category||"",label:"Category",onChange:m,children:[e.jsx(V,{value:"",children:"All"}),Object.values(Xs).map(p=>e.jsx(V,{value:p,children:p},p))]})]})}),e.jsx(U,{item:!0,xs:12,sm:6,md:2,children:e.jsx(Ut,{label:"Start Date",value:c.startDate,onChange:p=>u(y=>({...y,startDate:p||void 0,page:0})),slotProps:{textField:{fullWidth:!0}}})}),e.jsx(U,{item:!0,xs:12,sm:6,md:2,children:e.jsx(Ut,{label:"End Date",value:c.endDate,onChange:p=>u(y=>({...y,endDate:p||void 0,page:0})),slotProps:{textField:{fullWidth:!0}}})}),e.jsx(U,{item:!0,xs:12,sm:6,md:1,children:e.jsx(Pe,{onClick:()=>h(),disabled:o,children:e.jsx(Yn,{})})})]})})}),e.jsx(U,{item:!0,xs:12,children:e.jsxs(Se,{children:[e.jsx(et,{children:e.jsxs(Qe,{children:[e.jsx(tt,{children:e.jsxs(le,{children:[e.jsx(k,{children:"Log ID"}),e.jsx(k,{children:"Timestamp"}),e.jsx(k,{children:"User"}),e.jsx(k,{children:"Category"}),e.jsx(k,{children:"Description"})]})}),e.jsx(Ke,{children:o?e.jsx(le,{children:e.jsx(k,{colSpan:5,align:"center",children:"Loading..."})}):t.length===0?e.jsx(le,{children:e.jsx(k,{colSpan:5,align:"center",children:"No audit logs found"})}):t.map(p=>e.jsxs(le,{children:[e.jsx(k,{children:p.logID}),e.jsx(k,{children:hr(new Date(p.timestamp),"MMM dd, yyyy HH:mm:ss")}),e.jsx(k,{children:p.userName||p.userID||"N/A"}),e.jsx(k,{children:e.jsx(kt,{label:p.category,size:"small",color:x(p.category)})}),e.jsx(k,{children:p.description})]},p.logID))})]})}),e.jsx(io,{component:"div",count:n,page:c.page,onPageChange:g,rowsPerPage:c.pageSize,onRowsPerPageChange:f,rowsPerPageOptions:[5,10,25,50]})]})})]})})})},lt={Driver:0,Sponsor:1,Admin:2},uc=({open:t,onClose:r})=>{const[n,s]=d.useState({Username:"",Email:"",Password:"",UserType:lt.Admin,CompanyName:"",SponsorType:"",PointDollarValue:.01,SponsorID:""}),o=i=>{const{name:l,value:c}=i.target;s(l==="UserType"?u=>({...u,[l]:lt[c]}):u=>({...u,[l]:l==="SponsorID"?c===""?"":parseInt(c):c}))},a=async i=>{var c,u;i.preventDefault();const l={...n,CompanyName:n.CompanyName||null,SponsorType:n.SponsorType||null,PointDollarValue:n.PointDollarValue||null,SponsorID:n.SponsorID===""?null:parseInt(n.SponsorID)};try{const h=await B.post("/api/admin/create-user",l,{headers:{"Content-Type":"application/json"}});alert("User created successfully"),r(),s({Username:"",Email:"",Password:"",UserType:"Admin",CompanyName:"",SponsorType:"",PointDollarValue:.01,SponsorID:""})}catch(h){const v=((u=(c=h.response)==null?void 0:c.data)==null?void 0:u.details)||"Failed to create user";alert(v)}};return e.jsx(Ss,{open:t,onClose:r,"aria-labelledby":"create-user-modal-title","aria-describedby":"create-user-modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs(C,{sx:{backgroundColor:"white",padding:4,borderRadius:2,width:"100%",maxWidth:400},children:[e.jsx(S,{id:"create-user-modal-title",variant:"h6",component:"h2",children:"Create New User"}),e.jsxs("form",{onSubmit:a,children:[e.jsx(C,{sx:{mb:2},children:e.jsx(H,{label:"Username",name:"Username",value:n.Username,onChange:o,required:!0,fullWidth:!0})}),e.jsx(C,{sx:{mb:2},children:e.jsx(H,{label:"Email",name:"Email",type:"email",value:n.Email,onChange:o,required:!0,fullWidth:!0})}),e.jsx(C,{sx:{mb:2},children:e.jsx(H,{label:"Password",name:"Password",type:"password",value:n.Password,onChange:o,required:!0,fullWidth:!0})}),e.jsx(C,{sx:{mb:2},children:e.jsxs(Be,{fullWidth:!0,children:[e.jsx(Ve,{id:"user-type-label",children:"User Type"}),e.jsxs(De,{labelId:"user-type-label",name:"UserType",value:Object.keys(lt).find(i=>lt[i]===n.UserType),onChange:o,required:!0,children:[e.jsx(V,{value:"Admin",children:"Admin"}),e.jsx(V,{value:"Sponsor",children:"Sponsor"}),e.jsx(V,{value:"Driver",children:"Driver"})]})]})}),n.UserType===lt.Sponsor&&e.jsxs(e.Fragment,{children:[e.jsx(C,{sx:{mb:2},children:e.jsx(H,{label:"Company Name",name:"CompanyName",value:n.CompanyName,onChange:o,required:!0,fullWidth:!0})}),e.jsx(C,{sx:{mb:2},children:e.jsx(H,{label:"Sponsor Type",name:"SponsorType",value:n.SponsorType,onChange:o,required:!0,fullWidth:!0})}),e.jsx(C,{sx:{mb:2},children:e.jsx(H,{label:"Point Dollar Value",name:"PointDollarValue",type:"number",step:"0.01",value:n.PointDollarValue,onChange:o,required:!0,fullWidth:!0})})]}),n.UserType===lt.Driver&&e.jsx(C,{sx:{mb:2},children:e.jsx(H,{label:"Sponsor ID",name:"SponsorID",type:"number",value:n.SponsorID,onChange:o,required:!0,fullWidth:!0})}),e.jsx(_,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Create User"})]})]})})},pc=()=>{const[t,r]=d.useState([]),[n,s]=d.useState(!0),[o,a]=d.useState(""),[i,l]=d.useState(""),[c,u]=d.useState(!1);d.useEffect(()=>{h()},[]);const h=async()=>{try{s(!0);const m=await B.get("/api/admin/admins/details");r(m.data),a("")}catch{a("Failed to load admin data")}finally{s(!1)}},v=async(m,x)=>{try{await B.post("/api/admin/change-user-type",{userId:m,newUserType:x}),await h()}catch(p){a(p.message)}},g=async m=>{try{await B.delete(`/api/admin/remove-user/${m}`),await h()}catch(x){a(x.message)}},f=t.filter(m=>m.name.toLowerCase().includes(i.toLowerCase())||m.email.toLowerCase().includes(i.toLowerCase()));return n?e.jsx(C,{sx:{width:"100%",mt:2},children:e.jsx(He,{})}):o?e.jsx(we,{severity:"error",sx:{mt:2},children:o}):e.jsxs(C,{sx:{width:"100%",p:3},children:[e.jsx(S,{variant:"h5",gutterBottom:!0,children:"Manage Administrators"}),e.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(H,{fullWidth:!0,variant:"outlined",placeholder:"Search admins by name or email...",value:i,onChange:m=>l(m.target.value),InputProps:{endAdornment:e.jsx(Pe,{children:e.jsx(Sr,{})})}}),e.jsx(_,{variant:"contained",color:"primary",onClick:()=>u(!0),sx:{ml:2},children:"Create User"})]}),c&&e.jsx(uc,{open:c,onClose:()=>u(!1)}),e.jsx(et,{component:Se,children:e.jsxs(Qe,{children:[e.jsx(tt,{children:e.jsxs(le,{children:[e.jsx(k,{children:"Name"}),e.jsx(k,{children:"Email"}),e.jsx(k,{children:"Created At"}),e.jsx(k,{children:"Last Login"}),e.jsx(k,{children:"User Type"}),e.jsx(k,{children:"Actions"})]})}),e.jsx(Ke,{children:f.map(m=>e.jsxs(le,{children:[e.jsx(k,{children:m.name}),e.jsx(k,{children:m.email}),e.jsx(k,{children:new Date(m.createdAt).toLocaleDateString()}),e.jsx(k,{children:new Date(m.lastLogin).toLocaleDateString()}),e.jsx(k,{children:e.jsxs(De,{size:"small",value:m.userType||"admin",onChange:x=>v(m.userId.toString(),x.target.value),children:[e.jsx(V,{value:"admin",children:"Admin"}),e.jsx(V,{value:"sponsor",children:"Sponsor"}),e.jsx(V,{value:"driver",children:"Driver"})]})}),e.jsx(k,{children:e.jsx(Pe,{onClick:()=>g(m.userId.toString()),color:"error",size:"small",children:e.jsx(wr,{})})})]},m.userId))})]})})]})},hc=()=>{const[t,r]=d.useState([]),[n,s]=d.useState([]),[o,a]=d.useState(!0),[i,l]=d.useState(null),[c,u]=d.useState("");d.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const[x,p]=await Promise.all([B.get("/api/admin/sponsors/details"),B.get("/api/admin/drivers/details")]);r(x.data);const y=new Map;p.data.forEach(b=>{b.sponsorRelationships.forEach(j=>{const A=y.get(j.sponsorId)||{sponsorId:j.sponsorId,sponsorName:j.sponsorName,totalDrivers:0,totalPoints:0,averagePoints:0};y.set(j.sponsorId,{...A,totalDrivers:A.totalDrivers+1,totalPoints:A.totalPoints+j.points,averagePoints:(A.totalPoints+j.points)/(A.totalDrivers+1)})})}),s(Array.from(y.values())),l(null)}catch{l("Failed to load sponsor data")}finally{a(!1)}},v=async(x,p)=>{try{await B.post("/api/admin/change-user-type",{userId:x,newUserType:p}),await fetchSponsors()}catch(y){l(y.message)}},g=async x=>{try{await B.delete(`/api/admin/remove-user/${x}`),await fetchSponsors()}catch(p){l(p.message)}},f=t.filter(x=>x.name.toLowerCase().includes(c.toLowerCase())||x.email.toLowerCase().includes(c.toLowerCase())||x.companyName.toLowerCase().includes(c.toLowerCase()));if(o)return e.jsx(C,{sx:{width:"100%",mt:2},children:e.jsx(He,{})});if(i)return e.jsx(we,{severity:"error",sx:{mt:2},children:i});const m=n.map(x=>({id:x.sponsorId,value:x.totalDrivers,label:x.sponsorName}));return n.map(x=>({value:x.totalPoints,label:x.sponsorName})),e.jsxs(C,{sx:{width:"100%",p:3},children:[e.jsx(S,{variant:"h5",gutterBottom:!0,children:"Sponsor Management Dashboard"}),e.jsxs(U,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(U,{item:!0,xs:12,md:4,children:e.jsx(fe,{children:e.jsxs(ye,{children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Total Sponsors"}),e.jsx(S,{variant:"h3",children:t.length})]})})}),e.jsx(U,{item:!0,xs:12,md:4,children:e.jsx(fe,{children:e.jsxs(ye,{children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Total Drivers"}),e.jsx(S,{variant:"h3",children:n.reduce((x,p)=>x+p.totalDrivers,0)})]})})}),e.jsx(U,{item:!0,xs:12,md:4,children:e.jsx(fe,{children:e.jsxs(ye,{children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Total Points"}),e.jsx(S,{variant:"h3",children:n.reduce((x,p)=>x+p.totalPoints,0).toLocaleString()})]})})})]}),e.jsxs(U,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(U,{item:!0,xs:12,md:6,children:e.jsx(fe,{children:e.jsxs(ye,{children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Driver Distribution by Sponsor"}),e.jsx(C,{sx:{height:400},children:e.jsx(jt,{series:[{data:m,highlightScope:{faded:"global",highlighted:"item"}}],height:350})})]})})}),e.jsx(U,{item:!0,xs:12,md:6,children:e.jsx(fe,{children:e.jsxs(ye,{children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Total Points by Sponsor"}),e.jsx(C,{sx:{height:400},children:e.jsx(Pr,{xAxis:[{scaleType:"band",data:n.map(x=>x.sponsorName)}],series:[{data:n.map(x=>x.totalPoints)}],height:350})})]})})})]}),e.jsx(fe,{children:e.jsxs(ye,{children:[e.jsx(C,{sx:{display:"flex",alignItems:"center",mb:3},children:e.jsx(H,{fullWidth:!0,variant:"outlined",placeholder:"Search sponsors by name, email, or company...",value:c,onChange:x=>u(x.target.value),InputProps:{endAdornment:e.jsx(Pe,{children:e.jsx(Sr,{})})}})}),e.jsx(et,{component:Se,children:e.jsxs(Qe,{children:[e.jsx(tt,{children:e.jsxs(le,{children:[e.jsx(k,{children:"Name"}),e.jsx(k,{children:"Email"}),e.jsx(k,{children:"Company"}),e.jsx(k,{children:"Sponsor Type"}),e.jsx(k,{children:"Point Value ($)"}),e.jsx(k,{children:"Total Drivers"}),e.jsx(k,{children:"Total Points"}),e.jsx(k,{children:"User Type"}),e.jsx(k,{children:"Actions"})]})}),e.jsx(Ke,{children:f.map(x=>{const p=n.find(y=>y.sponsorId===x.userId);return e.jsxs(le,{children:[e.jsx(k,{children:x.name}),e.jsx(k,{children:x.email}),e.jsx(k,{children:x.companyName}),e.jsx(k,{children:e.jsx(kt,{label:x.sponsorType,color:"primary",size:"small"})}),e.jsxs(k,{children:["$",x.pointDollarValue.toFixed(2)]}),e.jsx(k,{children:(p==null?void 0:p.totalDrivers)||0}),e.jsx(k,{children:(p==null?void 0:p.totalPoints.toLocaleString())||0}),e.jsx(k,{children:e.jsxs(De,{size:"small",value:x.userType||"sponsor",onChange:y=>v(x.userId.toString(),y.target.value),children:[e.jsx(V,{value:"sponsor",children:"Sponsor"}),e.jsx(V,{value:"admin",children:"Admin"}),e.jsx(V,{value:"driver",children:"Driver"})]})}),e.jsx(k,{children:e.jsx(Pe,{onClick:()=>g(x.userId.toString()),color:"error",size:"small",children:e.jsx(wr,{})})})]},x.userId)})})]})})]})})]})},mc=({profileData:t,onSave:r=s=>{},onUpdate:n=s=>{}})=>{const s=t||{firstName:"",lastName:"",phone:"",address:"",gender:"",nationality:"",preferredPronouns:"",dateOfBirth:"",profilePicture:""},[o,a]=d.useState(s),[i,l]=d.useState("");d.useEffect(()=>{const g=localStorage.getItem("userProfile");if(g){const f=JSON.parse(g);a(f),typeof f.profilePicture=="string"&&l(f.profilePicture)}},[]),d.useEffect(()=>{localStorage.setItem("userProfile",JSON.stringify(o))},[o]);const c=g=>{const{name:f,value:m}=g.target;a({...o,[f]:m})},u=g=>{const f=g.target.files?g.target.files[0]:null;if(f){const m=URL.createObjectURL(f);l(m),a({...o,profilePicture:f})}},h=()=>{r(o),localStorage.setItem("userProfile",JSON.stringify(o))},v=()=>{n(o),localStorage.setItem("userProfile",JSON.stringify(o))};return e.jsx(Dt,{maxWidth:"xs",children:e.jsxs(C,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(Rr,{sx:{m:1,bgcolor:"primary.light"},children:e.jsx(Zn,{})}),e.jsx(S,{variant:"h5",children:"User Profile"}),e.jsxs(C,{sx:{mt:3},children:[e.jsxs(U,{container:!0,spacing:2,children:[e.jsx(U,{item:!0,xs:12,sm:6,children:e.jsx(H,{margin:"normal",required:!0,fullWidth:!0,label:"First Name",name:"firstName",value:o.firstName,onChange:c})}),e.jsx(U,{item:!0,xs:12,sm:6,children:e.jsx(H,{margin:"normal",required:!0,fullWidth:!0,label:"Last Name",name:"lastName",value:o.lastName,onChange:c})})]}),e.jsx(H,{margin:"normal",required:!0,fullWidth:!0,label:"Phone Number",name:"phone",value:o.phone,onChange:c}),e.jsx(H,{margin:"normal",required:!0,fullWidth:!0,label:"Address",name:"address",value:o.address,onChange:c}),e.jsxs(H,{select:!0,margin:"normal",fullWidth:!0,label:"Gender",name:"gender",value:o.gender,onChange:c,children:[e.jsx(V,{value:"Male",children:"Male"}),e.jsx(V,{value:"Female",children:"Female"}),e.jsx(V,{value:"Non-Binary",children:"Non-Binary"}),e.jsx(V,{value:"Other",children:"Other"})]}),e.jsx(H,{margin:"normal",required:!0,fullWidth:!0,label:"Nationality",name:"nationality",value:o.nationality,onChange:c}),e.jsx(H,{margin:"normal",fullWidth:!0,label:"Preferred Pronouns",name:"preferredPronouns",value:o.preferredPronouns,onChange:c}),e.jsx(H,{margin:"normal",fullWidth:!0,label:"Date of Birth",name:"dateOfBirth",type:"date",InputLabelProps:{shrink:!0},value:o.dateOfBirth,onChange:c}),i&&e.jsx(C,{component:"img",src:i,alt:"Profile Preview",sx:{width:"100%",height:"auto",maxHeight:"200px",mt:2,mb:2}}),e.jsxs(_,{variant:"contained",component:"label",fullWidth:!0,sx:{mt:2,mb:2},children:["Upload Profile Picture",e.jsx("input",{type:"file",hidden:!0,name:"profilePicture",accept:"image/*",onChange:u})]}),e.jsx(_,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:h,children:"Save"}),e.jsx(_,{fullWidth:!0,variant:"outlined",sx:{mt:1,mb:2},onClick:v,children:"Update Profile"})]})]})})};function xs(t,r){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s,o,a=n.call(t),i=[];try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}var cr=function(t){var r=t.children;return Fe.createElement("div",{className:"react-terminal-line"},r)},Gt;(function(t,r){r===void 0&&(r={});var n=r.insertAt;if(typeof document<"u"){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}})(`/**
 * Modfied version of [termynal.js](https://github.com/ines/termynal/blob/master/termynal.css).
 *
 * @author Ines Montani <ines@ines.io>
 * @version 0.0.1
 * @license MIT
 */
 .react-terminal-wrapper {
  width: 100%;
  background: #252a33;
  color: #eee;
  font-size: 18px;
  font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace;
  border-radius: 4px;
  padding: 75px 45px 35px;
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
 }

.react-terminal {
  overflow: auto;
  display: flex;
  flex-direction: column;
}

.react-terminal-wrapper.react-terminal-light {
  background: #ddd;
  color: #1a1e24;
}

.react-terminal-window-buttons {
  position: absolute;
  top: 15px;
  left: 15px;
  display: flex;
  flex-direction: row;
  gap: 10px;
}

.react-terminal-window-buttons button {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  border: 0;
}

.react-terminal-window-buttons button.clickable {
  cursor: pointer;
}

.react-terminal-window-buttons button.red-btn {
  background: #d9515d;
}

.react-terminal-window-buttons button.yellow-btn {
  background: #f4c025;
}

.react-terminal-window-buttons button.green-btn {
  background: #3ec930;
}

.react-terminal-wrapper:after {
  content: attr(data-terminal-name);
  position: absolute;
  color: #a2a2a2;
  top: 5px;
  left: 0;
  width: 100%;
  text-align: center;
  pointer-events: none;
}

.react-terminal-wrapper.react-terminal-light:after {
  color: #D76D77;
}

.react-terminal-line {
  white-space: pre;
}

.react-terminal-line:before {
  /* Set up defaults and ensure empty lines are displayed. */
  content: '';
  display: inline-block;
  vertical-align: middle;
  color: #a2a2a2;
}

.react-terminal-light .react-terminal-line:before {
  color: #D76D77;
}

.react-terminal-input:before {
  margin-right: 0.75em;
  content: '$';
}

.react-terminal-input[data-terminal-prompt]:before {
  content: attr(data-terminal-prompt);
}

.react-terminal-wrapper:focus-within .react-terminal-active-input .cursor {
  position: relative;
  display: inline-block;
  width: 0.55em;
  height: 1em;
  top: 0.225em;
  background: #fff;
  -webkit-animation: blink 1s infinite;
          animation: blink 1s infinite;
}

/* Cursor animation */

@-webkit-keyframes blink {
  50% {
      opacity: 0;
  }
}

@keyframes blink {
  50% {
      opacity: 0;
  }
}

.terminal-hidden-input {
    position: fixed;
    left: -1000px;
}

/* .react-terminal-progress {
  display: flex;
  margin: .5rem 0;
}

.react-terminal-progress-bar {
  background-color: #fff;
  border-radius: .25rem;
  width: 25%;
}

.react-terminal-wrapper.react-terminal-light .react-terminal-progress-bar {
  background-color: #000;
} */
`),function(t){t[t.Light=0]="Light",t[t.Dark=1]="Dark"}(Gt||(Gt={}));var xc=function(t){var r=t.name,n=t.prompt,s=t.height,o=s===void 0?"600px":s,a=t.colorMode,i=t.onInput,l=t.children,c=t.startingInputValue,u=c===void 0?"":c,h=t.redBtnCallback,v=t.yellowBtnCallback,g=t.greenBtnCallback,f=t.scrollToPosition,m=f===void 0||f,x=xs(d.useState(""),2),p=x[0],y=x[1],b=xs(d.useState(0),2),j=b[0],A=b[1],E=d.useRef(null);d.useEffect(function(){y(u.trim())},[u]),d.useEffect(function(){var D,F;if(i!=null){var T=[],M=function(I){var w=function(){var L;return(L=I==null?void 0:I.querySelector(".terminal-hidden-input"))===null||L===void 0?void 0:L.focus()};I==null||I.addEventListener("click",w),T.push({terminalEl:I,listener:w})};try{for(var $=function(I){var w=typeof Symbol=="function"&&Symbol.iterator,L=w&&I[w],X=0;if(L)return L.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&X>=I.length&&(I=void 0),{value:I&&I[X++],done:!I}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")}(document.getElementsByClassName("react-terminal-wrapper")),G=$.next();!G.done;G=$.next())M(G.value)}catch(I){D={error:I}}finally{try{G&&!G.done&&(F=$.return)&&F.call($)}finally{if(D)throw D.error}}return function(){T.forEach(function(I){I.terminalEl.removeEventListener("click",I.listener)})}}},[i]);var N=["react-terminal-wrapper"];return a===Gt.Light&&N.push("react-terminal-light"),Fe.createElement("div",{className:N.join(" "),"data-terminal-name":r},Fe.createElement("div",{className:"react-terminal-window-buttons"},Fe.createElement("button",{className:(v?"clickable":"")+" red-btn",disabled:!h,onClick:h}),Fe.createElement("button",{className:(v?"clickable":"")+" yellow-btn",disabled:!v,onClick:v}),Fe.createElement("button",{className:(g?"clickable":"")+" green-btn",disabled:!g,onClick:g})),Fe.createElement("div",{className:"react-terminal",style:{height:o}},l,typeof i=="function"&&Fe.createElement("div",{className:"react-terminal-line react-terminal-input react-terminal-active-input","data-terminal-prompt":n||"$",key:"terminal-line-prompt"},p,Fe.createElement("span",{className:"cursor",style:{left:j+1+"px"}})),Fe.createElement("div",{ref:E})),Fe.createElement("input",{className:"terminal-hidden-input",placeholder:"Terminal Hidden Input",value:p,autoFocus:i!=null,onChange:function(D){y(D.target.value)},onKeyDown:function(D){var F,T,M;if(i){if(D.key==="Enter")i(p),A(0),y(""),m&&setTimeout(function(){var L;return(L=E==null?void 0:E.current)===null||L===void 0?void 0:L.scrollIntoView({behavior:"auto",block:"nearest"})},500);else if(["ArrowLeft","ArrowRight","ArrowDown","ArrowUp","Delete"].includes(D.key)){var $=D.currentTarget,G="",I=p.length-($.selectionStart||0);F=I,T=0,M=p.length,I=F>M?M:F<T?T:F,D.key==="ArrowLeft"?(I>p.length-1&&I--,G=p.slice(p.length-1-I)):D.key==="ArrowRight"||D.key==="Delete"?G=p.slice(p.length-I+1):D.key==="ArrowUp"&&(G=p.slice(0));var w=function(L,X){var q=document.createElement("span");q.style.visibility="hidden",q.style.position="absolute",q.style.fontSize=window.getComputedStyle(L).fontSize,q.style.fontFamily=window.getComputedStyle(L).fontFamily,q.innerText=X,document.body.appendChild(q);var W=q.getBoundingClientRect().width;return document.body.removeChild(q),-W}($,G);A(w)}}}}))};const gc=()=>{const{user:t}=ze(),[r,n]=d.useState([e.jsxs(cr,{children:["Welcome ",(t==null?void 0:t.userName)||"Admin"," to the GitGud Drivers Admin Console",`
`,"Type 'help' for available commands"]},"welcome")]),s=o=>{const[a,...i]=o.split(" ");let l="";switch(a){case"help":l=`Available commands:
  help - Show this help message
  status - Show system status
  users - List recent user activities
  clear - Clear console
  audit [date] - Show audit logs for date (YYYY-MM-DD)
  metrics - Show system metrics
  version - Show system version`;break;case"status":l=`System Status: Operational
Last backup: 2024-03-10
Active users: 42
Server load: Normal`;break;case"users":l=`Recent User Activities:
admin1@gitgud.com - Login - 2 mins ago
driver2@email.com - Updated profile - 5 mins ago
sponsor1@company.com - Approved application - 10 mins ago`;break;case"metrics":l=`System Metrics:
CPU Usage: 45%
Memory: 2.1GB/4GB
Active Sessions: 12
Response Time: 230ms`;break;case"audit":const c=i[0];!c||!/^\d{4}-\d{2}-\d{2}$/.test(c)?l="Error: Please provide a date in YYYY-MM-DD format":l=`Fetching audit logs for ${c}...
[${c} 09:15:23] User login - admin1@gitgud.com
[${c} 09:20:45] Configuration change - System settings updated
[${c} 10:30:12] New user registration - driver3@email.com`;break;case"version":l="GitGud Drivers v1.0.0";break;case"clear":n([]);return;default:l=`Unknown command: ${a}. Type 'help' for available commands.`}n(c=>[...c,e.jsx(cr,{children:`$ ${o}`},`input-${Date.now()}`),e.jsx(cr,{children:l},`output-${Date.now()}`)])};return e.jsx(C,{sx:{p:2},children:e.jsxs(Se,{elevation:3,sx:{bgcolor:"#1a1a1a",borderRadius:1,overflow:"hidden",height:"500px"},children:[e.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,bgcolor:"#2d2d2d",p:1,borderBottom:"1px solid #333"},children:[e.jsx(Ts,{sx:{color:"#fff"}}),e.jsx(S,{variant:"h6",sx:{color:"#fff"},children:"Admin Console"})]}),e.jsx("div",{style:{height:"calc(100% - 48px)",background:"#1a1a1a"},children:e.jsx(xc,{name:"Admin Console",colorMode:Gt.Dark,prompt:"$",onInput:s,children:r})})]})})},fc={MAIN:e.jsx(C,{children:e.jsx(S,{variant:"h6",children:"Dashboard Home"})}),CHANGE_PASSWORD:e.jsx(_s,{}),MANAGE_DRIVERS:e.jsx(cc,{}),MANAGE_SPONSORS:e.jsx(hc,{}),MANAGE_ADMINS:e.jsx(pc,{}),ADMIN_REPORTS:e.jsx(lc,{}),ADMIN_AUDIT_REPORTS:e.jsx(dc,{}),ADMIN_CONSOLE:e.jsx(gc,{}),DRIVER_APPLICATION:e.jsx(Yl,{}),DRIVER_POINTS:e.jsx(Ql,{}),DRIVER_ACTIVITY:e.jsx(Kl,{}),DRIVER_POINTS_HISTORY:e.jsx(tc,{}),PROFILE:e.jsx(mc,{}),APPLICATION_MANAGER:e.jsx(Jl,{}),SPONSOR_REPORTS:e.jsx(ic,{}),SPONSOR_AUDIT_REPORTS:e.jsx(S,{children:"Audit Reports"}),SPONSOR_DRIVERS:e.jsx(ec,{})};function yc(){const{currentView:t}=Vs();return d.useEffect(()=>{},[t]),e.jsx(C,{sx:{width:"100%"},children:fc[t]||e.jsx(S,{children:"Select an option to view content"})})}const vc=()=>{const{user:t,viewRole:r,setViewRole:n}=ze(),s=r||(t==null?void 0:t.userType),{announce:o}=Bl(),a=l=>{const c=l.target.value;n(c),o(`View changed to ${c}`)},i=()=>{n(null),o("View reset back to original role")};return e.jsxs(C,{sx:{display:"flex",width:"100%",minHeight:"100vh"},children:[e.jsx(Mr,{}),e.jsx("a",{href:"#dashboard-main",style:{position:"absolute",left:"-9999px",zIndex:999,padding:"1rem",background:"#fff",textDecoration:"none"},onFocus:l=>{l.currentTarget.style.left="1rem"},onBlur:l=>{l.currentTarget.style.left="-9999px"},children:"Skip to dashboard content"}),e.jsxs(C,{component:"main",sx:{flexGrow:1,display:"flex",flexDirection:"column",ml:"15px"},children:[e.jsx(C,{sx:{p:2},children:e.jsxs(Ne,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(S,{variant:"h6",component:"h1",tabIndex:0,"aria-label":`Dashboard - Current role: ${s}`,children:"Dashboard"}),t&&(t.userType==="Admin"||t.userType==="Sponsor")&&e.jsxs(De,{value:r||"",onChange:a,displayEmpty:!0,sx:{minWidth:180},"aria-label":"Select role to view as",renderValue:()=>"Select a role to view",children:[e.jsx(V,{disabled:!0,value:"",children:e.jsx("em",{children:"Select a role to view"})}),t.userType==="Admin"&&[e.jsx(V,{value:"Driver",children:"Driver"},"Driver"),e.jsx(V,{value:"Sponsor",children:"Sponsor"},"Sponsor"),e.jsx(V,{value:"Guest",children:"Guest"},"Guest")],t.userType==="Sponsor"&&e.jsx(V,{value:"Driver",children:"Driver"},"Driver")]}),r&&e.jsx(_,{onClick:i,"aria-label":"Exited view as mode",children:'Exit "View As"'})]})}),e.jsx(yc,{})]})]})},gs="productCatalog",bc=10*60*1e3,jc=()=>{const[t,r]=d.useState([]),[n,s]=d.useState(!0),[o,a]=d.useState(null),[i,l]=d.useState({}),[c,u]=d.useState(!1),[h,v]=d.useState([]),[g,f]=d.useState(""),[m,x]=d.useState(""),[p,y]=d.useState(!1),b=dt();d.useEffect(()=>{j()},[]),d.useEffect(()=>{const w=localStorage.getItem(gs);if(w){const{listings:L,timestamp:X}=JSON.parse(w);if(Date.now()-X<bc){r(L),s(!1);return}}A()},[]);const j=async()=>{try{const w=await B.get("/api/driver/my-sponsors");v(w.data),w.data.length>0&&f(w.data[0].sponsorId)}catch{a("Failed to load sponsor points data")}},A=async()=>{var w;try{const X=(await B.get("/api/catalog/products")).data.map(q=>({id:q.productID,productId:q.productID,name:q.name,price:q.price,imageUrl:q.imageUrl,pointCost:E(q.price)}));r(X),localStorage.setItem(gs,JSON.stringify({listings:X,timestamp:Date.now()}))}catch(L){a(((w=L.response)==null?void 0:w.data)||"Failed to load products.")}finally{s(!1)}},E=w=>{const L=h.find(q=>q.sponsorId===g);if(!L)return 0;const X=parseFloat(w.split(" ")[0]);return Math.ceil(X/L.pointDollarValue)},N=async w=>{const L=h.find(X=>X.sponsorId===g);if(!(!L||!w.pointCost)){L.totalPoints<E(w.price)&&x(`Not enough points! You need ${w.pointCost} points but have ${L.totalPoints}`),y(!0);try{T(w);const X=await B.post("/api/driver/purchase",{SponsorID:g,ProductID:w.productId,PointsSpent:w.pointCost});v(X.data.remainingPoints)}catch{x("Failed to update points"),y(!0)}}};if(n)return e.jsx(Xe,{});if(o)return e.jsx(we,{severity:"error",children:o});const D=h.find(w=>w.sponsorId===g),F=()=>i[g]||[],T=w=>{typeof g=="number"&&l(L=>({...L,[g]:[...L[g]||[],{...w,productId:w.id}]}))},M=()=>u(!0),$=()=>u(!1),G=()=>{l(w=>({...w,[g]:[]}))},I=async()=>{const w=F();b("/order",{state:{cartItems:w,sponsorId:g,points:D==null?void 0:D.totalPoints,pointValue:D==null?void 0:D.pointDollarValue}}),$()};return e.jsxs(e.Fragment,{children:[e.jsxs(Dt,{children:[e.jsx(S,{variant:"h4",component:"h1",gutterBottom:!0,children:"Product Catalog"}),e.jsxs(Be,{fullWidth:!0,sx:{mb:4},children:[e.jsx(Ve,{children:"Select Sponsor"}),e.jsx(De,{value:g,label:"Select Sponsor",onChange:w=>f(w.target.value),children:h.map(w=>e.jsxs(V,{value:w.sponsorId,children:[w.sponsorName," - ",w.totalPoints.toLocaleString()," points available"]},w.sponsorId))})]}),D&&e.jsxs(we,{severity:"info",sx:{mb:2},children:["You have ",D.totalPoints.toLocaleString()," points available with ",D.sponsorName,". Point Value: $",D.pointDollarValue.toFixed(2)," per point"]}),e.jsx(C,{sx:{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"flex-start"},children:t.map((w,L)=>e.jsxs(fe,{sx:{width:"calc(33.333% - 16px)",maxWidth:"calc(33.333% - 16px)",marginBottom:2},children:[e.jsx(Va,{component:"img",height:"200",image:w.imageUrl,alt:w.name,sx:{objectFit:"cover"}}),e.jsxs(ye,{children:[e.jsx(S,{variant:"h6",component:"p",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:w.name}),e.jsx(ot,{title:"Price",value:w.price}),e.jsx(ot,{title:"Point Cost",value:E(w.price).toLocaleString()}),e.jsx(_,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{N(w),!D||(w.pointCost||0)>D.totalPoints||T(w)},sx:{mt:2},children:"Add to Cart"})]})]},L))}),e.jsx(Lr,{open:p,autoHideDuration:3e3,onClose:()=>y(!1),message:m}),e.jsx(C,{sx:{position:"fixed",top:80,right:16,display:"flex",flexDirection:"column",gap:2},children:e.jsx(_,{variant:"contained",color:"secondary",onClick:M,children:"View Cart"})})]}),e.jsxs(jr,{open:c,onClose:$,children:[e.jsx(Er,{children:"Your Cart"}),e.jsx(Ir,{children:F().length>0?e.jsx(ur,{children:F().map((w,L)=>e.jsx(pr,{children:e.jsx(Vt,{primary:w.name,secondary:`Price: ${E(w.price).toLocaleString()}`})},L))}):e.jsx(S,{variant:"body1",children:"Your cart is empty."})}),e.jsxs(Ar,{children:[e.jsx(_,{onClick:G,color:"error",children:"Clear Cart"}),e.jsx(_,{onClick:I,color:"primary",variant:"contained",disabled:F().length===0,children:"Proceed to Checkout"})]})]})]})},Sc=({text:t,href:r})=>e.jsx("a",{href:r,className:"inline-block border border-blue-500 rounded px-1 text-blue-600 hover:bg-blue-50",style:{display:"inline-block",border:"1px solid #3b82f6",borderRadius:"4px",padding:"0 4px",color:"#2563eb",textDecoration:"none"},onMouseOver:n=>{n.currentTarget.style.backgroundColor="#eff6ff"},onMouseOut:n=>{n.currentTarget.style.backgroundColor="transparent"},children:t}),wc=(t,r)=>{if(!r||r.length===0)return t;let n=t;return r.forEach(o=>{n=n.replace(o.text,`__LINK_${o.text}__`)}),n.split(/__LINK_|__/).map((o,a)=>{const i=r.find(l=>l.text===o);return i?e.jsx(Sc,{text:i.text,href:i.href},a):e.jsx("span",{children:o},a)})},Cc=({question:t,answer:r,links:n})=>e.jsxs(ra,{children:[e.jsx(pa,{expandIcon:e.jsx(Ds,{}),"aria-controls":"panel-content",id:"panel-header",children:e.jsx(S,{children:t})}),e.jsx(aa,{children:e.jsx(S,{component:"div",children:wc(r,n)})})]}),kc=()=>{const t=[{question:"How do I create an account?",answer:"To create an account, click on the 'Sign Up' Button, and from there you will become a guest.",links:[{text:"Sign Up",href:"/register"}]},{question:"How can I become a driver?",answer:"To become a driver, you need to apply with one of the sponsors associated with our program. Once they have accepted your application, you will automatically become a driver."},{question:"What are the password requirements?",answer:"To create a password, it must have a number, a lowercase letter, an uppercase letter, be at least 8 characters long and no characters can be repeated."},{question:"How can I reset my password?",answer:"If you've forgotten your password, click on the 'Forgot Password' link on the login page.",links:[{text:"Forgot Password",href:"/reset-password"},{text:"login page",href:"/login"}]},{question:"How do I earn points?",answer:"To earn points, first you must be associated with at least one sponsor. From there, simply follow instructions from your sponsor to earn points."},{question:"How do I apply to a sponsor?",answer:"To apply to be a sponsor, simply reach out to us and we will create an account for you if you meet our requirements."},{question:"What can I spend my points on?",answer:"You can exchange your points for a variety of items from your sponsors catalog. Each of our sponsors has a unique selection of items.",links:[{text:"sponsors catalog",href:"/catalog"}]}];return e.jsxs("div",{children:[e.jsx(S,{variant:"h4",gutterBottom:!0,children:"Frequently Asked Questions"}),t.map((r,n)=>e.jsx(Cc,{question:r.question,answer:r.answer,links:r.links},n))]})},Dc=()=>{const[t,r]=d.useState(""),[n,s]=d.useState(""),[o,a]=d.useState(""),[i,l]=d.useState(!1),[c,u]=d.useState(""),h=async g=>{if(g.preventDefault(),!t||!n||!o){u("Please fill in all fields");return}if(!/\S+@\S+\.\S+/.test(n)){u("Please enter a valid email address");return}try{await B.post("/api/user/feedback",{Name:t,Email:n,Description:o,SubmissionDate:new Date().toISOString()}),l(!0),r(""),s(""),a(""),u("")}catch{u("An error occurred while submitting your feedback. Please try again later.")}},v=(g,f)=>{f!=="clickaway"&&l(!1)};return e.jsxs(C,{component:"form",onSubmit:h,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:600,margin:"auto",p:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(S,{variant:"h4",component:"h1",gutterBottom:!0,children:"Provide Feedback"}),e.jsx(H,{label:"Your Name",fullWidth:!0,margin:"normal",value:t,onChange:g=>r(g.target.value),required:!0}),e.jsx(H,{label:"Your Email",type:"email",fullWidth:!0,margin:"normal",value:n,onChange:g=>s(g.target.value),required:!0}),e.jsx(H,{label:"Your Feedback",fullWidth:!0,margin:"normal",multiline:!0,rows:4,value:o,onChange:g=>a(g.target.value),required:!0}),e.jsx(_,{type:"submit",variant:"contained",size:"large",fullWidth:!0,sx:{mt:3,mb:2},children:"Submit Feedback"}),c&&e.jsx(S,{color:"error",sx:{mt:2},children:c}),e.jsx(Lr,{open:i,autoHideDuration:6e3,onClose:v,children:e.jsx(we,{onClose:v,severity:"success",sx:{width:"100%"},children:"Thank you for your feedback!"})})]})},Tc=()=>{const[t,r]=d.useState(!1);d.useState(null);const n=()=>{r(!1),c("/catalog")},s=ks(),{cartItems:o,sponsorId:a,points:i,pointValue:l}=s.state||{},c=dt(),u=()=>(o==null?void 0:o.reduce((v,g)=>{const f=parseFloat(g.price.split(" ")[0]);return v+Math.ceil(f/l)},0))||0,h=async()=>{var v,g;try{const f=o.map(m=>{const x=Math.ceil(parseFloat(m.price.split(" ")[0])/l);return B.post("/api/driver/purchase",{SponsorID:a,ProductID:m.productID||m.productId,PointsSpent:x})});await Promise.all(f),r(!0)}catch(f){const m=((g=(v=f.response)==null?void 0:v.data)==null?void 0:g.message)||"Failed to complete order";alert(m)}};return e.jsxs(Dt,{maxWidth:"md",children:[e.jsx(_,{variant:"outlined",onClick:()=>c("/catalog"),sx:{mb:2},children:"Back"}),e.jsx(S,{variant:"h4",align:"center",gutterBottom:!0,children:"Secure Checkout"}),e.jsxs(U,{container:!0,spacing:4,children:[e.jsx(U,{item:!0,xs:12,sm:7,children:e.jsxs(C,{children:[e.jsx(S,{variant:"h6",children:"1. Delivery Address"}),e.jsx(S,{variant:"body2",children:"All fields marked with * are required"}),e.jsxs(U,{container:!0,spacing:2,mt:2,children:[" ",e.jsx(U,{item:!0,xs:12,children:e.jsx(H,{label:"Email address *",fullWidth:!0,variant:"outlined"})}),e.jsx(U,{item:!0,xs:6,children:e.jsx(H,{label:"First name *",fullWidth:!0,variant:"outlined"})}),e.jsx(U,{item:!0,xs:6,children:e.jsx(H,{label:"Last name *",fullWidth:!0,variant:"outlined"})}),e.jsx(U,{item:!0,xs:12,children:e.jsx(H,{label:"Address *",fullWidth:!0,variant:"outlined"})}),e.jsx(U,{item:!0,xs:6,children:e.jsx(H,{label:"City *",fullWidth:!0,variant:"outlined"})}),e.jsx(U,{item:!0,xs:6,children:e.jsx(H,{label:"ZIP code *",fullWidth:!0,variant:"outlined"})}),e.jsx(U,{item:!0,xs:12,children:e.jsx(H,{label:"Country *",fullWidth:!0,variant:"outlined",defaultValue:"United States"})})]})]})}),e.jsx(U,{item:!0,xs:12,sm:5,children:e.jsxs(C,{children:[e.jsx(S,{variant:"h6",children:"Order Summary"}),e.jsx(U,{container:!0,spacing:2,mt:2,alignItems:"center",children:o&&o.map((v,g)=>e.jsxs(U,{container:!0,children:[e.jsx(U,{item:!0,xs:8,children:e.jsx(S,{variant:"subtitle1",children:v.name})}),e.jsx(U,{item:!0,xs:4,textAlign:"right",children:e.jsxs(S,{children:[Math.ceil(parseFloat(v.price.split(" ")[0])/l)," points"]})})]},g))}),e.jsxs(C,{mt:2,textAlign:"right",children:[e.jsxs(S,{variant:"h6",children:["Total: ",u()," points"]}),e.jsxs(S,{variant:"h6",children:["Current Points: ",i]}),e.jsx(_,{variant:"contained",color:"primary",fullWidth:!0,onClick:h,sx:{mt:2},children:"Complete Order"})]})]})})]}),e.jsxs(jr,{open:t,onClose:n,children:[e.jsx(Er,{children:"Order Complete"}),e.jsxs(Ir,{children:[e.jsxs(S,{children:["Your order has been successfully completed! Remaining points: ",i-u()]})," "]}),e.jsx(Ar,{children:e.jsx(_,{onClick:n,color:"primary",children:"Close"})})]})]})},Pc=({title:t,buttons:r})=>e.jsxs(C,{sx:{mt:3},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:t}),r.map((n,s)=>e.jsx(_,{component:at,to:n.path,variant:"contained",sx:{m:1},children:n.label},s))]}),Ic=()=>{const{notifySettings:t,updateNotifySetting:r,user:n}=ze(),[s,o]=d.useState(!1),{fontSize:a,setFontSize:i,accessibleTokens:l,setAccessibleTokens:c}=Nl(),[u,h]=d.useState("default"),v=()=>{o(m=>!m)},g=(m,x)=>{typeof x=="number"&&i(x)},f=m=>{const x=m.target.value;h(x),c(Hs(x))};return e.jsxs(C,{sx:{width:"100%",maxWidth:600,margin:"auto"},children:[e.jsx(S,{variant:"h4",component:"h2",gutterBottom:!0,children:"Settings"}),e.jsx(S,{variant:"h5",component:"h2",gutterBottom:!0,sx:{mt:3},children:"Account Settings"}),e.jsx(Pc,{title:"",buttons:[{label:"Update Email",path:"/update-email"},{label:"Change Password",path:"/change-password"}]}),e.jsx(S,{variant:"h5",component:"h2",gutterBottom:!0,sx:{mt:3},children:"Notification Settings"}),e.jsx(_,{variant:"outlined",onClick:v,children:s?"Hide Preferences":"Change Preferences"}),e.jsx(St,{in:s,timeout:"auto",unmountOnExit:!0,children:e.jsx(fe,{variant:"outlined",sx:{mt:2},children:e.jsx(ye,{children:e.jsx(Ee,{container:!0,spacing:2,children:Object.keys(t).map(m=>(m==="applicationApproved"||m==="orderIssue")&&(n==null?void 0:n.userType)!=="Driver"?null:e.jsx(Ee,{size:{xs:12,sm:6,md:4},children:e.jsx(Tr,{title:m==="systemDrop"||m==="applicationApproved"?"This setting cannot be disabled.":"",placement:"top",children:e.jsx(_t,{control:e.jsx(cl,{checked:t[m],onChange:()=>r(m,!t[m]),disabled:m==="systemDrop"||m==="applicationApproved",color:"primary"}),label:e.jsx(S,{variant:"body2",children:m.replace(/([A-Z])/g," $1").replace(/^./,x=>x.toUpperCase())})})})},m))})})})}),e.jsx(S,{variant:"h5",component:"h2",gutterBottom:!0,sx:{mt:3},children:"Accessibility"}),e.jsx(fe,{variant:"outlined",sx:{mt:2},children:e.jsxs(ye,{children:[e.jsx(S,{variant:"body1",gutterBottom:!0,children:"Font Size"}),e.jsx(_i,{value:a,min:12,max:20,step:1,valueLabelDisplay:"auto",onChange:g,sx:{width:"100%"}}),e.jsx(S,{variant:"body1",gutterBottom:!0,sx:{mt:3},children:"Color Palette"}),e.jsxs(Be,{fullWidth:!0,children:[e.jsx(Ve,{id:"accessibility-profile-select-label",children:"Accessibility Profile"}),e.jsx(De,{labelId:"accessibility-profile-select-label",value:u,onChange:f,children:["default","highContrast","colorBlind","monochrome"].map(m=>e.jsx(V,{value:m,children:m.replace(/([A-Z])/g," $1").replace(/^./,x=>x.toUpperCase())},m))})]})]})})]})},Ac=()=>{const{isAuthenticated:t}=ze();return t?e.jsxs(C,{sx:{display:"flex"},children:[e.jsx(Fl,{}),e.jsx(C,{sx:{flexGrow:1},children:e.jsx(In,{})})]}):e.jsx(dr,{to:"/",replace:!0})},Rc=()=>{const{isAuthenticated:t}=ze();return t?e.jsx(dr,{to:"/dashboard",replace:!0}):e.jsx(dr,{to:"/home",replace:!0})},Mc=()=>e.jsx(Tl,{children:e.jsxs(Pl,{children:[e.jsxs(Wl,{children:[" ",e.jsxs($l,{children:[e.jsx("a",{href:"#main-content",style:{position:"absolute",left:"-9999px",zIndex:999,padding:"1rem",background:"#fff",textDecoration:"none"},onFocus:t=>{t.currentTarget.style.left="1rem"},onBlur:t=>{t.currentTarget.style.left="-9999px"},children:"Skip to main content"}),e.jsx(Ml,{}),e.jsx(kr,{}),e.jsx(C,{sx:{mt:1,width:"100%"},children:e.jsxs(Pn,{children:[e.jsx(Me,{path:"/",element:e.jsx(Rc,{})}),e.jsx(Me,{path:"/about",element:e.jsx(Ul,{})}),e.jsx(Me,{path:"/login",element:e.jsx(Hl,{})}),e.jsx(Me,{path:"/register",element:e.jsx(_l,{})}),e.jsx(Me,{path:"/home",element:e.jsx(Vl,{})}),e.jsx(Me,{path:"/faq",element:e.jsx(kc,{})}),e.jsx(Me,{path:"/feedback",element:e.jsx(Dc,{})}),e.jsxs(Me,{element:e.jsx(Ac,{}),children:[e.jsx(Me,{path:"/dashboard",element:e.jsx(vc,{})}),e.jsx(Me,{path:"/catalog",element:e.jsx(jc,{})}),e.jsx(Me,{path:"/change-password",element:e.jsx(_s,{})}),e.jsx(Me,{path:"/settings",element:e.jsx(Ic,{})}),e.jsx(Me,{path:"/order",element:e.jsx(Tc,{})})]})]})})]})]})," "]})});mr.createRoot(document.getElementById("root")).render(e.jsx(An,{children:e.jsx(Mc,{})}));
