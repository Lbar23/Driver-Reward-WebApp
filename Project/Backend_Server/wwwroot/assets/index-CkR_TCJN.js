import{j as e,a8 as te,a9 as Fe,r as o,aa as P,ab as me,c as or,ac as ar,h as nr,ad as ir,ae as R,af as lr,ag as cr,ah as dr}from"./vendor-DP5bmecC.js";import{B as ur,b as pr,I as ve,S as A,L as Ie,a as Pe,c as Re,d as be,e as fe,D as hr,f as xr,g as gr,H as mr,h as br,A as Ae,F as fr,C as H,i as N,j as jr,T as d,k as D,l as Be,m as Ce,n as qe,N as He,o as G,p as Ne,u as yr,q as de,r as j,M as Ue,s as Q,t as vr,v as Cr,w as ue,x as Ve,y as Sr,z as wr,E as kr,G as Ir,J as Ge,K as f,O as ce,P as De,Q as Pr,R as Rr,U as Ar,V as Dr,W as zr,X as Tr,Y as Ye,Z as z,_ as Mr,$ as xe,a0 as Ze,a1 as $r,a2 as ze,a3 as Te,a4 as Lr,a5 as pe,a6 as q,a7 as Y,a8 as O,a9 as T,aa as je,ab as se,ac as Qe,ad as _e,ae as Wr,af as Or,ag as Er,ah as Fr,ai as Br,aj as Me,ak as qr,al as Se,am as Hr,an as Nr,ao as Ur,ap as Vr,aq as Gr,ar as Yr,as as Zr,at as Qr,au as _r,av as Jr,aw as Kr,ax as Xr,ay as Je,az as et,aA as ye,aB as L,aC as rt,aD as tt,aE as st,aF as ot,aG as at,aH as nt,aI as it,aJ as lt,aK as ct,aL as dt,aM as ut,aN as re,aO as oe,aP as ae,aQ as ne,aR as B,aS as C,aT as $e,aU as ie,aV as we,aW as Le,aX as pt,aY as ht,aZ as xt,a_ as gt,a$ as mt,b0 as bt,b1 as Ke,b2 as Xe,b3 as ft,b4 as jt}from"./mui-B7NDeiUS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}})();function he({showBadge:r=!1,...t}){return e.jsx(ur,{color:"error",variant:"dot",invisible:!r,sx:{[`& .${pr.badge}`]:{right:2,top:2}},children:e.jsx(ve,{size:"small",...t})})}const yt=[{text:"Dashboard",icon:e.jsx(hr,{}),path:"/dashboard"}],vt=[{text:"Settings",icon:e.jsx(xr,{})},{text:"About",icon:e.jsx(gr,{}),path:"/about"},{text:"FAQ",icon:e.jsx(mr,{}),path:"/faq"},{text:"Catalog",icon:e.jsx(br,{}),path:"/catalog"},{text:"Driver Application",icon:e.jsx(Ae,{}),path:"/application"},{text:"Manage Applications",icon:e.jsx(Ae,{}),path:"/application-manager"},{text:"Feedback",icon:e.jsx(fr,{}),path:"/feedback"}];function er(){const r=te(),t=Fe(),l=s=>{r(s)},u=s=>t.pathname===s;return e.jsxs(A,{sx:{flexGrow:1,p:1,justifyContent:"space-between"},children:[e.jsx(Ie,{dense:!0,children:yt.map((s,n)=>e.jsx(Pe,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(Re,{selected:u(s.path),onClick:()=>l(s.path),children:[e.jsx(be,{children:s.icon}),e.jsx(fe,{primary:s.text})]})},n))}),e.jsx(Ie,{dense:!0,children:vt.map((s,n)=>e.jsx(Pe,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(Re,{selected:s.path!==void 0&&u(s.path),onClick:()=>l(s.path),children:[e.jsx(be,{children:s.icon}),e.jsx(fe,{primary:s.text})]})},n))})]})}function Ct(){return e.jsx(H,{variant:"outlined",sx:{m:1.5,p:1.5},children:e.jsxs(N,{children:[e.jsx(jr,{fontSize:"small"}),e.jsx(d,{gutterBottom:!0,sx:{fontWeight:600},children:"Something"}),e.jsx(d,{variant:"body2",sx:{mb:2,color:"text.secondary"},children:"Save your points by driving safe!"}),e.jsx(D,{variant:"contained",size:"small",fullWidth:!0,children:"Make the pledge"})]})})}function St({open:r,toggleDrawer:t}){return e.jsx(Be,{anchor:"right",open:r,onClose:t(!1),sx:{zIndex:l=>l.zIndex.drawer+1,[`& .${Ce.paper}`]:{backgroundImage:"none",backgroundColor:"background.paper"}},children:e.jsxs(A,{sx:{maxWidth:"70dvw",height:"100%"},children:[e.jsxs(A,{direction:"row",sx:{p:2,pb:0,gap:1},children:[e.jsxs(A,{direction:"row",sx:{gap:1,alignItems:"center",flexGrow:1,p:1},children:[e.jsx(qe,{sizes:"small",alt:"Riley Carter",src:"/static/images/avatar/7.jpg",sx:{width:24,height:24}}),e.jsx(d,{component:"p",variant:"h6",children:"Riley Carter"})]}),e.jsx(he,{showBadge:!0,children:e.jsx(He,{})})]}),e.jsx(G,{}),e.jsxs(A,{sx:{flexGrow:1},children:[e.jsx(er,{}),e.jsx(G,{})]}),e.jsx(Ct,{}),e.jsx(A,{sx:{p:2},children:e.jsx(D,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(Ne,{}),children:"Logout"})})]})})}function rr(r){const{mode:t,systemMode:l,setMode:u}=yr(),s=de(),[n,c]=o.useState(null),i=!!n,g=k=>{c(k.currentTarget)},m=()=>{c(null)},b=k=>()=>{u(k),m()};if(!t)return e.jsx(j,{"data-screenshot":"toggle-mode",sx:{verticalAlign:"bottom",display:"inline-flex",width:"2.25rem",height:"2.25rem",borderRadius:s.shape.borderRadius,border:"1px solid",borderColor:s.palette.divider}});const h=(l||t)==="light"?e.jsx(vr,{}):e.jsx(Cr,{});return e.jsxs(o.Fragment,{children:[e.jsx(ve,{"data-screenshot":"toggle-mode",onClick:g,disableRipple:!0,size:"small","aria-controls":i?"color-scheme-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,...r,children:h}),e.jsxs(Ue,{anchorEl:n,id:"color-scheme-menu",open:i,onClose:m,onClick:m,PaperProps:{variant:"outlined",sx:{my:"4px"}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsx(Q,{selected:t==="system",onClick:b("system"),children:"System"}),e.jsx(Q,{selected:t==="light",onClick:b("light"),children:"Light"}),e.jsx(Q,{selected:t==="dark",onClick:b("dark"),children:"Dark"})]})]})}const wt=ue(Ve)({width:"100%",padding:"12px",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center",gap:"12px",flexShrink:0,[`& ${Sr.flexContainer}`]:{gap:"8px",p:"8px",pb:0}}),kt=[{path:"/dashboard",label:"Dashboard"},{path:"/about",label:"About"},{path:"/login",label:"Login"},{path:"/register",label:"Register"},{path:"/faq",label:"FAQ"},{path:"/feedback",label:"Feedback"},{path:"/catalog",label:"Catalog"}];function tr({padding:r=0}){const[t,l]=o.useState(!1),u=s=>()=>{l(s)};return e.jsx(wr,{position:"fixed",sx:{display:{xs:"auto",md:"auto"},boxShadow:0,bgcolor:"background.paper",backgroundImage:"none",borderBottom:"1px solid",borderColor:"divider",top:"var(--template-frame-height, 0px)",left:{md:`${r}px`}},children:e.jsx(wt,{variant:"regular",children:e.jsxs(A,{direction:"row",sx:{alignItems:"center",flexGrow:1,width:"100%",gap:1},children:[e.jsxs(A,{direction:"row",spacing:1,sx:{justifyContent:"center",mr:"auto"},children:[e.jsx(It,{}),e.jsx(d,{variant:"h4",component:"h1",sx:{color:"text.primary"},children:"GitGud Drivers"})]}),e.jsxs(j,{sx:{display:{xs:"block",md:"none"}},children:[e.jsx(rr,{}),e.jsx(he,{"aria-label":"menu",onClick:u(!0),children:e.jsx(kr,{})}),e.jsx(St,{open:t,toggleDrawer:u,routes:kt})]})]})})})}function It(){return e.jsx(j,{sx:{width:"1.5rem",height:"1.5rem",bgcolor:"black",borderRadius:"999px",display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"center",backgroundImage:"linear-gradient(135deg, hsl(210, 98%, 60%) 0%, hsl(210, 100%, 35%) 100%)",color:"hsla(210, 100%, 95%, 0.9)",border:"1px solid",borderColor:"hsl(210, 100%, 55%)",boxShadow:"inset 0 2px 5px rgba(255, 255, 255, 0.3)"},children:e.jsx(Ir,{color:"inherit",sx:{fontSize:"1rem"}})})}const W=Ge();[...W.shadows];const x={50:"hsl(210, 100%, 95%)",100:"hsl(210, 100%, 92%)",200:"hsl(210, 100%, 80%)",300:"hsl(210, 100%, 65%)",400:"hsl(210, 98%, 48%)",500:"hsl(210, 98%, 42%)",600:"hsl(210, 98%, 55%)",700:"hsl(210, 100%, 35%)",800:"hsl(210, 100%, 16%)",900:"hsl(210, 100%, 21%)"},a={50:"hsl(220, 35%, 97%)",100:"hsl(220, 30%, 94%)",200:"hsl(220, 20%, 88%)",300:"hsl(220, 20%, 80%)",400:"hsl(220, 20%, 65%)",500:"hsl(220, 20%, 42%)",600:"hsl(220, 20%, 35%)",700:"hsl(220, 20%, 25%)",800:"hsl(220, 30%, 6%)",900:"hsl(220, 35%, 3%)"},M={50:"hsl(120, 80%, 98%)",100:"hsl(120, 75%, 94%)",200:"hsl(120, 75%, 87%)",300:"hsl(120, 61%, 77%)",400:"hsl(120, 44%, 53%)",500:"hsl(120, 59%, 30%)",600:"hsl(120, 70%, 25%)",700:"hsl(120, 75%, 16%)",800:"hsl(120, 84%, 10%)",900:"hsl(120, 87%, 6%)"},F={50:"hsl(45, 100%, 97%)",100:"hsl(45, 92%, 90%)",200:"hsl(45, 94%, 80%)",300:"hsl(45, 90%, 65%)",400:"hsl(45, 90%, 40%)",500:"hsl(45, 90%, 35%)",600:"hsl(45, 91%, 25%)",700:"hsl(45, 94%, 20%)",800:"hsl(45, 95%, 16%)",900:"hsl(45, 93%, 12%)"},$={50:"hsl(0, 100%, 97%)",100:"hsl(0, 92%, 90%)",200:"hsl(0, 94%, 80%)",300:"hsl(0, 90%, 65%)",400:"hsl(0, 90%, 40%)",500:"hsl(0, 90%, 30%)",600:"hsl(0, 91%, 25%)",700:"hsl(0, 94%, 18%)",800:"hsl(0, 95%, 12%)",900:"hsl(0, 93%, 6%)"},Pt={light:{palette:{primary:{light:x[200],main:x[400],dark:x[700],contrastText:x[50]},info:{light:x[100],main:x[300],dark:x[600],contrastText:a[50]},warning:{light:F[300],main:F[400],dark:F[800]},error:{light:$[300],main:$[400],dark:$[800]},success:{light:M[300],main:M[400],dark:M[800]},grey:{...a},divider:f(a[300],.4),background:{default:"hsl(0, 0%, 99%)",paper:"hsl(220, 35%, 97%)"},text:{primary:a[800],secondary:a[600],warning:F[400]},action:{hover:f(a[200],.2),selected:`${f(a[200],.3)}`},baseShadow:"hsla(220, 30%, 5%, 0.07) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.07) 0px 8px 16px -5px"}},dark:{palette:{primary:{contrastText:x[50],light:x[300],main:x[400],dark:x[700]},info:{contrastText:x[300],light:x[500],main:x[700],dark:x[900]},warning:{light:F[400],main:F[500],dark:F[700]},error:{light:$[400],main:$[500],dark:$[700]},success:{light:M[400],main:M[500],dark:M[700]},grey:{...a},divider:f(a[700],.6),background:{default:a[900],paper:"hsl(220, 30%, 7%)"},text:{primary:"hsl(0, 0%, 100%)",secondary:a[400]},action:{hover:f(a[600],.2),selected:f(a[600],.3)},baseShadow:"hsla(220, 30%, 5%, 0.7) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.8) 0px 8px 16px -5px"}}};['"Inter", "sans-serif"'].join(","),W.typography.pxToRem(48),W.typography.pxToRem(36),W.typography.pxToRem(30),W.typography.pxToRem(24),W.typography.pxToRem(20),W.typography.pxToRem(18),W.typography.pxToRem(18),W.typography.pxToRem(14),W.typography.pxToRem(14),W.typography.pxToRem(14),W.typography.pxToRem(12);const Rt={borderRadius:8},At=["none","var(--template-palette-baseShadow)",...W.shadows.slice(2)],Dt=At,zt={MuiButtonBase:{defaultProps:{disableTouchRipple:!0,disableRipple:!0},styleOverrides:{root:({theme:r})=>({boxSizing:"border-box",transition:"all 100ms ease-in","&:focus-visible":{outline:`3px solid ${f(r.palette.primary.main,.5)}`,outlineOffset:"2px"}})}},MuiButton:{styleOverrides:{root:({theme:r})=>({boxShadow:"none",borderRadius:r.shape.borderRadius,textTransform:"none",variants:[{props:{size:"small"},style:{height:"2.25rem",padding:"8px 12px"}},{props:{size:"medium"},style:{height:"2.5rem"}},{props:{color:"primary",variant:"contained"},style:{color:"white",backgroundColor:a[900],backgroundImage:`linear-gradient(to bottom, ${a[700]}, ${a[800]})`,boxShadow:`inset 0 1px 0 ${a[600]}, inset 0 -1px 0 1px hsl(220, 0%, 0%)`,border:`1px solid ${a[700]}`,"&:hover":{backgroundImage:"none",backgroundColor:a[700],boxShadow:"none"},"&:active":{backgroundColor:a[800]},...r.applyStyles("dark",{color:"black",backgroundColor:a[50],backgroundImage:`linear-gradient(to bottom, ${a[100]}, ${a[50]})`,boxShadow:"inset 0 -1px 0  hsl(220, 30%, 80%)",border:`1px solid ${a[50]}`,"&:hover":{backgroundImage:"none",backgroundColor:a[300],boxShadow:"none"},"&:active":{backgroundColor:a[400]}})}},{props:{color:"secondary",variant:"contained"},style:{color:"white",backgroundColor:x[300],backgroundImage:`linear-gradient(to bottom, ${f(x[400],.8)}, ${x[500]})`,boxShadow:`inset 0 2px 0 ${f(x[200],.2)}, inset 0 -2px 0 ${f(x[700],.4)}`,border:`1px solid ${x[500]}`,"&:hover":{backgroundColor:x[700],boxShadow:"none"},"&:active":{backgroundColor:x[700],backgroundImage:"none"}}},{props:{variant:"outlined"},style:{color:r.palette.text.primary,border:"1px solid",borderColor:a[200],backgroundColor:f(a[50],.3),"&:hover":{backgroundColor:a[100],borderColor:a[300]},"&:active":{backgroundColor:a[200]},...r.applyStyles("dark",{backgroundColor:a[800],borderColor:a[700],"&:hover":{backgroundColor:a[900],borderColor:a[600]},"&:active":{backgroundColor:a[900]}})}},{props:{color:"secondary",variant:"outlined"},style:{color:x[700],border:"1px solid",borderColor:x[200],backgroundColor:x[50],"&:hover":{backgroundColor:x[100],borderColor:x[400]},"&:active":{backgroundColor:f(x[200],.7)},...r.applyStyles("dark",{color:x[50],border:"1px solid",borderColor:x[900],backgroundColor:f(x[900],.3),"&:hover":{borderColor:x[700],backgroundColor:f(x[900],.6)},"&:active":{backgroundColor:f(x[900],.5)}})}},{props:{variant:"text"},style:{color:a[600],"&:hover":{backgroundColor:a[100]},"&:active":{backgroundColor:a[200]},...r.applyStyles("dark",{color:a[50],"&:hover":{backgroundColor:a[700]},"&:active":{backgroundColor:f(a[700],.7)}})}},{props:{color:"secondary",variant:"text"},style:{color:x[700],"&:hover":{backgroundColor:f(x[100],.5)},"&:active":{backgroundColor:f(x[200],.7)},...r.applyStyles("dark",{color:x[100],"&:hover":{backgroundColor:f(x[900],.5)},"&:active":{backgroundColor:f(x[900],.3)}})}}]})}},MuiIconButton:{styleOverrides:{root:({theme:r})=>({boxShadow:"none",borderRadius:r.shape.borderRadius,textTransform:"none",fontWeight:r.typography.fontWeightMedium,letterSpacing:0,color:r.palette.text.primary,border:"1px solid ",borderColor:a[200],backgroundColor:f(a[50],.3),"&:hover":{backgroundColor:a[100],borderColor:a[300]},"&:active":{backgroundColor:a[200]},...r.applyStyles("dark",{backgroundColor:a[800],borderColor:a[700],"&:hover":{backgroundColor:a[900],borderColor:a[600]},"&:active":{backgroundColor:a[900]}}),variants:[{props:{size:"small"},style:{width:"2.25rem",height:"2.25rem",padding:"0.25rem",[`& .${ce.root}`]:{fontSize:"1rem"}}},{props:{size:"medium"},style:{width:"2.5rem",height:"2.5rem"}}]})}},MuiToggleButtonGroup:{styleOverrides:{root:({theme:r})=>({borderRadius:"10px",boxShadow:`0 4px 16px ${f(a[400],.2)}`,[`& .${De.selected}`]:{color:x[500]},...r.applyStyles("dark",{[`& .${De.selected}`]:{color:"#fff"},boxShadow:`0 4px 16px ${f(x[700],.5)}`})})}},MuiToggleButton:{styleOverrides:{root:({theme:r})=>({padding:"12px 16px",textTransform:"none",borderRadius:"10px",fontWeight:500,...r.applyStyles("dark",{color:a[400],boxShadow:"0 4px 16px rgba(0, 0, 0, 0.5)",[`&.${Pr.selected}`]:{color:x[300]}})})}},MuiCheckbox:{defaultProps:{disableRipple:!0,icon:e.jsx(Rr,{sx:{color:"hsla(210, 0%, 0%, 0.0)"}}),checkedIcon:e.jsx(Ar,{sx:{height:14,width:14}}),indeterminateIcon:e.jsx(Dr,{sx:{height:14,width:14}})},styleOverrides:{root:({theme:r})=>({margin:10,height:16,width:16,borderRadius:5,border:"1px solid ",borderColor:f(a[300],.8),boxShadow:"0 0 0 1.5px hsla(210, 0%, 0%, 0.04) inset",backgroundColor:f(a[100],.4),transition:"border-color, background-color, 120ms ease-in","&:hover":{borderColor:x[300]},"&.Mui-focusVisible":{outline:`3px solid ${f(x[500],.5)}`,outlineOffset:"2px",borderColor:x[400]},"&.Mui-checked":{color:"white",backgroundColor:x[500],borderColor:x[500],boxShadow:"none","&:hover":{backgroundColor:x[600]}},...r.applyStyles("dark",{borderColor:f(a[700],.8),boxShadow:"0 0 0 1.5px hsl(210, 0%, 0%) inset",backgroundColor:f(a[900],.8),"&:hover":{borderColor:x[300]},"&.Mui-focusVisible":{borderColor:x[400],outline:`3px solid ${f(x[500],.5)}`,outlineOffset:"2px"}})})}},MuiInputBase:{styleOverrides:{root:{border:"none"},input:{"&::placeholder":{opacity:.7,color:a[500]}}}},MuiOutlinedInput:{styleOverrides:{input:{padding:0},root:({theme:r})=>({padding:"8px 12px",color:r.palette.text.primary,borderRadius:r.shape.borderRadius,border:`1px solid ${r.palette.divider}`,backgroundColor:r.palette.background.default,transition:"border 120ms ease-in","&:hover":{borderColor:a[400]},[`&.${zr.focused}`]:{outline:`3px solid ${f(x[500],.5)}`,borderColor:x[400]},...r.applyStyles("dark",{"&:hover":{borderColor:a[500]}}),variants:[{props:{size:"small"},style:{height:"2.25rem"}},{props:{size:"medium"},style:{height:"2.5rem"}}]}),notchedOutline:{border:"none"}}},MuiInputAdornment:{styleOverrides:{root:({theme:r})=>({color:r.palette.grey[500],...r.applyStyles("dark",{color:r.palette.grey[400]})})}},MuiFormLabel:{styleOverrides:{root:({theme:r})=>({typography:r.typography.caption,marginBottom:8})}}},Tt={MuiList:{styleOverrides:{root:{padding:"8px",display:"flex",flexDirection:"column",gap:0}}},MuiListItem:{styleOverrides:{root:({theme:r})=>({[`& .${ce.root}`]:{width:"1rem",height:"1rem",color:r.palette.text.secondary},[`& .${Tr.root}`]:{fontWeight:500},[`& .${Ye.root}`]:{display:"flex",gap:8,padding:"2px 8px",borderRadius:r.shape.borderRadius,opacity:.7,"&.Mui-selected":{opacity:1,backgroundColor:f(r.palette.action.selected,.3),[`& .${ce.root}`]:{color:r.palette.text.primary},"&:focus-visible":{backgroundColor:f(r.palette.action.selected,.3)},"&:hover":{backgroundColor:f(r.palette.action.selected,.5)}},"&:focus-visible":{backgroundColor:"transparent"}}})}},MuiListItemText:{styleOverrides:{primary:({theme:r})=>({fontSize:r.typography.body2.fontSize,fontWeight:500,lineHeight:r.typography.body2.lineHeight}),secondary:({theme:r})=>({fontSize:r.typography.caption.fontSize,lineHeight:r.typography.caption.lineHeight})}},MuiListSubheader:{styleOverrides:{root:({theme:r})=>({backgroundColor:"transparent",padding:"4px 8px",fontSize:r.typography.caption.fontSize,fontWeight:500,lineHeight:r.typography.caption.lineHeight})}},MuiListItemIcon:{styleOverrides:{root:{minWidth:0}}},MuiChip:{defaultProps:{size:"small"},styleOverrides:{root:({theme:r})=>({border:"1px solid",borderRadius:"999px",[`& .${z.label}`]:{fontWeight:600},variants:[{props:{color:"default"},style:{borderColor:a[200],backgroundColor:a[100],[`& .${z.label}`]:{color:a[500]},[`& .${z.icon}`]:{color:a[500]},...r.applyStyles("dark",{borderColor:a[700],backgroundColor:a[800],[`& .${z.label}`]:{color:a[300]},[`& .${z.icon}`]:{color:a[300]}})}},{props:{color:"success"},style:{borderColor:M[200],backgroundColor:M[50],[`& .${z.label}`]:{color:M[500]},[`& .${z.icon}`]:{color:M[500]},...r.applyStyles("dark",{borderColor:M[800],backgroundColor:M[900],[`& .${z.label}`]:{color:M[300]},[`& .${z.icon}`]:{color:M[300]}})}},{props:{color:"error"},style:{borderColor:$[100],backgroundColor:$[50],[`& .${z.label}`]:{color:$[500]},[`& .${z.icon}`]:{color:$[500]},...r.applyStyles("dark",{borderColor:$[800],backgroundColor:$[900],[`& .${z.label}`]:{color:$[200]},[`& .${z.icon}`]:{color:$[300]}})}},{props:{size:"small"},style:{maxHeight:20,[`& .${z.label}`]:{fontSize:r.typography.caption.fontSize},[`& .${ce.root}`]:{fontSize:r.typography.caption.fontSize}}},{props:{size:"medium"},style:{[`& .${z.label}`]:{fontSize:r.typography.caption.fontSize}}}]})}},MuiTablePagination:{styleOverrides:{actions:{display:"flex",gap:8,marginRight:6,[`& .${Mr.root}`]:{minWidth:0,width:36,height:36}}}},MuiIcon:{defaultProps:{fontSize:"small"},styleOverrides:{root:{variants:[{props:{fontSize:"small"},style:{fontSize:"1rem"}}]}}}},Mt={MuiAlert:{styleOverrides:{root:({theme:r})=>({borderRadius:10,backgroundColor:F[100],color:r.palette.text.primary,border:`1px solid ${f(F[300],.5)}`,"& .MuiAlert-icon":{color:F[500]},...r.applyStyles("dark",{backgroundColor:`${f(F[900],.5)}`,border:`1px solid ${f(F[800],.5)}`})})}},MuiDialog:{styleOverrides:{root:({theme:r})=>({"& .MuiDialog-paper":{borderRadius:"10px",border:"1px solid",borderColor:r.palette.divider}})}},MuiLinearProgress:{styleOverrides:{root:({theme:r})=>({height:8,borderRadius:8,backgroundColor:a[200],...r.applyStyles("dark",{backgroundColor:a[800]})})}}},$t={MuiMenuItem:{styleOverrides:{root:({theme:r})=>({borderRadius:r.shape.borderRadius,padding:"6px 8px",[`&.${xe.focusVisible}`]:{backgroundColor:"transparent"},[`&.${xe.selected}`]:{[`&.${xe.focusVisible}`]:{backgroundColor:f(r.palette.action.selected,.3)}}})}},MuiMenu:{styleOverrides:{list:{gap:"0px",[`&.${Ze.root}`]:{margin:"0 -8px"}},paper:({theme:r})=>({marginTop:"4px",borderRadius:r.shape.borderRadius,border:`1px solid ${r.palette.divider}`,backgroundImage:"none",background:"hsl(0, 0%, 100%)",boxShadow:"hsla(220, 30%, 5%, 0.07) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.07) 0px 8px 16px -5px",[`& .${Ye.root}`]:{"&.Mui-selected":{backgroundColor:f(r.palette.action.selected,.3)}},...r.applyStyles("dark",{background:a[900],boxShadow:"hsla(220, 30%, 5%, 0.7) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.8) 0px 8px 16px -5px"})})}},MuiSelect:{defaultProps:{IconComponent:o.forwardRef((r,t)=>e.jsx($r,{fontSize:"small",...r,ref:t}))},styleOverrides:{root:({theme:r})=>({borderRadius:r.shape.borderRadius,border:"1px solid",borderColor:a[200],backgroundColor:r.palette.background.paper,boxShadow:"inset 0 1px 0 1px hsla(220, 0%, 100%, 0.6), inset 0 -1px 0 1px hsla(220, 35%, 90%, 0.5)","&:hover":{borderColor:a[300],backgroundColor:r.palette.background.paper,boxShadow:"none"},[`&.${ze.focused}`]:{outlineOffset:0,borderColor:a[400]},"&:before, &:after":{display:"none"},...r.applyStyles("dark",{borderRadius:r.shape.borderRadius,borderColor:a[700],backgroundColor:r.palette.background.paper,boxShadow:`inset 0 1px 0 1px ${f(a[700],.15)}, inset 0 -1px 0 1px hsla(220, 0%, 0%, 0.7)`,"&:hover":{borderColor:f(a[700],.7),backgroundColor:r.palette.background.paper,boxShadow:"none"},[`&.${ze.focused}`]:{outlineOffset:0,borderColor:a[900]},"&:before, &:after":{display:"none"}})}),select:({theme:r})=>({display:"flex",alignItems:"center",...r.applyStyles("dark",{display:"flex",alignItems:"center","&:focus-visible":{backgroundColor:a[900]}})})}},MuiLink:{defaultProps:{underline:"none"},styleOverrides:{root:({theme:r})=>({color:r.palette.text.primary,fontWeight:500,position:"relative",textDecoration:"none",width:"fit-content","&::before":{content:'""',position:"absolute",width:"100%",height:"1px",bottom:0,left:0,backgroundColor:r.palette.text.secondary,opacity:.3,transition:"width 0.3s ease, opacity 0.3s ease"},"&:hover::before":{width:0},"&:focus-visible":{outline:`3px solid ${f(x[500],.5)}`,outlineOffset:"4px",borderRadius:"2px"}})}},MuiDrawer:{styleOverrides:{paper:({theme:r})=>({backgroundColor:r.palette.background.default})}},MuiPaginationItem:{styleOverrides:{root:({theme:r})=>({"&.Mui-selected":{color:"white",backgroundColor:r.palette.grey[900]},...r.applyStyles("dark",{"&.Mui-selected":{color:"black",backgroundColor:r.palette.grey[50]}})})}},MuiTabs:{styleOverrides:{root:{minHeight:"fit-content"},indicator:({theme:r})=>({backgroundColor:r.palette.grey[800],...r.applyStyles("dark",{backgroundColor:r.palette.grey[200]})})}},MuiTab:{styleOverrides:{root:({theme:r})=>({padding:"6px 8px",marginBottom:"8px",textTransform:"none",minWidth:"fit-content",minHeight:"fit-content",color:r.palette.text.secondary,borderRadius:r.shape.borderRadius,border:"1px solid",borderColor:"transparent",":hover":{color:r.palette.text.primary,backgroundColor:a[100],borderColor:a[200]},[`&.${Te.selected}`]:{color:a[900]},...r.applyStyles("dark",{":hover":{color:r.palette.text.primary,backgroundColor:a[800],borderColor:a[700]},[`&.${Te.selected}`]:{color:"#fff"}})})}},MuiStepConnector:{styleOverrides:{line:({theme:r})=>({borderTop:"1px solid",borderColor:r.palette.divider,flex:1,borderRadius:"99px"})}},MuiStepIcon:{styleOverrides:{root:({theme:r})=>({color:"transparent",border:`1px solid ${a[400]}`,width:12,height:12,borderRadius:"50%","& text":{display:"none"},"&.Mui-active":{border:"none",color:r.palette.primary.main},"&.Mui-completed":{border:"none",color:r.palette.success.main},...r.applyStyles("dark",{border:`1px solid ${a[700]}`,"&.Mui-active":{border:"none",color:r.palette.primary.light},"&.Mui-completed":{border:"none",color:r.palette.success.light}}),variants:[{props:{completed:!0},style:{width:12,height:12}}]})}},MuiStepLabel:{styleOverrides:{label:({theme:r})=>({"&.Mui-completed":{opacity:.6,...r.applyStyles("dark",{opacity:.5})}})}}},Lt={MuiAccordion:{defaultProps:{elevation:0,disableGutters:!0},styleOverrides:{root:({theme:r})=>({padding:4,overflow:"clip",backgroundColor:r.palette.background.default,border:"1px solid",borderColor:r.palette.divider,":before":{backgroundColor:"transparent"},"&:not(:last-of-type)":{borderBottom:"none"},"&:first-of-type":{borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:r.shape.borderRadius,borderBottomRightRadius:r.shape.borderRadius}})}},MuiAccordionSummary:{styleOverrides:{root:({theme:r})=>({border:"none",borderRadius:8,"&:hover":{backgroundColor:a[50]},"&:focus-visible":{backgroundColor:"transparent"},...r.applyStyles("dark",{"&:hover":{backgroundColor:a[800]}})})}},MuiAccordionDetails:{styleOverrides:{root:{mb:20,border:"none"}}},MuiPaper:{defaultProps:{elevation:0}},MuiCard:{styleOverrides:{root:({theme:r})=>({padding:16,gap:16,transition:"all 100ms ease",backgroundColor:a[50],borderRadius:r.shape.borderRadius,border:`1px solid ${r.palette.divider}`,boxShadow:"none",...r.applyStyles("dark",{backgroundColor:a[800]}),variants:[{props:{variant:"outlined"},style:{border:`1px solid ${r.palette.divider}`,boxShadow:"none",background:"hsl(0, 0%, 100%)",...r.applyStyles("dark",{background:f(a[900],.4)})}}]})}},MuiCardContent:{styleOverrides:{root:{padding:0,"&:last-child":{paddingBottom:0}}}},MuiCardHeader:{styleOverrides:{root:{padding:0}}},MuiCardActions:{styleOverrides:{root:{padding:0}}}};function sr({children:r,disableCustomTheme:t,themeComponents:l}){const u=o.useMemo(()=>t?{}:Ge({cssVariables:{colorSchemeSelector:"data-mui-color-scheme",cssVarPrefix:"template"},colorSchemes:Pt,shadows:Dt,shape:Rt,components:{...zt,...Tt,...Mt,...$t,...Lt,...l}}),[t,l]);return t?e.jsx(o.Fragment,{children:r}):e.jsx(Lr,{theme:u,disableTransitionOnChange:!0,children:r})}const Wt=()=>{const r=te();return e.jsxs(pe,{maxWidth:"lg",children:[e.jsxs(j,{sx:{textAlign:"center",py:8,backgroundColor:"background.paper",borderRadius:2,mb:4},children:[e.jsx(d,{variant:"h2",component:"h1",gutterBottom:!0,children:"Git Gud Drivers"}),e.jsx(d,{variant:"h5",color:"text.secondary",paragraph:!0,children:"A rewards program for professional drivers committed to excellence"}),e.jsx(D,{variant:"contained",size:"large",onClick:()=>r("/register"),sx:{mr:2},children:"Sign Up"}),e.jsx(D,{variant:"outlined",size:"large",onClick:()=>r("/login"),children:"Sign In"})]}),e.jsx(q,{container:!0,spacing:4,sx:{mb:6},justifyContent:"center",alignItems:"center",children:e.jsxs(q,{item:!0,xs:12,md:4,children:[e.jsx(d,{variant:"h5",gutterBottom:!0,children:"How It Works"}),e.jsxs(d,{children:["1. Apply as a driver",e.jsx("br",{}),"2. Get approved by a sponsor",e.jsx("br",{}),"3. Start earning points",e.jsx("br",{}),"4. Redeem rewards"]}),e.jsxs(d,{variant:"h6",gutterBottom:!0,children:[e.jsx("br",{}),"We hope to see you soon!"]})]})})]})},J=({title:r,value:t})=>e.jsxs(j,{sx:{mb:1},children:[e.jsxs(d,{variant:"body1",component:"span",fontWeight:"bold",children:[r,":"]}),e.jsx(d,{variant:"body1",component:"span",sx:{ml:1},children:t})]}),Ot=()=>{const[r,t]=o.useState(null),[l,u]=o.useState(null),[s,n]=o.useState(!0);return o.useEffect(()=>{(async()=>{try{const i=await P.get("/api/admin/about",{withCredentials:!0});console.log("API Response:",i.data),t(i.data)}catch(i){u(i.message)}finally{n(!1)}})()},[]),s?e.jsx(Y,{}):l?e.jsxs(d,{color:"error",children:["Error: ",l]}):r?e.jsxs(j,{sx:{maxWidth:600,margin:"auto",p:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(d,{variant:"h4",gutterBottom:!0,children:"About Information"}),e.jsxs(j,{sx:{p:2,mb:2,border:1,borderColor:"divider",borderRadius:2},children:[e.jsx(J,{title:"Team",value:r.team}),e.jsx(J,{title:"Version",value:r.version.toString()}),e.jsx(J,{title:"Release Date",value:new Date(r.release).toLocaleDateString()}),e.jsx(J,{title:"Product",value:r.product}),e.jsx(J,{title:"Description",value:r.description})]})]}):e.jsx(d,{children:"No information available."})},Et=()=>{const r=te(),t=Fe(),l=new URLSearchParams(t.search),u=l.get("step")==="2fa"?"2fa":"login",s=l.get("userId"),[n,c]=o.useState(u),[i,g]=o.useState(s||null),[m,b]=o.useState(!1),[w,h]=o.useState(""),[k,p]=o.useState(""),[y,I]=o.useState(""),[v,S]=o.useState(null),[Z,U]=o.useState(!1);o.useEffect(()=>{u==="2fa"&&s&&(c("2fa"),g(s))},[u,s]);const le=async V=>{var K,X;V.preventDefault(),b(!0),S(null);try{const E=await P.post("/api/user/login",{username:w,password:k});E.data.requiresTwoFactor?(c("2fa"),g(E.data.userId.toString()),r(`/login?step=2fa&userId=${E.data.userId}`,{replace:!0})):E.data.succeeded?U(!0):S(E.data.message||"Login failed. Please try again.")}catch(E){S(((X=(K=E.response)==null?void 0:K.data)==null?void 0:X.message)||"Login failed. Please try again.")}finally{b(!1)}},_=async V=>{var K,X;V.preventDefault(),b(!0);try{const E=await P.post("/api/user/verify-2fa",{userId:String(i),code:y},{withCredentials:!0});E.data.succeeded?U(!0):S(E.data.message||"Invalid 2FA code. Please try again.")}catch(E){S(((X=(K=E.response)==null?void 0:K.data)==null?void 0:X.message)||"2FA verification failed. Please try again.")}finally{b(!1)}};Z&&r("/dashboard");const ke=n==="login"?"Login Form":"Two-Factor Authentication Form";return e.jsxs(j,{component:"form",onSubmit:n==="login"?le:_,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,margin:"auto",padding:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},role:"form","aria-label":ke,children:[e.jsx(d,{variant:"h1",sx:{fontSize:"h4.fontSize",mb:2,color:"text.primary"},children:n==="login"?"Login":"2FA Verification"}),v&&e.jsx(O,{severity:"error",sx:{mb:2},role:"alert","aria-live":"assertive",children:v}),n==="login"?e.jsxs(e.Fragment,{children:[e.jsx(T,{label:"Username",variant:"outlined",margin:"normal",fullWidth:!0,autoComplete:"username",value:w,onChange:V=>h(V.target.value),required:!0,inputProps:{"aria-label":"Username","aria-required":"true"},helperText:"Enter your username"}),e.jsx(T,{label:"Password",type:"password",variant:"outlined",margin:"normal",fullWidth:!0,autoComplete:"current-password",value:k,onChange:V=>p(V.target.value),required:!0,inputProps:{"aria-label":"Password","aria-required":"true"},helperText:"Enter your password"})]}):e.jsx(T,{label:"2FA Code",variant:"outlined",margin:"normal",fullWidth:!0,value:y,onChange:V=>I(V.target.value),required:!0,inputProps:{"aria-label":"Password","aria-required":"true",maxLength:6,inputMode:"numeric",pattern:"[0-9]*"},helperText:"Enter the 6-digit code from your authenticator app"}),e.jsx(D,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,sx:{mt:3,mb:2},disabled:m,"aria-busy":m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(Y,{size:24,"aria-label":"Loading"}),e.jsx("span",{className:"sr-only",children:"Processing..."})]}):n==="login"?"Log In":"Verify 2FA"}),n==="login"&&e.jsxs(j,{sx:{textAlign:"center",mt:2},role:"navigation","aria-label":"Additional Account Options",children:[e.jsx(je,{component:me,to:"/register",variant:"body2",sx:{display:"block",mb:1,textDecoration:"underline"},"aria-label":"Create new account",children:"Don't have an account? Sign Up"}),e.jsx(je,{component:me,to:"/reset-password",variant:"body2",sx:{textDecoration:"underline"},"aria-label":"Reset password",children:"Forgot Password? Click here to Reset it"})]})]})},Ft=r=>{const[t,l]=o.useState(0);return o.useEffect(()=>{l((s=>{let n=0;return s.length>=8&&(n+=1),/[A-Z]/.test(s)&&(n+=1),/[0-9]/.test(s)&&(n+=1),/[^A-Za-z0-9]/.test(s)&&(n+=1),n/4*100})(r))},[r]),t},Bt=r=>r.length<8?"Password must be at least 8 characters long.":/[A-Z]/.test(r)?/[0-9]/.test(r)?/[^A-Za-z0-9]/.test(r)?null:"Password must contain at least one special character.":"Password must contain at least one number.":"Password must contain at least one uppercase letter.",qt=()=>{const[r,t]=o.useState(""),[l,u]=o.useState(""),[s,n]=o.useState(""),[c,i]=o.useState(!1),[g,m]=o.useState(!1),[b,w]=o.useState(null),[h,k]=o.useState(null),p=Ft(s),y=te(),I=async S=>{var U,le;S.preventDefault(),w(null),k(null);const Z=Bt(s);if(Z){k(Z);return}m(!0);try{const _=await P.post("/api/user/register",{username:r,email:l,password:s,enable2FA:c}),ke=await P.post("/api/user/login",{username:r,password:s});_.data.requiresTwoFactor?y(`/login?step=2fa&userId=${_.data.userId}`):y("/dashboard")}catch(_){w(((le=(U=_.response)==null?void 0:U.data)==null?void 0:le.message)||"Registration failed. Please try again.")}finally{m(!1)}},v=S=>S<33?"error":S<66?"warning":"success";return e.jsxs(j,{component:"form",onSubmit:I,"aria-label":"Registration form",sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,margin:"auto",padding:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(d,{variant:"h1",sx:{fontSize:"h4.fontSize",mb:2,color:"text.primary"},component:"h1",gutterBottom:!0,children:"Create Account"}),b&&e.jsx(O,{severity:"error",sx:{width:"100%",mb:2},role:"alert","aria-live":"assertive",children:b}),h&&e.jsx(O,{severity:"warning",sx:{width:"100%",mb:2},role:"alert","aria-live":"polite",children:h}),e.jsx(T,{label:"Username",variant:"outlined",margin:"normal",fullWidth:!0,value:r,onChange:S=>t(S.target.value),required:!0,autoComplete:"username",inputProps:{"aria-label":"Username","aria-required":!0,"aria-describedby":"username-helper-text"},helperText:"Choose a username for your account."}),e.jsx(T,{label:"Email",type:"email",variant:"outlined",margin:"normal",fullWidth:!0,value:l,onChange:S=>u(S.target.value),required:!0,autoComplete:"email",inputProps:{"aria-label":"Email address","aria-required":"true","aria-describedby":"email-helper-text"},helperText:"Enter your email address"}),e.jsx(T,{label:"Password",type:"password",variant:"outlined",margin:"normal",fullWidth:!0,value:s,onChange:S=>n(S.target.value),required:!0,inputProps:{"aria-label":"Password","aria-required":"true","aria-describedby":"password-requirements password-strength"},helperText:"Password must contain at least 8 characters, including uppercase, lowercase, numbers, and special characters"}),e.jsxs(j,{sx:{width:"100%",mt:1},children:[e.jsx(se,{variant:"determinate",value:p,color:v(p)}),e.jsxs(d,{variant:"body2",sx:{mt:1},children:["Password strength: ",p<33?"Weak":p<66?"Medium":"Strong"]})]}),e.jsx(Qe,{control:e.jsx(_e,{checked:c,onChange:S=>i(S.target.checked),color:"primary"}),label:"Enable Two-Factor Authentication (2FA)"}),e.jsx(D,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,sx:{mt:3,mb:2},disabled:g,children:g?e.jsx(Y,{size:24}):"Register"}),e.jsx(je,{component:me,to:"/login",variant:"body2",children:"Already have an account? Sign in"})]})};function Ht(r){const{setOpen:t,label:l,id:u,disabled:s,InputProps:{ref:n}={},inputProps:{"aria-label":c}={}}=r;return e.jsx(D,{variant:"outlined",id:u,disabled:s,ref:n,"aria-label":c,size:"small",onClick:()=>t==null?void 0:t(i=>!i),startIcon:e.jsx(Fr,{fontSize:"small"}),sx:{minWidth:"fit-content"},children:l?`${l}`:"Pick a date"})}function Nt(){const[r,t]=o.useState(new Date("2023-04-17")),[l,u]=o.useState(!1),s=n=>n?n.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}):"";return e.jsxs(Wr,{dateAdapter:Or,children:[" ",e.jsx(Er,{value:r,label:s(r),onChange:n=>t(n),slots:{field:Ht},slotProps:{field:{setOpen:u},nextIconButton:{size:"small"},previousIconButton:{size:"small"}},open:l,onClose:()=>u(!1),onOpen:()=>u(!0),views:["day","month","year"]})]})}const Ut=ue(Br)(({theme:r})=>({margin:r.spacing(1,0),[`& .${Me.separator}`]:{color:r.palette.action.disabled,margin:1},[`& .${Me.ol}`]:{alignItems:"center"}}));function Vt(){return e.jsxs(Ut,{"aria-label":"breadcrumb",separator:e.jsx(qr,{fontSize:"small"}),children:[e.jsx(d,{variant:"body1",children:"Dashboard"}),e.jsx(d,{variant:"body1",sx:{color:"text.primary",fontWeight:600},children:"Home"})]})}function Gt(){return e.jsx(Se,{sx:{width:{xs:"100%",md:"25ch"}},variant:"outlined",children:e.jsx(Hr,{size:"small",id:"search",placeholder:"Searchâ€¦",sx:{flexGrow:1},startAdornment:e.jsx(Nr,{position:"start",sx:{color:"text.primary"},children:e.jsx(Ur,{fontSize:"small"})}),inputProps:{"aria-label":"search"}})})}function Yt(){return e.jsxs(A,{direction:"row",sx:{display:{xs:"none",md:"flex"},width:"100%",alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",maxWidth:{sm:"100%",md:"1700px"},pt:1.5},spacing:2,children:[e.jsx(Vt,{}),e.jsxs(A,{direction:"row",sx:{gap:1},children:[e.jsx(Gt,{}),e.jsx(Nt,{}),e.jsx(he,{showBadge:!0,"aria-label":"Open notifications",children:e.jsx(He,{})}),e.jsx(rr,{})]})]})}const Zt=[{id:"1",label:"Website",children:[{id:"1.2",label:"About",color:"green"}]},{id:"2",label:"Catalog",children:[{id:"2.1",label:"All products",color:"green"},{id:"2.2",label:"Categories",children:[{id:"2.2.1",label:"Cat1",color:"blue"},{id:"2.2.2",label:"Cat2",color:"blue"},{id:"2.2.3",label:"Cat3",color:"blue"}]}]}];function Qt({color:r}){return e.jsx(j,{sx:{marginRight:1,display:"flex",alignItems:"center"},children:e.jsx("svg",{width:6,height:6,children:e.jsx("circle",{cx:3,cy:3,r:3,fill:r})})})}function _t({color:r,children:t,...l}){const u=de(),s={blue:u.palette.primary.main,green:u.palette.success.main},n=r?s[r]:void 0;return e.jsxs(Kr,{...l,sx:{display:"flex",alignItems:"center"},children:[n&&e.jsx(Qt,{color:n}),e.jsx(d,{variant:"body2",sx:{color:u.palette.text.primary},children:t})]})}const Jt=o.forwardRef(function(t,l){const{id:u,itemId:s,label:n,disabled:c,children:i,...g}=t,{getRootProps:m,getContentProps:b,getIconContainerProps:w,getLabelProps:h,getGroupTransitionProps:k,status:p,publicAPI:y}=Vr({id:u,itemId:s,children:i,label:n,disabled:c,rootRef:l}),I=y.getItem(s),v=I==null?void 0:I.color;return e.jsx(Gr,{itemId:s,children:e.jsxs(Yr,{...m(g),children:[e.jsxs(Zr,{...b({className:or("content",{expanded:p.expanded,selected:p.selected,focused:p.focused,disabled:p.disabled})}),children:[p.expandable&&e.jsx(Qr,{...w(),children:e.jsx(_r,{status:p})}),e.jsx(_t,{...h({color:v})})]}),i&&e.jsx(Jr,{...k({className:"groupTransition"})})]})})});function Kt(){return e.jsx(H,{variant:"outlined",sx:{display:"block",flexDirection:"column",gap:"8px",flexGrow:0},children:e.jsxs(N,{children:[e.jsx(d,{component:"h2",variant:"subtitle2",children:"Website Tree"}),e.jsx(Xr,{items:Zt,"aria-label":"pages",multiSelect:!0,defaultExpandedItems:["1","1.1"],defaultSelectedItems:["1.1","1.1.1"],sx:{m:"0 -8px",pb:"8px",height:"fit-content",flexGrow:1,overflowY:"auto"},slots:{item:Jt}})]})})}function Xt(){const r=de(),t=Je(r.breakpoints.down("sm"));return e.jsx(H,{sx:{height:"100%"},children:e.jsxs(N,{children:[e.jsx(et,{}),e.jsx(d,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600"},children:"Explore your data"}),e.jsx(d,{sx:{color:"text.secondary",mb:"8px"},children:"Uncover shocking insights with our data wizardry."}),e.jsx(D,{variant:"contained",size:"small",color:"primary",endIcon:e.jsx(ye,{}),fullWidth:t,children:"Generate Reports"})]})})}function es(){return e.jsxs(j,{sx:{width:"100%"},children:[e.jsx(d,{component:"h2",variant:"h6",sx:{mb:2},children:"Overview"}),e.jsxs(L,{container:!0,spacing:2,columns:2,children:[e.jsx(L,{size:{xs:12,lg:9}}),e.jsx(L,{size:{xs:12,lg:3},children:e.jsx(A,{gap:2,direction:{xs:"column",sm:"row",lg:"column"},children:e.jsx(Kt,{})})})]}),e.jsx(L,{container:!0,spacing:2,columns:12,sx:{mb:r=>r.spacing(1)},children:e.jsx(L,{size:{xs:12,sm:6,lg:3},children:e.jsx(Xt,{})})}),e.jsx(d,{component:"h2",variant:"h6",sx:{mb:2},children:"Details"})]})}const rs={async logout(){try{await P.post("/api/user/logout",{},{withCredentials:!0}),localStorage.clear(),window.location.href="/login"}catch(r){throw console.error("Logout failed:",r),r}}},ee=ue(Q)({margin:"2px 0"});function ts(){const[r,t]=o.useState(null),l=te(),u=!!r,s=i=>{t(i.currentTarget)},n=()=>{t(null)},c=async()=>{try{await rs.logout(),l("/login",{replace:!0})}catch(i){console.error("Logout failed:",i)}n()};return e.jsxs(o.Fragment,{children:[e.jsx(he,{"aria-label":"Open menu",onClick:s,sx:{borderColor:"transparent"},children:e.jsx(rt,{})}),e.jsxs(Ue,{anchorEl:r,id:"menu",open:u,onClose:n,onClick:n,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},sx:{[`& .${tt.root}`]:{padding:"4px"},[`& .${st.root}`]:{padding:0},[`& .${Ze.root}`]:{margin:"4px -4px"}},children:[e.jsx(ee,{onClick:n,children:"Profile"}),e.jsx(ee,{onClick:n,children:"My account"}),e.jsx(G,{}),e.jsx(ee,{onClick:n,children:"Add another account"}),e.jsx(ee,{onClick:n,children:"Settings"}),e.jsx(G,{}),e.jsxs(ee,{onClick:c,sx:{[`& .${ot.root}`]:{ml:"auto",minWidth:0}},children:[e.jsx(fe,{children:"Logout"}),e.jsx(be,{children:e.jsx(Ne,{fontSize:"small"})})]})]})]})}const We=240,ss=ue(Be)({width:We,flexShrink:0,boxSizing:"border-box",mt:10,[`& .${Ce.paper}`]:{width:We,boxSizing:"border-box",height:"100vh",position:"fixed",top:0,left:0}});function os(){return e.jsx(ss,{variant:"permanent",sx:{display:{xs:"none",md:"block"},[`& .${Ce.paper}`]:{backgroundColor:"background.paper"}},children:e.jsxs(j,{sx:{height:"100%",overflowY:"auto","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"},children:[e.jsx(j,{sx:{display:"flex",mt:"calc(var(--template-frame-height, 0px))",p:1.5}}),e.jsx(G,{}),e.jsx(er,{}),e.jsxs(A,{direction:"row",sx:{p:2,gap:1,alignItems:"center",borderTop:"1px solid",borderColor:"divider"},children:[e.jsx(qe,{sizes:"small",alt:"First Last",src:"/static/images/avatar/7.jpg",sx:{width:36,height:36}}),e.jsxs(j,{sx:{mr:"auto"},children:[e.jsx(d,{variant:"body2",sx:{fontWeight:500,lineHeight:"16px"},children:"First Last"}),e.jsx(d,{variant:"caption",sx:{color:"text.secondary"},children:"mail@email.com"})]}),e.jsx(ts,{})]})]})})}function as(r){console.log("Dashboard component has started rendering");const[t,l]=o.useState(!0);o.useState([]);const[u,s]=o.useState(null),[n,c]=o.useState(null);return o.useState("Guest"),o.useEffect(()=>{let i=!0;return(async()=>{var m;try{console.log("Fetching user data from API...");const b=await P.get("/api/user/currentuser",{withCredentials:!0});i&&(console.log("User data fetched:",b.data),c(b.data),l(!1))}catch(b){i&&(console.error("Error fetching user data:",b),b.name!=="CanceledError"&&s(((m=b.response)==null?void 0:m.status)===401?"You are not logged in.":"Failed to load dashboard data."),l(!1))}})(),()=>{i=!1}},[]),console.log("Rendering Dashboard component, loading:",t),e.jsxs(sr,{disableCustomTheme:r.disableCustomTheme,children:[e.jsx(at,{enableColorScheme:!0}),e.jsx("nav",{role:"navigation","aria-label":"Main navigation",children:e.jsx(os,{})}),e.jsxs(j,{sx:{display:"flex-start",ml:"80px",width:"100%"},children:[e.jsx("header",{role:"banner",children:e.jsx(tr,{padding:240})}),e.jsx(j,{component:"main",id:"main-content",role:"main","aria-label":"Dashboard content",tabIndex:-1,sx:i=>({flexGrow:1,display:"flex",backgroundColor:f(i.palette.background.default,1),outline:"none"}),children:e.jsxs(A,{spacing:1,sx:{alignItems:"flex-start",width:"100%"},children:[e.jsx("header",{role:"heading","aria-level":1,children:e.jsx(Yt,{})}),e.jsx("section",{"aria-label":"Dashboard metrics",children:e.jsx(es,{})})]})})]})]})}const Oe="productCatalog",ns=10*60*1e3,is=()=>{const[r,t]=o.useState([]),[l,u]=o.useState(!0),[s,n]=o.useState(null),c=async()=>{var i;try{const g=await P.get("/api/catalog/products");t(g.data),u(!1),localStorage.setItem(Oe,JSON.stringify({listings:g.data,timestamp:Date.now()}))}catch(g){n(((i=g.response)==null?void 0:i.data)||"Failed to load products."),u(!1)}};return o.useEffect(()=>{const i=localStorage.getItem(Oe);if(i){const{listings:g,timestamp:m}=JSON.parse(i);if(Date.now()-m<ns){t(g),u(!1);return}}c()},[]),l?e.jsx(Y,{}):s?e.jsx(O,{severity:"error",children:s}):e.jsxs(pe,{children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,children:"Product Catalog"}),e.jsx(j,{sx:{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"flex-start"},children:r.map((i,g)=>e.jsxs(H,{sx:{width:"calc(33.333% - 16px)",maxWidth:"calc(33.333% - 16px)",marginBottom:2},children:[e.jsx(nt,{component:"img",height:"200",image:i.imageUrl,alt:i.name,sx:{objectFit:"cover"}}),e.jsxs(N,{children:[e.jsx(d,{variant:"h6",component:"p",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i.name}),e.jsx(J,{title:"Price",value:i.price})]})]},g))})]})},ls=({question:r,answer:t})=>e.jsxs(it,{children:[e.jsx(lt,{expandIcon:e.jsx(ct,{}),"aria-controls":"panel-content",id:"panel-header",children:e.jsx(d,{children:r})}),e.jsx(dt,{children:e.jsx(d,{children:t})})]}),cs=()=>{const r=[{question:"How do I create an account?",answer:"To create an account, click on the 'Create New Account' link on the login page. Fill in your details and follow the prompts to complete registration."},{question:"What are the password requirements?",answer:"We recommend using a strong password that is at least 8 characters long, includes uppercase and lowercase letters, numbers, and special characters."},{question:"How can I reset my password?",answer:"If you've forgotten your password, click on the 'Forgot Password' link on the login page. Enter your email address, and we'll send you instructions to reset your password."},{question:"How do I earn points?",answer:"You can earn points by driving safely and completing objectives set by your sponsor."},{question:"How do I apply to a sponsor?",answer:"To apply to a sponsor, fill out the sponsor application form."},{question:"What can I spend my points on?",answer:"Points can be exchanged for purchases from temp not sure where yet."}];return e.jsxs("div",{children:[e.jsx(d,{variant:"h4",gutterBottom:!0,children:"Frequently Asked Questions"}),r.map((t,l)=>e.jsx(ls,{question:t.question,answer:t.answer},l))]})},ds=()=>{const[r,t]=o.useState(""),[l,u]=o.useState(""),[s,n]=o.useState(""),[c,i]=o.useState(!1),[g,m]=o.useState(""),b=h=>{if(h.preventDefault(),!r||!l||!s){m("Please fill in all fields");return}if(!/\S+@\S+\.\S+/.test(l)){m("Please enter a valid email address");return}console.log("Feedback submitted:",{name:r,email:l,message:s}),i(!0),t(""),u(""),n(""),m("")},w=(h,k)=>{k!=="clickaway"&&i(!1)};return e.jsxs(j,{component:"form",onSubmit:b,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:600,margin:"auto",p:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,children:"Provide Feedback"}),e.jsx(T,{label:"Your Name",fullWidth:!0,margin:"normal",value:r,onChange:h=>t(h.target.value),required:!0}),e.jsx(T,{label:"Your Email",type:"email",fullWidth:!0,margin:"normal",value:l,onChange:h=>u(h.target.value),required:!0}),e.jsx(T,{label:"Your Feedback",fullWidth:!0,margin:"normal",multiline:!0,rows:4,value:s,onChange:h=>n(h.target.value),required:!0}),e.jsx(D,{type:"submit",variant:"contained",size:"large",fullWidth:!0,sx:{mt:3,mb:2},children:"Submit Feedback"}),g&&e.jsx(d,{color:"error",sx:{mt:2},children:g}),e.jsx(ut,{open:c,autoHideDuration:6e3,onClose:w,children:e.jsx(O,{onClose:w,severity:"success",sx:{width:"100%"},children:"Thank you for your feedback!"})})]})},us=(r="Driver")=>{switch(r){case"Admin":return[{check:t=>t.length>=20,message:"At least 20 characters long"},{check:t=>/[0-9]/.test(t),message:"Contains at least one digit"},{check:t=>/[a-z]/.test(t),message:"Contains at least one lowercase letter"},{check:t=>/[A-Z]/.test(t),message:"Contains at least one uppercase letter"},{check:t=>/[^A-Za-z0-9]/.test(t),message:"Contains at least three symbols"},{check:t=>new Set(t).size>=3,message:"Contains at least 3 unique characters"},{check:t=>/^(?=.*[!@#$%^&*])(?=.*[0-9])(?=.*[A-Z]).*$/.test(t),message:"Combination of numbers, symbols, and uppercase"}];case"Driver":return[{check:t=>t.length>=8,message:"At least 8 characters long"},{check:t=>/[0-9]/.test(t),message:"Contains at least one digit"},{check:t=>/[a-z]/.test(t),message:"Contains at least one lowercase letter"},{check:t=>/[A-Z]/.test(t),message:"Contains at least one uppercase letter"},{check:t=>/[^A-Za-z0-9]/.test(t),message:"Contains at least one special character"},{check:t=>new Set(t).size>=1,message:"Contains at least 1 unique character"}];default:return[{check:t=>t.length>=6,message:"At least 6 characters long"},{check:t=>/[0-9]/.test(t),message:"Contains at least one digit"},{check:t=>/[a-zA-Z]/.test(t),message:"Contains at least one letter"},{check:t=>new Set(t).size>=1,message:"Contains at least 1 unique character"}]}},ps=()=>{const[r,t]=o.useState(""),[l,u]=o.useState(""),[s,n]=o.useState(""),[c,i]=o.useState(""),[g,m]=o.useState(!1),[b,w]=o.useState(!1),[h,k]=o.useState("Driver");o.useEffect(()=>{(async()=>{try{const S=await P.get("/api/user/currentuser");k(S.data.userType)}catch(S){console.error("Error fetching user role:",S)}})()},[]);const p=us(h),y=v=>p.every(S=>S.check(v)),I=async v=>{var S,Z;if(v.preventDefault(),i(""),m(!1),w(!0),l!==s){i("New passwords do not match"),w(!1);return}if(!y(l)){i("New password does not meet all requirements"),w(!1);return}try{const U=await P.post("/api/user/change-password",{currentPassword:r,newPassword:l});m(!0),t(""),u(""),n("")}catch(U){P.isAxiosError(U)?i(((Z=(S=U.response)==null?void 0:S.data)==null?void 0:Z.message)||"Failed to change password"):i("An unexpected error occurred")}finally{w(!1)}};return e.jsxs(j,{sx:{width:"100%",maxWidth:400,margin:"auto",mt:4},children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,children:"Change Password"}),c&&e.jsx(O,{severity:"error",sx:{mt:2,mb:2},children:c}),g&&e.jsx(O,{severity:"success",sx:{mt:2,mb:2},children:"Password changed successfully!"}),e.jsxs(j,{component:"form",onSubmit:I,noValidate:!0,sx:{mt:1},children:[e.jsx(T,{margin:"normal",required:!0,fullWidth:!0,name:"currentPassword",label:"Current Password",type:"password",id:"currentPassword",autoComplete:"current-password",value:r,onChange:v=>t(v.target.value)}),e.jsx(T,{margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:"New Password",type:"password",id:"newPassword",autoComplete:"new-password",value:l,onChange:v=>u(v.target.value)}),e.jsx(T,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm New Password",type:"password",id:"confirmPassword",autoComplete:"new-password",value:s,onChange:v=>n(v.target.value)}),e.jsxs(j,{sx:{mt:4},children:[e.jsxs(d,{variant:"h6",children:["Password Requirements for ",h,":"]}),p.map((v,S)=>e.jsxs(j,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(j,{sx:{flexGrow:1,mr:1},children:e.jsx(se,{variant:"determinate",value:v.check(l)?100:0,color:v.check(l)?"success":"error"})}),e.jsx(j,{sx:{minWidth:200},children:e.jsx(d,{variant:"body2",color:"text.secondary",children:v.message})})]},S))]}),e.jsx(D,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:b,children:b?e.jsx(Y,{size:24}):"Change Password"})]})]})},hs=()=>{const[r,t]=o.useState([]),[l,u]=o.useState(!0),[s,n]=o.useState(""),[c,i]=o.useState("points"),[g,m]=o.useState("desc");o.useEffect(()=>{b()},[c,g]);const b=async()=>{try{u(!0);const h=await P.get("/api/sponsor/drivers",{params:{sortBy:c,sortOrder:g}});t(h.data),n("")}catch(h){n("Failed to load drivers data"),console.error("Error fetching drivers:",h)}finally{u(!1)}},w=h=>{c===h?m(g==="asc"?"desc":"asc"):(i(h),m("desc"))};return l?e.jsx(j,{sx:{width:"100%",mt:2},children:e.jsx(se,{})}):s?e.jsx(d,{color:"error",sx:{mt:2},children:s}):e.jsx(re,{sx:{width:"100%",mb:2,mt:2},children:e.jsx(oe,{children:e.jsxs(ae,{"aria-label":"drivers points table",children:[e.jsx(ne,{children:e.jsxs(B,{children:[e.jsx(C,{children:e.jsx($e,{active:c==="name",direction:c==="name"?g:"asc",onClick:()=>w("name"),children:"Driver Name"})}),e.jsx(C,{children:e.jsx($e,{active:c==="points",direction:c==="points"?g:"asc",onClick:()=>w("points"),children:"Total Points"})}),e.jsx(C,{children:"City"}),e.jsx(C,{children:"State"})]})}),e.jsx(ie,{children:r.map(h=>e.jsxs(B,{children:[e.jsx(C,{children:h.name}),e.jsx(C,{children:h.totalPoints.toLocaleString()})]},h.id))})]})})})},xs=()=>{const{driverId:r}=ar(),[t,l]=o.useState([]),[u,s]=o.useState(!0),[n,c]=o.useState("");return o.useEffect(()=>{(async()=>{try{s(!0);const g=await P.get(`/api/drivers/${r}/transactions`);l(g.data),c("")}catch(g){c("Failed to load transaction data"),console.error("Error fetching transactions:",g)}finally{s(!1)}})()},[r]),u?e.jsx(j,{sx:{width:"100%",mt:2},children:e.jsx(se,{})}):n?e.jsx(d,{color:"error",sx:{mt:2},children:n}):e.jsx(re,{sx:{width:"100%",mb:2,mt:2},children:e.jsx(oe,{children:e.jsxs(ae,{"aria-label":"driver transactions table",children:[e.jsx(ne,{children:e.jsxs(B,{children:[e.jsx(C,{children:"Date"}),e.jsx(C,{children:"Points Changed"}),e.jsx(C,{children:"Reason"})]})}),e.jsx(ie,{children:t.map(i=>e.jsxs(B,{children:[e.jsx(C,{children:new Date(i.transactionDate).toLocaleDateString()}),e.jsx(C,{children:i.pointsChanged}),e.jsx(C,{children:i.reason})]},i.transactionId))})]})})})},gs=()=>{const[r,t]=o.useState(null),[l,u]=o.useState(!0),[s,n]=o.useState("");return o.useEffect(()=>{(async()=>{try{u(!0);const i=await P.get("/api/driver/activity");t(i.data)}catch(i){n("Failed to load driver activity"),console.error("Error fetching activity:",i)}finally{u(!1)}})()},[]),l?e.jsx(se,{}):s?e.jsx(d,{color:"error",children:s}):r?e.jsxs(j,{sx:{p:3},children:[r.pointValue&&e.jsx(H,{sx:{mb:4},children:e.jsxs(N,{children:[e.jsxs(d,{variant:"h6",gutterBottom:!0,children:["Points Value - ",r.pointValue.sponsorName||"Unknown Sponsor"]}),e.jsxs(d,{children:["Current Balance: ",r.pointValue.totalPoints.toLocaleString()," points"]}),e.jsxs(d,{children:["Point Value: $",r.pointValue.pointValue.toFixed(2)," each"]}),e.jsxs(d,{variant:"h5",sx:{mt:2},children:["Total Value: $",r.pointValue.totalValue.toFixed(2)]})]})}),e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Activity History"}),e.jsx(oe,{component:re,children:e.jsxs(ae,{children:[e.jsx(ne,{children:e.jsxs(B,{children:[e.jsx(C,{children:"Date"}),e.jsx(C,{children:"Type"}),e.jsx(C,{children:"Points"}),e.jsx(C,{children:"Details"}),e.jsx(C,{children:"Status"})]})}),e.jsx(ie,{children:r.transactions&&r.transactions.length>0?r.transactions.map((c,i)=>e.jsxs(B,{children:[e.jsx(C,{children:c.date?new Date(c.date).toLocaleDateString():"N/A"}),e.jsx(C,{children:c.type}),e.jsxs(C,{sx:{color:c.points>0?"success.main":"error.main"},children:[c.points>0?"+":"",c.points]}),e.jsx(C,{children:c.reason}),e.jsx(C,{children:c.status&&e.jsx(we,{label:c.status,color:c.status==="Ordered"?"success":c.status==="Cancelled"?"error":"default",size:"small"})})]},i)):e.jsx(B,{children:e.jsx(C,{colSpan:5,align:"center",children:"No transactions available"})})})]})})]}):null};function Ee({icon:r,title:t,value:l,description:u}){return e.jsx(H,{sx:{height:"100%"},children:e.jsxs(N,{children:[e.jsx(r,{sx:{color:"primary.main",mb:1}}),e.jsx(d,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600",mb:1},children:t}),e.jsx(d,{variant:"h4",sx:{mb:1},children:l}),e.jsx(d,{sx:{color:"text.secondary",mb:1},children:u})]})})}function ms(){const r=de(),t=Je(r.breakpoints.down("sm")),[l,u]=o.useState([]),[s,n]=o.useState(!0),[c,i]=o.useState(null);if(o.useEffect(()=>{(async()=>{try{const b=await fetch("/api/sponsor/drivers",{credentials:"include"});if(!b.ok)throw new Error("Failed to fetch drivers");const w=await b.json();u(w)}catch(b){i(b instanceof Error?b.message:"An error occurred while fetching drivers")}finally{n(!1)}})()},[]),s)return e.jsx(j,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,children:e.jsx(Y,{})});if(c)return e.jsx(O,{severity:"error",sx:{mb:2},children:c});const g=l.reduce((m,b)=>m+b.totalPoints,0);return e.jsxs(j,{sx:{width:"100%"},children:[e.jsx(d,{component:"h2",variant:"h6",sx:{mb:2},children:"Sponsored Drivers Overview"}),e.jsxs(L,{container:!0,spacing:2,columns:12,children:[e.jsx(L,{size:{xs:12,lg:9},children:e.jsx(H,{sx:{height:"100%"},children:e.jsxs(N,{children:[l.length===0?e.jsx(j,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200,children:e.jsx(d,{color:"text.secondary",children:"No drivers found under your sponsorship."})}):e.jsx(oe,{children:e.jsxs(ae,{sx:{minWidth:650},children:[e.jsx(ne,{children:e.jsxs(B,{children:[e.jsx(C,{children:"Driver ID"}),e.jsx(C,{children:"Email"}),e.jsx(C,{align:"right",children:"Total Points"})]})}),e.jsx(ie,{children:l.map(m=>e.jsxs(B,{children:[e.jsx(C,{component:"th",scope:"row",children:m.userID}),e.jsx(C,{children:m.email}),e.jsx(C,{align:"right",children:m.totalPoints.toLocaleString()})]},m.userID))})]})}),e.jsx(j,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:e.jsx(D,{variant:"contained",size:"small",color:"primary",endIcon:e.jsx(ye,{}),fullWidth:t,children:"View All Drivers"})})]})})}),e.jsx(L,{size:{xs:12,lg:3},children:e.jsxs(A,{gap:2,direction:{xs:"column",sm:"row",lg:"column"},children:[e.jsx(Ee,{icon:Le,title:"Active Drivers",value:l.length.toString(),description:"Currently sponsored drivers"}),e.jsx(Ee,{icon:pt,title:"Total Points",value:g.toLocaleString(),description:"Accumulated driver points"})]})})]}),e.jsx(d,{component:"h2",variant:"h6",sx:{mb:2,mt:4},children:"Driver Management"}),e.jsx(L,{container:!0,spacing:2,columns:12,children:e.jsx(L,{size:{xs:12,sm:6,lg:4},children:e.jsx(H,{sx:{height:"100%"},children:e.jsxs(N,{children:[e.jsx(Le,{sx:{color:"primary.main",mb:1}}),e.jsx(d,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600"},children:"Manage Drivers"}),e.jsx(d,{sx:{color:"text.secondary",mb:2},children:"Add or remove drivers from your sponsorship."}),e.jsx(D,{variant:"contained",size:"small",color:"primary",endIcon:e.jsx(ye,{}),fullWidth:t,children:"Manage Drivers"})]})})})})]})}const bs=()=>{const[r,t]=o.useState([]),[l,u]=o.useState([]),[s,n]=o.useState(!0),[c,i]=o.useState(null),[g,m]=o.useState(null),[b,w]=o.useState(!1);o.useEffect(()=>{h()},[]);const h=async()=>{var y,I;try{const v=await P.get("/api/driver/available-sponsors",{withCredentials:!0});t(Array.isArray(v.data)?v.data:[]),console.log("Sponsors response:",v.data)}catch(v){if(P.isAxiosError(v)){const S=((y=v.response)==null?void 0:y.data)||"Error loading sponsors. Please try again later.";i(typeof S=="string"?S:"An error occurred."),console.error("Axios error:",(I=v.response)==null?void 0:I.data)}else i("Error loading sponsors. Please try again later."),console.error("Error:",v);t([])}finally{n(!1)}},k=y=>{u(I=>I.includes(y)?I.filter(v=>v!==y):[...I,y])},p=async()=>{var y,I;if(l.length===0){i("Please select at least one sponsor");return}w(!0),i(null),m(null);try{const v=await P.post("/api/driver/register-sponsors",l,{withCredentials:!0,headers:{"Content-Type":"application/json"}});m(v.data||"Successfully registered with selected sponsors!"),u([]),h()}catch(v){if(P.isAxiosError(v)){const S=((y=v.response)==null?void 0:y.data)||"Failed to register with sponsors. Please try again.";i(typeof S=="string"?S:"Registration failed."),console.error("Axios error:",(I=v.response)==null?void 0:I.data)}else i("Failed to register with sponsors. Please try again."),console.error("Error:",v)}finally{w(!1)}};return s?e.jsx(j,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsx(Y,{})}):e.jsxs(j,{sx:{maxWidth:800,mx:"auto",p:2},children:[e.jsx(d,{variant:"h5",component:"h1",gutterBottom:!0,children:"Select Sponsors"}),e.jsx(H,{sx:{mb:2,bgcolor:"background.paper"},children:e.jsxs(N,{children:[e.jsxs(A,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[e.jsx(d,{variant:"subtitle1",children:"Available Reward Programs"}),e.jsx(ht,{title:"Select multiple sponsors to join their reward programs",children:e.jsx(xt,{color:"action",fontSize:"small"})})]}),c&&e.jsx(O,{severity:"error",sx:{mb:2},children:c}),g&&e.jsx(O,{severity:"success",sx:{mb:2},children:g}),e.jsx(gt,{children:r.length===0?e.jsx(d,{color:"text.secondary",children:"No available sponsors found."}):r.map(y=>e.jsxs(j,{sx:{mb:2},children:[e.jsx(Qe,{control:e.jsx(_e,{checked:l.includes(y.sponsorID),onChange:()=>k(y.sponsorID),color:"primary"}),label:e.jsxs(A,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(mt,{color:"action"}),e.jsx(d,{children:y.companyName}),e.jsx(we,{icon:e.jsx(bt,{}),label:`$${y.pointDollarValue} per point`,size:"small",color:"primary",variant:"outlined"})]})}),e.jsx(G,{sx:{ml:7,my:1}})]},y.sponsorID))}),e.jsx(D,{variant:"contained",color:"primary",onClick:p,disabled:l.length===0||b,sx:{mt:2},children:b?e.jsx(Y,{size:24,color:"inherit"}):`Register with ${l.length} Sponsor${l.length!==1?"s":""}`})]})})]})},fs=()=>{const[r,t]=o.useState({sponsorId:0,reason:""}),[l,u]=o.useState([]),[s,n]=o.useState(null),[c,i]=o.useState(null),g=o.useCallback(async()=>{try{const h=await P.get("/api/driver/available-sponsors");u(h.data),i(null)}catch{i("Failed to load data. Please try again.")}},[]);o.useEffect(()=>{g()},[g]);const m=h=>{const{name:k,value:p}=h.target;t({...r,[k]:p})},b=h=>{t({...r,sponsorId:parseInt(h.target.value)})},w=async()=>{try{const h=await P.post("/api/driverapp/apply",r);n(h.data.message||"Application submitted successfully!"),i(null)}catch{i("Failed to submit application.")}};return e.jsxs("div",{children:[e.jsx(d,{variant:"h5",children:"Driver Application"}),c&&e.jsx(O,{severity:"error",children:c}),s&&e.jsx(O,{severity:"success",children:s}),e.jsxs(Se,{fullWidth:!0,margin:"normal",children:[e.jsx(Ke,{id:"sponsor-label",children:"Sponsor"}),e.jsx(Xe,{labelId:"sponsor-label",value:r.sponsorId,onChange:b,fullWidth:!0,children:l.map(h=>e.jsx(Q,{value:h.sponsorID,children:h.companyName},h.sponsorID))})]}),e.jsx(T,{label:"Reason for Application",name:"reason",onChange:m,fullWidth:!0,multiline:!0,margin:"normal"}),e.jsx(D,{variant:"contained",color:"primary",onClick:w,children:"Submit Application"})]})},js={0:"Submitted",1:"Approved",2:"Rejected"},ys=()=>{const[r,t]=o.useState([]),[l,u]=o.useState(!0),[s,n]=o.useState(null),c=async()=>{var h;try{const k=await P.get("/api/sponsor/applications");t(k.data)}catch(k){n(((h=k.response)==null?void 0:h.data)||"Failed to load applications.")}finally{u(!1)}};o.useEffect(()=>{c()},[]);const i=async(h,k)=>{var p;try{await P.post(`/api/sponsor/applications/${h}/process?action=${k}`),t(y=>y.map(I=>I.applicationID===h?{...I,status:k==="approve"?1:2}:I))}catch(y){n(((p=y.response)==null?void 0:p.data)||`Failed to ${k} application.`)}};if(l)return e.jsx(Y,{});if(s)return e.jsx(O,{severity:"error",children:s});const g=r.filter(h=>h.status===0),m=r.filter(h=>h.status===1),b=r.filter(h=>h.status===2),w=(h,k)=>h.length>0?h.map(p=>e.jsx(L,{size:{xs:12,sm:6,md:4},children:e.jsx(H,{children:e.jsxs(N,{children:[e.jsxs(d,{variant:"subtitle1",children:["Application ID: ",p.applicationID]}),e.jsxs(d,{children:["User ID: ",p.userID]}),e.jsxs(d,{children:["Apply Date: ",p.applyDate]}),e.jsxs(d,{children:["Status: ",js[p.status]]}),p.status===0&&e.jsxs(e.Fragment,{children:[e.jsx(D,{color:"primary",variant:"contained",onClick:()=>i(p.applicationID,"approve"),children:"Approve"}),e.jsx(D,{color:"secondary",variant:"contained",onClick:()=>i(p.applicationID,"reject"),sx:{ml:1},children:"Reject"})]})]})})},p.applicationID)):e.jsx(d,{variant:"body2",color:"textSecondary",sx:{mt:2},children:k});return e.jsxs(pe,{children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,children:"Driver Applications"}),e.jsxs(j,{children:[e.jsx(d,{variant:"h6",children:"Submitted Applications"}),e.jsx(G,{sx:{mb:2}}),e.jsx(L,{container:!0,spacing:2,style:{maxHeight:"300px",overflowY:"auto"},children:w(g,"No pending applications")})]}),e.jsxs(j,{sx:{mt:4},children:[e.jsx(d,{variant:"h6",children:"Approved Applications"}),e.jsx(G,{sx:{mb:2}}),e.jsx(L,{container:!0,spacing:2,style:{maxHeight:"300px",overflowY:"auto"},children:w(m,"No approved applications")})]}),e.jsxs(j,{sx:{mt:4},children:[e.jsx(d,{variant:"h6",children:"Rejected Applications"}),e.jsx(G,{sx:{mb:2}}),e.jsx(L,{container:!0,spacing:2,style:{maxHeight:"300px",overflowY:"auto"},children:w(b,"No rejected applications")})]})]})},ge={1:"User",2:"Point",3:"Purchase",4:"Application",5:"Product",6:"System"},vs=()=>{var k;const[r,t]=o.useState([]),[l,u]=o.useState(0),[s,n]=o.useState(!1),[c,i]=o.useState({page:0,pageSize:10}),g=async()=>{try{n(!0);const p=new URLSearchParams;c.userID&&p.append("userID",c.userID.toString()),c.category!==void 0&&p.append("category",c.category.toString()),c.searchTerm&&p.append("searchTerm",c.searchTerm),p.append("page",(c.page+1).toString()),p.append("pageSize",c.pageSize.toString());const I=await(await fetch(`/api/auditlog?${p.toString()}`)).json();t(I.logs),u(I.totalCount)}catch(p){console.error("Error fetching audit logs:",p)}finally{n(!1)}};o.useEffect(()=>{g()},[c]);const m=(p,y)=>{i(I=>({...I,page:y}))},b=p=>{i(y=>({...y,pageSize:parseInt(p.target.value,10),page:0}))},w=p=>{const y=p.target.value===""?void 0:parseInt(p.target.value);i(I=>({...I,category:y,page:0}))},h=p=>ge[p]||"Unknown";return e.jsx(j,{sx:{p:3},children:e.jsxs(q,{container:!0,spacing:3,children:[e.jsx(q,{item:!0,xs:12,children:e.jsx(d,{variant:"h4",gutterBottom:!0,children:"Audit Log Dashboard"})}),e.jsx(q,{item:!0,xs:12,children:e.jsx(re,{sx:{p:2,mb:2},children:e.jsxs(q,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(q,{item:!0,xs:12,sm:6,md:3,children:e.jsx(T,{fullWidth:!0,label:"User ID",type:"number",value:c.userID||"",onChange:p=>i(y=>({...y,userID:p.target.value?parseInt(p.target.value):void 0,page:0}))})}),e.jsx(q,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(Se,{fullWidth:!0,children:[e.jsx(Ke,{children:"Category"}),e.jsxs(Xe,{value:((k=c.category)==null?void 0:k.toString())||"",label:"Category",onChange:w,children:[e.jsx(Q,{value:"",children:"All"}),Object.keys(ge).map(p=>e.jsx(Q,{value:p,children:ge[parseInt(p)]},p))]})]})}),e.jsx(q,{item:!0,xs:12,children:e.jsx(T,{fullWidth:!0,label:"Search Description",value:c.searchTerm||"",onChange:p=>i(y=>({...y,searchTerm:p.target.value||void 0,page:0}))})})]})})}),e.jsx(q,{item:!0,xs:12,children:e.jsxs(re,{children:[e.jsx(j,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:e.jsx(ve,{onClick:()=>g(),disabled:s,children:e.jsx(ft,{})})}),e.jsx(oe,{children:e.jsxs(ae,{children:[e.jsx(ne,{children:e.jsxs(B,{children:[e.jsx(C,{children:"Log ID"}),e.jsx(C,{children:"User ID"}),e.jsx(C,{children:"Category"}),e.jsx(C,{children:"Description"}),e.jsx(C,{children:"Timestamp"})]})}),e.jsx(ie,{children:r.map(p=>e.jsxs(B,{children:[e.jsx(C,{children:p.logID}),e.jsx(C,{children:p.userID}),e.jsx(C,{children:e.jsx(we,{label:h(p.category),size:"small",color:Cs(p.category)})}),e.jsx(C,{children:p.description}),e.jsx(C,{children:nr(new Date(p.timestamp),"MMM dd, yyyy HH:mm:ss")})]},p.logID))})]})}),e.jsx(jt,{component:"div",count:l,page:c.page,onPageChange:m,rowsPerPage:c.pageSize,onRowsPerPageChange:b,rowsPerPageOptions:[5,10,25,50]})]})})]})})},Cs=r=>({0:"primary",1:"secondary",2:"success",3:"info",4:"warning",5:"error"})[r]||"default",Ss=()=>e.jsxs(sr,{children:[e.jsx(tr,{}),e.jsx(Ve,{})," ",e.jsx(pe,{maxWidth:"md",sx:{mt:4},children:e.jsxs(ir,{children:[e.jsx(R,{path:"/about",element:e.jsx(Ot,{})}),e.jsx(R,{path:"/login",element:e.jsx(Et,{})}),e.jsx(R,{path:"/register",element:e.jsx(qt,{})}),e.jsx(R,{path:"/home",element:e.jsx(Wt,{})})," ",e.jsx(R,{path:"/faq",element:e.jsx(cs,{})}),e.jsx(R,{path:"/feedback",element:e.jsx(ds,{})}),e.jsx(R,{path:"/dashboard",element:e.jsx(as,{})}),e.jsx(R,{path:"/catalog",element:e.jsx(is,{})}),e.jsx(R,{path:"/application",element:e.jsx(fs,{})}),e.jsx(R,{path:"/application-manager",element:e.jsx(ys,{})}),e.jsx(R,{path:"/change-password",element:e.jsx(ps,{})})," ",e.jsx(R,{path:"/driver-points",element:e.jsx(hs,{})})," ",e.jsx(R,{path:"/driver-activity",element:e.jsx(gs,{})})," ",e.jsx(R,{path:"/sponsor-driver-test",element:e.jsx(ms,{})}),e.jsx(R,{path:"/sponsor-reg-test",element:e.jsx(bs,{})}),e.jsx(R,{path:"/points-history/:driverId",element:e.jsx(xs,{})}),e.jsx(R,{path:"/audit-logs",element:e.jsx(vs,{})}),e.jsx(R,{path:"/",element:e.jsx(lr,{to:"/home",replace:!0})})]})})]});cr.createRoot(document.getElementById("root")).render(e.jsx(dr,{children:e.jsx(Ss,{})}));
