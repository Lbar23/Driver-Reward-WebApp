import{j as e,a8 as X,a9 as Le,r as a,aa as S,ab as se,c as er,ac as rr,ad as tr,ae as P,af as or,ag as sr,ah as ar,ai as nr}from"./vendor-BjwGimJS.js";import{B as ir,b as lr,I as Oe,S as D,L as ve,a as Ce,c as we,d as xe,e as ge,D as cr,f as dr,g as ur,H as pr,h as hr,A as Se,F as xr,C as B,i as q,j as gr,T as d,k as A,l as We,m as fe,n as Ee,N as Fe,o as Z,p as Be,u as mr,q as ae,r as y,M as qe,s as te,t as br,v as fr,w as ne,x as He,y as yr,z as jr,E as vr,G as Cr,J as Ne,K as m,O as oe,P as ke,Q as wr,R as Sr,U as kr,V as Ir,W as Rr,X as Pr,Y as Ve,Z as z,_ as Ar,$ as he,a0 as Ge,a1 as Dr,a2 as Ie,a3 as Re,a4 as zr,a5 as ie,a6 as Pe,a7 as G,a8 as O,a9 as M,aa as me,ab as ee,ac as Ue,ad as Ze,ae as Mr,af as $r,ag as Tr,ah as Lr,ai as Or,aj as Ae,ak as Wr,al as Er,am as Fr,an as Br,ao as qr,ap as Hr,aq as Nr,ar as Vr,as as Gr,at as Ur,au as Zr,av as Yr,aw as Qr,ax as _r,ay as Ye,az as Jr,aA as be,aB as F,aC as Kr,aD as Xr,aE as et,aF as rt,aG as tt,aH as ot,aI as st,aJ as at,aK as nt,aL as it,aM as lt,aN as ye,aO as le,aP as ce,aQ as de,aR as V,aS as v,aT as De,aU as ue,aV as Qe,aW as ze,aX as ct,aY as dt,aZ as ut,a_ as pt,a$ as ht,b0 as xt}from"./mui-CWIueZ6P.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function pe({showBadge:r=!1,...t}){return e.jsx(ir,{color:"error",variant:"dot",invisible:!r,sx:{[`& .${lr.badge}`]:{right:2,top:2}},children:e.jsx(Oe,{size:"small",...t})})}const gt=[{text:"Dashboard",icon:e.jsx(cr,{}),path:"/dashboard"}],mt=[{text:"Settings",icon:e.jsx(dr,{})},{text:"About",icon:e.jsx(ur,{}),path:"/about"},{text:"FAQ",icon:e.jsx(pr,{}),path:"/faq"},{text:"Catalog",icon:e.jsx(hr,{}),path:"/catalog"},{text:"Driver Application",icon:e.jsx(Se,{}),path:"/application"},{text:"Manage Applications",icon:e.jsx(Se,{}),path:"/application-manager"},{text:"Feedback",icon:e.jsx(xr,{}),path:"/feedback"}];function _e(){const r=X(),t=Le(),n=o=>{r(o)},c=o=>t.pathname===o;return e.jsxs(D,{sx:{flexGrow:1,p:1,justifyContent:"space-between"},children:[e.jsx(ve,{dense:!0,children:gt.map((o,i)=>e.jsx(Ce,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(we,{selected:c(o.path),onClick:()=>n(o.path),children:[e.jsx(xe,{children:o.icon}),e.jsx(ge,{primary:o.text})]})},i))}),e.jsx(ve,{dense:!0,children:mt.map((o,i)=>e.jsx(Ce,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(we,{selected:o.path!==void 0&&c(o.path),onClick:()=>n(o.path),children:[e.jsx(xe,{children:o.icon}),e.jsx(ge,{primary:o.text})]})},i))})]})}function bt(){return e.jsx(B,{variant:"outlined",sx:{m:1.5,p:1.5},children:e.jsxs(q,{children:[e.jsx(gr,{fontSize:"small"}),e.jsx(d,{gutterBottom:!0,sx:{fontWeight:600},children:"Something"}),e.jsx(d,{variant:"body2",sx:{mb:2,color:"text.secondary"},children:"Save your points by driving safe!"}),e.jsx(A,{variant:"contained",size:"small",fullWidth:!0,children:"Make the pledge"})]})})}function ft({open:r,toggleDrawer:t}){return e.jsx(We,{anchor:"right",open:r,onClose:t(!1),sx:{zIndex:n=>n.zIndex.drawer+1,[`& .${fe.paper}`]:{backgroundImage:"none",backgroundColor:"background.paper"}},children:e.jsxs(D,{sx:{maxWidth:"70dvw",height:"100%"},children:[e.jsxs(D,{direction:"row",sx:{p:2,pb:0,gap:1},children:[e.jsxs(D,{direction:"row",sx:{gap:1,alignItems:"center",flexGrow:1,p:1},children:[e.jsx(Ee,{sizes:"small",alt:"Riley Carter",src:"/static/images/avatar/7.jpg",sx:{width:24,height:24}}),e.jsx(d,{component:"p",variant:"h6",children:"Riley Carter"})]}),e.jsx(pe,{showBadge:!0,children:e.jsx(Fe,{})})]}),e.jsx(Z,{}),e.jsxs(D,{sx:{flexGrow:1},children:[e.jsx(_e,{}),e.jsx(Z,{})]}),e.jsx(bt,{}),e.jsx(D,{sx:{p:2},children:e.jsx(A,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(Be,{}),children:"Logout"})})]})})}function Je(r){const{mode:t,systemMode:n,setMode:c}=mr(),o=ae(),[i,u]=a.useState(null),l=!!i,p=R=>{u(R.currentTarget)},x=()=>{u(null)},g=R=>()=>{c(R),x()};if(!t)return e.jsx(y,{"data-screenshot":"toggle-mode",sx:{verticalAlign:"bottom",display:"inline-flex",width:"2.25rem",height:"2.25rem",borderRadius:o.shape.borderRadius,border:"1px solid",borderColor:o.palette.divider}});const f=(n||t)==="light"?e.jsx(br,{}):e.jsx(fr,{});return e.jsxs(a.Fragment,{children:[e.jsx(Oe,{"data-screenshot":"toggle-mode",onClick:p,disableRipple:!0,size:"small","aria-controls":l?"color-scheme-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,...r,children:f}),e.jsxs(qe,{anchorEl:i,id:"color-scheme-menu",open:l,onClose:x,onClick:x,PaperProps:{variant:"outlined",sx:{my:"4px"}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsx(te,{selected:t==="system",onClick:g("system"),children:"System"}),e.jsx(te,{selected:t==="light",onClick:g("light"),children:"Light"}),e.jsx(te,{selected:t==="dark",onClick:g("dark"),children:"Dark"})]})]})}const yt=ne(He)({width:"100%",padding:"12px",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center",gap:"12px",flexShrink:0,[`& ${yr.flexContainer}`]:{gap:"8px",p:"8px",pb:0}}),jt=[{path:"/dashboard",label:"Dashboard"},{path:"/about",label:"About"},{path:"/login",label:"Login"},{path:"/register",label:"Register"},{path:"/faq",label:"FAQ"},{path:"/feedback",label:"Feedback"},{path:"/catalog",label:"Catalog"}];function Ke({padding:r=0}){const[t,n]=a.useState(!1),c=o=>()=>{n(o)};return e.jsx(jr,{position:"fixed",sx:{display:{xs:"auto",md:"auto"},boxShadow:0,bgcolor:"background.paper",backgroundImage:"none",borderBottom:"1px solid",borderColor:"divider",top:"var(--template-frame-height, 0px)",left:{md:`${r}px`}},children:e.jsx(yt,{variant:"regular",children:e.jsxs(D,{direction:"row",sx:{alignItems:"center",flexGrow:1,width:"100%",gap:1},children:[e.jsxs(D,{direction:"row",spacing:1,sx:{justifyContent:"center",mr:"auto"},children:[e.jsx(vt,{}),e.jsx(d,{variant:"h4",component:"h1",sx:{color:"text.primary"},children:"GitGud Drivers"})]}),e.jsxs(y,{sx:{display:{xs:"block",md:"none"}},children:[e.jsx(Je,{}),e.jsx(pe,{"aria-label":"menu",onClick:c(!0),children:e.jsx(vr,{})}),e.jsx(ft,{open:t,toggleDrawer:c,routes:jt})]})]})})})}function vt(){return e.jsx(y,{sx:{width:"1.5rem",height:"1.5rem",bgcolor:"black",borderRadius:"999px",display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"center",backgroundImage:"linear-gradient(135deg, hsl(210, 98%, 60%) 0%, hsl(210, 100%, 35%) 100%)",color:"hsla(210, 100%, 95%, 0.9)",border:"1px solid",borderColor:"hsl(210, 100%, 55%)",boxShadow:"inset 0 2px 5px rgba(255, 255, 255, 0.3)"},children:e.jsx(Cr,{color:"inherit",sx:{fontSize:"1rem"}})})}const L=Ne();[...L.shadows];const h={50:"hsl(210, 100%, 95%)",100:"hsl(210, 100%, 92%)",200:"hsl(210, 100%, 80%)",300:"hsl(210, 100%, 65%)",400:"hsl(210, 98%, 48%)",500:"hsl(210, 98%, 42%)",600:"hsl(210, 98%, 55%)",700:"hsl(210, 100%, 35%)",800:"hsl(210, 100%, 16%)",900:"hsl(210, 100%, 21%)"},s={50:"hsl(220, 35%, 97%)",100:"hsl(220, 30%, 94%)",200:"hsl(220, 20%, 88%)",300:"hsl(220, 20%, 80%)",400:"hsl(220, 20%, 65%)",500:"hsl(220, 20%, 42%)",600:"hsl(220, 20%, 35%)",700:"hsl(220, 20%, 25%)",800:"hsl(220, 30%, 6%)",900:"hsl(220, 35%, 3%)"},$={50:"hsl(120, 80%, 98%)",100:"hsl(120, 75%, 94%)",200:"hsl(120, 75%, 87%)",300:"hsl(120, 61%, 77%)",400:"hsl(120, 44%, 53%)",500:"hsl(120, 59%, 30%)",600:"hsl(120, 70%, 25%)",700:"hsl(120, 75%, 16%)",800:"hsl(120, 84%, 10%)",900:"hsl(120, 87%, 6%)"},E={50:"hsl(45, 100%, 97%)",100:"hsl(45, 92%, 90%)",200:"hsl(45, 94%, 80%)",300:"hsl(45, 90%, 65%)",400:"hsl(45, 90%, 40%)",500:"hsl(45, 90%, 35%)",600:"hsl(45, 91%, 25%)",700:"hsl(45, 94%, 20%)",800:"hsl(45, 95%, 16%)",900:"hsl(45, 93%, 12%)"},T={50:"hsl(0, 100%, 97%)",100:"hsl(0, 92%, 90%)",200:"hsl(0, 94%, 80%)",300:"hsl(0, 90%, 65%)",400:"hsl(0, 90%, 40%)",500:"hsl(0, 90%, 30%)",600:"hsl(0, 91%, 25%)",700:"hsl(0, 94%, 18%)",800:"hsl(0, 95%, 12%)",900:"hsl(0, 93%, 6%)"},Ct={light:{palette:{primary:{light:h[200],main:h[400],dark:h[700],contrastText:h[50]},info:{light:h[100],main:h[300],dark:h[600],contrastText:s[50]},warning:{light:E[300],main:E[400],dark:E[800]},error:{light:T[300],main:T[400],dark:T[800]},success:{light:$[300],main:$[400],dark:$[800]},grey:{...s},divider:m(s[300],.4),background:{default:"hsl(0, 0%, 99%)",paper:"hsl(220, 35%, 97%)"},text:{primary:s[800],secondary:s[600],warning:E[400]},action:{hover:m(s[200],.2),selected:`${m(s[200],.3)}`},baseShadow:"hsla(220, 30%, 5%, 0.07) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.07) 0px 8px 16px -5px"}},dark:{palette:{primary:{contrastText:h[50],light:h[300],main:h[400],dark:h[700]},info:{contrastText:h[300],light:h[500],main:h[700],dark:h[900]},warning:{light:E[400],main:E[500],dark:E[700]},error:{light:T[400],main:T[500],dark:T[700]},success:{light:$[400],main:$[500],dark:$[700]},grey:{...s},divider:m(s[700],.6),background:{default:s[900],paper:"hsl(220, 30%, 7%)"},text:{primary:"hsl(0, 0%, 100%)",secondary:s[400]},action:{hover:m(s[600],.2),selected:m(s[600],.3)},baseShadow:"hsla(220, 30%, 5%, 0.7) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.8) 0px 8px 16px -5px"}}};['"Inter", "sans-serif"'].join(","),L.typography.pxToRem(48),L.typography.pxToRem(36),L.typography.pxToRem(30),L.typography.pxToRem(24),L.typography.pxToRem(20),L.typography.pxToRem(18),L.typography.pxToRem(18),L.typography.pxToRem(14),L.typography.pxToRem(14),L.typography.pxToRem(14),L.typography.pxToRem(12);const wt={borderRadius:8},St=["none","var(--template-palette-baseShadow)",...L.shadows.slice(2)],kt=St,It={MuiButtonBase:{defaultProps:{disableTouchRipple:!0,disableRipple:!0},styleOverrides:{root:({theme:r})=>({boxSizing:"border-box",transition:"all 100ms ease-in","&:focus-visible":{outline:`3px solid ${m(r.palette.primary.main,.5)}`,outlineOffset:"2px"}})}},MuiButton:{styleOverrides:{root:({theme:r})=>({boxShadow:"none",borderRadius:r.shape.borderRadius,textTransform:"none",variants:[{props:{size:"small"},style:{height:"2.25rem",padding:"8px 12px"}},{props:{size:"medium"},style:{height:"2.5rem"}},{props:{color:"primary",variant:"contained"},style:{color:"white",backgroundColor:s[900],backgroundImage:`linear-gradient(to bottom, ${s[700]}, ${s[800]})`,boxShadow:`inset 0 1px 0 ${s[600]}, inset 0 -1px 0 1px hsl(220, 0%, 0%)`,border:`1px solid ${s[700]}`,"&:hover":{backgroundImage:"none",backgroundColor:s[700],boxShadow:"none"},"&:active":{backgroundColor:s[800]},...r.applyStyles("dark",{color:"black",backgroundColor:s[50],backgroundImage:`linear-gradient(to bottom, ${s[100]}, ${s[50]})`,boxShadow:"inset 0 -1px 0  hsl(220, 30%, 80%)",border:`1px solid ${s[50]}`,"&:hover":{backgroundImage:"none",backgroundColor:s[300],boxShadow:"none"},"&:active":{backgroundColor:s[400]}})}},{props:{color:"secondary",variant:"contained"},style:{color:"white",backgroundColor:h[300],backgroundImage:`linear-gradient(to bottom, ${m(h[400],.8)}, ${h[500]})`,boxShadow:`inset 0 2px 0 ${m(h[200],.2)}, inset 0 -2px 0 ${m(h[700],.4)}`,border:`1px solid ${h[500]}`,"&:hover":{backgroundColor:h[700],boxShadow:"none"},"&:active":{backgroundColor:h[700],backgroundImage:"none"}}},{props:{variant:"outlined"},style:{color:r.palette.text.primary,border:"1px solid",borderColor:s[200],backgroundColor:m(s[50],.3),"&:hover":{backgroundColor:s[100],borderColor:s[300]},"&:active":{backgroundColor:s[200]},...r.applyStyles("dark",{backgroundColor:s[800],borderColor:s[700],"&:hover":{backgroundColor:s[900],borderColor:s[600]},"&:active":{backgroundColor:s[900]}})}},{props:{color:"secondary",variant:"outlined"},style:{color:h[700],border:"1px solid",borderColor:h[200],backgroundColor:h[50],"&:hover":{backgroundColor:h[100],borderColor:h[400]},"&:active":{backgroundColor:m(h[200],.7)},...r.applyStyles("dark",{color:h[50],border:"1px solid",borderColor:h[900],backgroundColor:m(h[900],.3),"&:hover":{borderColor:h[700],backgroundColor:m(h[900],.6)},"&:active":{backgroundColor:m(h[900],.5)}})}},{props:{variant:"text"},style:{color:s[600],"&:hover":{backgroundColor:s[100]},"&:active":{backgroundColor:s[200]},...r.applyStyles("dark",{color:s[50],"&:hover":{backgroundColor:s[700]},"&:active":{backgroundColor:m(s[700],.7)}})}},{props:{color:"secondary",variant:"text"},style:{color:h[700],"&:hover":{backgroundColor:m(h[100],.5)},"&:active":{backgroundColor:m(h[200],.7)},...r.applyStyles("dark",{color:h[100],"&:hover":{backgroundColor:m(h[900],.5)},"&:active":{backgroundColor:m(h[900],.3)}})}}]})}},MuiIconButton:{styleOverrides:{root:({theme:r})=>({boxShadow:"none",borderRadius:r.shape.borderRadius,textTransform:"none",fontWeight:r.typography.fontWeightMedium,letterSpacing:0,color:r.palette.text.primary,border:"1px solid ",borderColor:s[200],backgroundColor:m(s[50],.3),"&:hover":{backgroundColor:s[100],borderColor:s[300]},"&:active":{backgroundColor:s[200]},...r.applyStyles("dark",{backgroundColor:s[800],borderColor:s[700],"&:hover":{backgroundColor:s[900],borderColor:s[600]},"&:active":{backgroundColor:s[900]}}),variants:[{props:{size:"small"},style:{width:"2.25rem",height:"2.25rem",padding:"0.25rem",[`& .${oe.root}`]:{fontSize:"1rem"}}},{props:{size:"medium"},style:{width:"2.5rem",height:"2.5rem"}}]})}},MuiToggleButtonGroup:{styleOverrides:{root:({theme:r})=>({borderRadius:"10px",boxShadow:`0 4px 16px ${m(s[400],.2)}`,[`& .${ke.selected}`]:{color:h[500]},...r.applyStyles("dark",{[`& .${ke.selected}`]:{color:"#fff"},boxShadow:`0 4px 16px ${m(h[700],.5)}`})})}},MuiToggleButton:{styleOverrides:{root:({theme:r})=>({padding:"12px 16px",textTransform:"none",borderRadius:"10px",fontWeight:500,...r.applyStyles("dark",{color:s[400],boxShadow:"0 4px 16px rgba(0, 0, 0, 0.5)",[`&.${wr.selected}`]:{color:h[300]}})})}},MuiCheckbox:{defaultProps:{disableRipple:!0,icon:e.jsx(Sr,{sx:{color:"hsla(210, 0%, 0%, 0.0)"}}),checkedIcon:e.jsx(kr,{sx:{height:14,width:14}}),indeterminateIcon:e.jsx(Ir,{sx:{height:14,width:14}})},styleOverrides:{root:({theme:r})=>({margin:10,height:16,width:16,borderRadius:5,border:"1px solid ",borderColor:m(s[300],.8),boxShadow:"0 0 0 1.5px hsla(210, 0%, 0%, 0.04) inset",backgroundColor:m(s[100],.4),transition:"border-color, background-color, 120ms ease-in","&:hover":{borderColor:h[300]},"&.Mui-focusVisible":{outline:`3px solid ${m(h[500],.5)}`,outlineOffset:"2px",borderColor:h[400]},"&.Mui-checked":{color:"white",backgroundColor:h[500],borderColor:h[500],boxShadow:"none","&:hover":{backgroundColor:h[600]}},...r.applyStyles("dark",{borderColor:m(s[700],.8),boxShadow:"0 0 0 1.5px hsl(210, 0%, 0%) inset",backgroundColor:m(s[900],.8),"&:hover":{borderColor:h[300]},"&.Mui-focusVisible":{borderColor:h[400],outline:`3px solid ${m(h[500],.5)}`,outlineOffset:"2px"}})})}},MuiInputBase:{styleOverrides:{root:{border:"none"},input:{"&::placeholder":{opacity:.7,color:s[500]}}}},MuiOutlinedInput:{styleOverrides:{input:{padding:0},root:({theme:r})=>({padding:"8px 12px",color:r.palette.text.primary,borderRadius:r.shape.borderRadius,border:`1px solid ${r.palette.divider}`,backgroundColor:r.palette.background.default,transition:"border 120ms ease-in","&:hover":{borderColor:s[400]},[`&.${Rr.focused}`]:{outline:`3px solid ${m(h[500],.5)}`,borderColor:h[400]},...r.applyStyles("dark",{"&:hover":{borderColor:s[500]}}),variants:[{props:{size:"small"},style:{height:"2.25rem"}},{props:{size:"medium"},style:{height:"2.5rem"}}]}),notchedOutline:{border:"none"}}},MuiInputAdornment:{styleOverrides:{root:({theme:r})=>({color:r.palette.grey[500],...r.applyStyles("dark",{color:r.palette.grey[400]})})}},MuiFormLabel:{styleOverrides:{root:({theme:r})=>({typography:r.typography.caption,marginBottom:8})}}},Rt={MuiList:{styleOverrides:{root:{padding:"8px",display:"flex",flexDirection:"column",gap:0}}},MuiListItem:{styleOverrides:{root:({theme:r})=>({[`& .${oe.root}`]:{width:"1rem",height:"1rem",color:r.palette.text.secondary},[`& .${Pr.root}`]:{fontWeight:500},[`& .${Ve.root}`]:{display:"flex",gap:8,padding:"2px 8px",borderRadius:r.shape.borderRadius,opacity:.7,"&.Mui-selected":{opacity:1,backgroundColor:m(r.palette.action.selected,.3),[`& .${oe.root}`]:{color:r.palette.text.primary},"&:focus-visible":{backgroundColor:m(r.palette.action.selected,.3)},"&:hover":{backgroundColor:m(r.palette.action.selected,.5)}},"&:focus-visible":{backgroundColor:"transparent"}}})}},MuiListItemText:{styleOverrides:{primary:({theme:r})=>({fontSize:r.typography.body2.fontSize,fontWeight:500,lineHeight:r.typography.body2.lineHeight}),secondary:({theme:r})=>({fontSize:r.typography.caption.fontSize,lineHeight:r.typography.caption.lineHeight})}},MuiListSubheader:{styleOverrides:{root:({theme:r})=>({backgroundColor:"transparent",padding:"4px 8px",fontSize:r.typography.caption.fontSize,fontWeight:500,lineHeight:r.typography.caption.lineHeight})}},MuiListItemIcon:{styleOverrides:{root:{minWidth:0}}},MuiChip:{defaultProps:{size:"small"},styleOverrides:{root:({theme:r})=>({border:"1px solid",borderRadius:"999px",[`& .${z.label}`]:{fontWeight:600},variants:[{props:{color:"default"},style:{borderColor:s[200],backgroundColor:s[100],[`& .${z.label}`]:{color:s[500]},[`& .${z.icon}`]:{color:s[500]},...r.applyStyles("dark",{borderColor:s[700],backgroundColor:s[800],[`& .${z.label}`]:{color:s[300]},[`& .${z.icon}`]:{color:s[300]}})}},{props:{color:"success"},style:{borderColor:$[200],backgroundColor:$[50],[`& .${z.label}`]:{color:$[500]},[`& .${z.icon}`]:{color:$[500]},...r.applyStyles("dark",{borderColor:$[800],backgroundColor:$[900],[`& .${z.label}`]:{color:$[300]},[`& .${z.icon}`]:{color:$[300]}})}},{props:{color:"error"},style:{borderColor:T[100],backgroundColor:T[50],[`& .${z.label}`]:{color:T[500]},[`& .${z.icon}`]:{color:T[500]},...r.applyStyles("dark",{borderColor:T[800],backgroundColor:T[900],[`& .${z.label}`]:{color:T[200]},[`& .${z.icon}`]:{color:T[300]}})}},{props:{size:"small"},style:{maxHeight:20,[`& .${z.label}`]:{fontSize:r.typography.caption.fontSize},[`& .${oe.root}`]:{fontSize:r.typography.caption.fontSize}}},{props:{size:"medium"},style:{[`& .${z.label}`]:{fontSize:r.typography.caption.fontSize}}}]})}},MuiTablePagination:{styleOverrides:{actions:{display:"flex",gap:8,marginRight:6,[`& .${Ar.root}`]:{minWidth:0,width:36,height:36}}}},MuiIcon:{defaultProps:{fontSize:"small"},styleOverrides:{root:{variants:[{props:{fontSize:"small"},style:{fontSize:"1rem"}}]}}}},Pt={MuiAlert:{styleOverrides:{root:({theme:r})=>({borderRadius:10,backgroundColor:E[100],color:r.palette.text.primary,border:`1px solid ${m(E[300],.5)}`,"& .MuiAlert-icon":{color:E[500]},...r.applyStyles("dark",{backgroundColor:`${m(E[900],.5)}`,border:`1px solid ${m(E[800],.5)}`})})}},MuiDialog:{styleOverrides:{root:({theme:r})=>({"& .MuiDialog-paper":{borderRadius:"10px",border:"1px solid",borderColor:r.palette.divider}})}},MuiLinearProgress:{styleOverrides:{root:({theme:r})=>({height:8,borderRadius:8,backgroundColor:s[200],...r.applyStyles("dark",{backgroundColor:s[800]})})}}},At={MuiMenuItem:{styleOverrides:{root:({theme:r})=>({borderRadius:r.shape.borderRadius,padding:"6px 8px",[`&.${he.focusVisible}`]:{backgroundColor:"transparent"},[`&.${he.selected}`]:{[`&.${he.focusVisible}`]:{backgroundColor:m(r.palette.action.selected,.3)}}})}},MuiMenu:{styleOverrides:{list:{gap:"0px",[`&.${Ge.root}`]:{margin:"0 -8px"}},paper:({theme:r})=>({marginTop:"4px",borderRadius:r.shape.borderRadius,border:`1px solid ${r.palette.divider}`,backgroundImage:"none",background:"hsl(0, 0%, 100%)",boxShadow:"hsla(220, 30%, 5%, 0.07) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.07) 0px 8px 16px -5px",[`& .${Ve.root}`]:{"&.Mui-selected":{backgroundColor:m(r.palette.action.selected,.3)}},...r.applyStyles("dark",{background:s[900],boxShadow:"hsla(220, 30%, 5%, 0.7) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.8) 0px 8px 16px -5px"})})}},MuiSelect:{defaultProps:{IconComponent:a.forwardRef((r,t)=>e.jsx(Dr,{fontSize:"small",...r,ref:t}))},styleOverrides:{root:({theme:r})=>({borderRadius:r.shape.borderRadius,border:"1px solid",borderColor:s[200],backgroundColor:r.palette.background.paper,boxShadow:"inset 0 1px 0 1px hsla(220, 0%, 100%, 0.6), inset 0 -1px 0 1px hsla(220, 35%, 90%, 0.5)","&:hover":{borderColor:s[300],backgroundColor:r.palette.background.paper,boxShadow:"none"},[`&.${Ie.focused}`]:{outlineOffset:0,borderColor:s[400]},"&:before, &:after":{display:"none"},...r.applyStyles("dark",{borderRadius:r.shape.borderRadius,borderColor:s[700],backgroundColor:r.palette.background.paper,boxShadow:`inset 0 1px 0 1px ${m(s[700],.15)}, inset 0 -1px 0 1px hsla(220, 0%, 0%, 0.7)`,"&:hover":{borderColor:m(s[700],.7),backgroundColor:r.palette.background.paper,boxShadow:"none"},[`&.${Ie.focused}`]:{outlineOffset:0,borderColor:s[900]},"&:before, &:after":{display:"none"}})}),select:({theme:r})=>({display:"flex",alignItems:"center",...r.applyStyles("dark",{display:"flex",alignItems:"center","&:focus-visible":{backgroundColor:s[900]}})})}},MuiLink:{defaultProps:{underline:"none"},styleOverrides:{root:({theme:r})=>({color:r.palette.text.primary,fontWeight:500,position:"relative",textDecoration:"none",width:"fit-content","&::before":{content:'""',position:"absolute",width:"100%",height:"1px",bottom:0,left:0,backgroundColor:r.palette.text.secondary,opacity:.3,transition:"width 0.3s ease, opacity 0.3s ease"},"&:hover::before":{width:0},"&:focus-visible":{outline:`3px solid ${m(h[500],.5)}`,outlineOffset:"4px",borderRadius:"2px"}})}},MuiDrawer:{styleOverrides:{paper:({theme:r})=>({backgroundColor:r.palette.background.default})}},MuiPaginationItem:{styleOverrides:{root:({theme:r})=>({"&.Mui-selected":{color:"white",backgroundColor:r.palette.grey[900]},...r.applyStyles("dark",{"&.Mui-selected":{color:"black",backgroundColor:r.palette.grey[50]}})})}},MuiTabs:{styleOverrides:{root:{minHeight:"fit-content"},indicator:({theme:r})=>({backgroundColor:r.palette.grey[800],...r.applyStyles("dark",{backgroundColor:r.palette.grey[200]})})}},MuiTab:{styleOverrides:{root:({theme:r})=>({padding:"6px 8px",marginBottom:"8px",textTransform:"none",minWidth:"fit-content",minHeight:"fit-content",color:r.palette.text.secondary,borderRadius:r.shape.borderRadius,border:"1px solid",borderColor:"transparent",":hover":{color:r.palette.text.primary,backgroundColor:s[100],borderColor:s[200]},[`&.${Re.selected}`]:{color:s[900]},...r.applyStyles("dark",{":hover":{color:r.palette.text.primary,backgroundColor:s[800],borderColor:s[700]},[`&.${Re.selected}`]:{color:"#fff"}})})}},MuiStepConnector:{styleOverrides:{line:({theme:r})=>({borderTop:"1px solid",borderColor:r.palette.divider,flex:1,borderRadius:"99px"})}},MuiStepIcon:{styleOverrides:{root:({theme:r})=>({color:"transparent",border:`1px solid ${s[400]}`,width:12,height:12,borderRadius:"50%","& text":{display:"none"},"&.Mui-active":{border:"none",color:r.palette.primary.main},"&.Mui-completed":{border:"none",color:r.palette.success.main},...r.applyStyles("dark",{border:`1px solid ${s[700]}`,"&.Mui-active":{border:"none",color:r.palette.primary.light},"&.Mui-completed":{border:"none",color:r.palette.success.light}}),variants:[{props:{completed:!0},style:{width:12,height:12}}]})}},MuiStepLabel:{styleOverrides:{label:({theme:r})=>({"&.Mui-completed":{opacity:.6,...r.applyStyles("dark",{opacity:.5})}})}}},Dt={MuiAccordion:{defaultProps:{elevation:0,disableGutters:!0},styleOverrides:{root:({theme:r})=>({padding:4,overflow:"clip",backgroundColor:r.palette.background.default,border:"1px solid",borderColor:r.palette.divider,":before":{backgroundColor:"transparent"},"&:not(:last-of-type)":{borderBottom:"none"},"&:first-of-type":{borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:r.shape.borderRadius,borderBottomRightRadius:r.shape.borderRadius}})}},MuiAccordionSummary:{styleOverrides:{root:({theme:r})=>({border:"none",borderRadius:8,"&:hover":{backgroundColor:s[50]},"&:focus-visible":{backgroundColor:"transparent"},...r.applyStyles("dark",{"&:hover":{backgroundColor:s[800]}})})}},MuiAccordionDetails:{styleOverrides:{root:{mb:20,border:"none"}}},MuiPaper:{defaultProps:{elevation:0}},MuiCard:{styleOverrides:{root:({theme:r})=>({padding:16,gap:16,transition:"all 100ms ease",backgroundColor:s[50],borderRadius:r.shape.borderRadius,border:`1px solid ${r.palette.divider}`,boxShadow:"none",...r.applyStyles("dark",{backgroundColor:s[800]}),variants:[{props:{variant:"outlined"},style:{border:`1px solid ${r.palette.divider}`,boxShadow:"none",background:"hsl(0, 0%, 100%)",...r.applyStyles("dark",{background:m(s[900],.4)})}}]})}},MuiCardContent:{styleOverrides:{root:{padding:0,"&:last-child":{paddingBottom:0}}}},MuiCardHeader:{styleOverrides:{root:{padding:0}}},MuiCardActions:{styleOverrides:{root:{padding:0}}}};function Xe({children:r,disableCustomTheme:t,themeComponents:n}){const c=a.useMemo(()=>t?{}:Ne({cssVariables:{colorSchemeSelector:"data-mui-color-scheme",cssVarPrefix:"template"},colorSchemes:Ct,shadows:kt,shape:wt,components:{...It,...Rt,...Pt,...At,...Dt,...n}}),[t,n]);return t?e.jsx(a.Fragment,{children:r}):e.jsx(zr,{theme:c,disableTransitionOnChange:!0,children:r})}const zt=()=>{const r=X();return e.jsxs(ie,{maxWidth:"lg",children:[e.jsxs(y,{sx:{textAlign:"center",py:8,backgroundColor:"background.paper",borderRadius:2,mb:4},children:[e.jsx(d,{variant:"h2",component:"h1",gutterBottom:!0,children:"Git Gud Drivers"}),e.jsx(d,{variant:"h5",color:"text.secondary",paragraph:!0,children:"A rewards program for professional drivers committed to excellence"}),e.jsx(A,{variant:"contained",size:"large",onClick:()=>r("/register"),sx:{mr:2},children:"Sign Up"}),e.jsx(A,{variant:"outlined",size:"large",onClick:()=>r("/login"),children:"Sign In"})]}),e.jsx(Pe,{container:!0,spacing:4,sx:{mb:6},justifyContent:"center",alignItems:"center",children:e.jsxs(Pe,{item:!0,xs:12,md:4,children:[e.jsx(d,{variant:"h5",gutterBottom:!0,children:"How It Works"}),e.jsxs(d,{children:["1. Apply as a driver",e.jsx("br",{}),"2. Get approved by a sponsor",e.jsx("br",{}),"3. Start earning points",e.jsx("br",{}),"4. Redeem rewards"]}),e.jsxs(d,{variant:"h6",gutterBottom:!0,children:[e.jsx("br",{}),"We hope to see you soon!"]})]})})]})},Q=({title:r,value:t})=>e.jsxs(y,{sx:{mb:1},children:[e.jsxs(d,{variant:"body1",component:"span",fontWeight:"bold",children:[r,":"]}),e.jsx(d,{variant:"body1",component:"span",sx:{ml:1},children:t})]}),Mt=()=>{const[r,t]=a.useState(null),[n,c]=a.useState(null),[o,i]=a.useState(!0);return a.useEffect(()=>{(async()=>{try{const l=await S.get("/api/admin/about",{withCredentials:!0});console.log("API Response:",l.data),t(l.data)}catch(l){c(l.message)}finally{i(!1)}})()},[]),o?e.jsx(G,{}):n?e.jsxs(d,{color:"error",children:["Error: ",n]}):r?e.jsxs(y,{sx:{maxWidth:600,margin:"auto",p:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(d,{variant:"h4",gutterBottom:!0,children:"About Information"}),e.jsxs(y,{sx:{p:2,mb:2,border:1,borderColor:"divider",borderRadius:2},children:[e.jsx(Q,{title:"Team",value:r.team}),e.jsx(Q,{title:"Version",value:r.version.toString()}),e.jsx(Q,{title:"Release Date",value:new Date(r.release).toLocaleDateString()}),e.jsx(Q,{title:"Product",value:r.product}),e.jsx(Q,{title:"Description",value:r.description})]})]}):e.jsx(d,{children:"No information available."})},$t=()=>{const r=X(),t=Le(),n=new URLSearchParams(t.search),c=n.get("step")==="2fa"?"2fa":"login",o=n.get("userId"),[i,u]=a.useState(c),[l,p]=a.useState(o||null),[x,g]=a.useState(!1),[C,f]=a.useState(""),[R,I]=a.useState(""),[w,k]=a.useState(""),[b,j]=a.useState(null),[U,H]=a.useState(!1);a.useEffect(()=>{c==="2fa"&&o&&(u("2fa"),p(o))},[c,o]);const re=async N=>{var _,J;N.preventDefault(),g(!0),j(null);try{const W=await S.post("/api/user/login",{username:C,password:R});W.data.requiresTwoFactor?(u("2fa"),p(W.data.userId.toString()),r(`/login?step=2fa&userId=${W.data.userId}`,{replace:!0})):W.data.succeeded?H(!0):j(W.data.message||"Login failed. Please try again.")}catch(W){j(((J=(_=W.response)==null?void 0:_.data)==null?void 0:J.message)||"Login failed. Please try again.")}finally{g(!1)}},Y=async N=>{var _,J;N.preventDefault(),g(!0);try{const W=await S.post("/api/user/verify-2fa",{userId:String(l),code:w},{withCredentials:!0});W.data.succeeded?H(!0):j(W.data.message||"Invalid 2FA code. Please try again.")}catch(W){j(((J=(_=W.response)==null?void 0:_.data)==null?void 0:J.message)||"2FA verification failed. Please try again.")}finally{g(!1)}};U&&r("/dashboard");const je=i==="login"?"Login Form":"Two-Factor Authentication Form";return e.jsxs(y,{component:"form",onSubmit:i==="login"?re:Y,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,margin:"auto",padding:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},role:"form","aria-label":je,children:[e.jsx(d,{variant:"h1",sx:{fontSize:"h4.fontSize",mb:2,color:"text.primary"},children:i==="login"?"Login":"2FA Verification"}),b&&e.jsx(O,{severity:"error",sx:{mb:2},role:"alert","aria-live":"assertive",children:b}),i==="login"?e.jsxs(e.Fragment,{children:[e.jsx(M,{label:"Username",variant:"outlined",margin:"normal",fullWidth:!0,autoComplete:"username",value:C,onChange:N=>f(N.target.value),required:!0,inputProps:{"aria-label":"Username","aria-required":"true"},helperText:"Enter your username"}),e.jsx(M,{label:"Password",type:"password",variant:"outlined",margin:"normal",fullWidth:!0,autoComplete:"current-password",value:R,onChange:N=>I(N.target.value),required:!0,inputProps:{"aria-label":"Password","aria-required":"true"},helperText:"Enter your password"})]}):e.jsx(M,{label:"2FA Code",variant:"outlined",margin:"normal",fullWidth:!0,value:w,onChange:N=>k(N.target.value),required:!0,inputProps:{"aria-label":"Password","aria-required":"true",maxLength:6,inputMode:"numeric",pattern:"[0-9]*"},helperText:"Enter the 6-digit code from your authenticator app"}),e.jsx(A,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,sx:{mt:3,mb:2},disabled:x,"aria-busy":x,children:x?e.jsxs(e.Fragment,{children:[e.jsx(G,{size:24,"aria-label":"Loading"}),e.jsx("span",{className:"sr-only",children:"Processing..."})]}):i==="login"?"Log In":"Verify 2FA"}),i==="login"&&e.jsxs(y,{sx:{textAlign:"center",mt:2},role:"navigation","aria-label":"Additional Account Options",children:[e.jsx(me,{component:se,to:"/register",variant:"body2",sx:{display:"block",mb:1,textDecoration:"underline"},"aria-label":"Create new account",children:"Don't have an account? Sign Up"}),e.jsx(me,{component:se,to:"/reset-password",variant:"body2",sx:{textDecoration:"underline"},"aria-label":"Reset password",children:"Forgot Password? Click here to Reset it"})]})]})},Tt=r=>{const[t,n]=a.useState(0);return a.useEffect(()=>{n((o=>{let i=0;return o.length>=8&&(i+=1),/[A-Z]/.test(o)&&(i+=1),/[0-9]/.test(o)&&(i+=1),/[^A-Za-z0-9]/.test(o)&&(i+=1),i/4*100})(r))},[r]),t},Lt=r=>r.length<8?"Password must be at least 8 characters long.":/[A-Z]/.test(r)?/[0-9]/.test(r)?/[^A-Za-z0-9]/.test(r)?null:"Password must contain at least one special character.":"Password must contain at least one number.":"Password must contain at least one uppercase letter.",Ot=()=>{const[r,t]=a.useState(""),[n,c]=a.useState(""),[o,i]=a.useState(""),[u,l]=a.useState(!1),[p,x]=a.useState(!1),[g,C]=a.useState(null),[f,R]=a.useState(null),I=Tt(o),w=X(),k=async j=>{var H,re;j.preventDefault(),C(null),R(null);const U=Lt(o);if(U){R(U);return}x(!0);try{const Y=await S.post("/api/user/register",{username:r,email:n,password:o,enable2FA:u}),je=await S.post("/api/user/login",{username:r,password:o});Y.data.requiresTwoFactor?w(`/login?step=2fa&userId=${Y.data.userId}`):w("/dashboard")}catch(Y){C(((re=(H=Y.response)==null?void 0:H.data)==null?void 0:re.message)||"Registration failed. Please try again.")}finally{x(!1)}},b=j=>j<33?"error":j<66?"warning":"success";return e.jsxs(y,{component:"form",onSubmit:k,"aria-label":"Registration form",sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,margin:"auto",padding:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(d,{variant:"h1",sx:{fontSize:"h4.fontSize",mb:2,color:"text.primary"},component:"h1",gutterBottom:!0,children:"Create Account"}),g&&e.jsx(O,{severity:"error",sx:{width:"100%",mb:2},role:"alert","aria-live":"assertive",children:g}),f&&e.jsx(O,{severity:"warning",sx:{width:"100%",mb:2},role:"alert","aria-live":"polite",children:f}),e.jsx(M,{label:"Username",variant:"outlined",margin:"normal",fullWidth:!0,value:r,onChange:j=>t(j.target.value),required:!0,autoComplete:"username",inputProps:{"aria-label":"Username","aria-required":!0,"aria-describedby":"username-helper-text"},helperText:"Choose a username for your account."}),e.jsx(M,{label:"Email",type:"email",variant:"outlined",margin:"normal",fullWidth:!0,value:n,onChange:j=>c(j.target.value),required:!0,autoComplete:"email",inputProps:{"aria-label":"Email address","aria-required":"true","aria-describedby":"email-helper-text"},helperText:"Enter your email address"}),e.jsx(M,{label:"Password",type:"password",variant:"outlined",margin:"normal",fullWidth:!0,value:o,onChange:j=>i(j.target.value),required:!0,inputProps:{"aria-label":"Password","aria-required":"true","aria-describedby":"password-requirements password-strength"},helperText:"Password must contain at least 8 characters, including uppercase, lowercase, numbers, and special characters"}),e.jsxs(y,{sx:{width:"100%",mt:1},children:[e.jsx(ee,{variant:"determinate",value:I,color:b(I)}),e.jsxs(d,{variant:"body2",sx:{mt:1},children:["Password strength: ",I<33?"Weak":I<66?"Medium":"Strong"]})]}),e.jsx(Ue,{control:e.jsx(Ze,{checked:u,onChange:j=>l(j.target.checked),color:"primary"}),label:"Enable Two-Factor Authentication (2FA)"}),e.jsx(A,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,sx:{mt:3,mb:2},disabled:p,children:p?e.jsx(G,{size:24}):"Register"}),e.jsx(me,{component:se,to:"/login",variant:"body2",children:"Already have an account? Sign in"})]})};function Wt(r){const{setOpen:t,label:n,id:c,disabled:o,InputProps:{ref:i}={},inputProps:{"aria-label":u}={}}=r;return e.jsx(A,{variant:"outlined",id:c,disabled:o,ref:i,"aria-label":u,size:"small",onClick:()=>t==null?void 0:t(l=>!l),startIcon:e.jsx(Lr,{fontSize:"small"}),sx:{minWidth:"fit-content"},children:n?`${n}`:"Pick a date"})}function Et(){const[r,t]=a.useState(new Date("2023-04-17")),[n,c]=a.useState(!1),o=i=>i?i.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}):"";return e.jsxs(Mr,{dateAdapter:$r,children:[" ",e.jsx(Tr,{value:r,label:o(r),onChange:i=>t(i),slots:{field:Wt},slotProps:{field:{setOpen:c},nextIconButton:{size:"small"},previousIconButton:{size:"small"}},open:n,onClose:()=>c(!1),onOpen:()=>c(!0),views:["day","month","year"]})]})}const Ft=ne(Or)(({theme:r})=>({margin:r.spacing(1,0),[`& .${Ae.separator}`]:{color:r.palette.action.disabled,margin:1},[`& .${Ae.ol}`]:{alignItems:"center"}}));function Bt(){return e.jsxs(Ft,{"aria-label":"breadcrumb",separator:e.jsx(Wr,{fontSize:"small"}),children:[e.jsx(d,{variant:"body1",children:"Dashboard"}),e.jsx(d,{variant:"body1",sx:{color:"text.primary",fontWeight:600},children:"Home"})]})}function qt(){return e.jsx(Er,{sx:{width:{xs:"100%",md:"25ch"}},variant:"outlined",children:e.jsx(Fr,{size:"small",id:"search",placeholder:"Search…",sx:{flexGrow:1},startAdornment:e.jsx(Br,{position:"start",sx:{color:"text.primary"},children:e.jsx(qr,{fontSize:"small"})}),inputProps:{"aria-label":"search"}})})}function Ht(){return e.jsxs(D,{direction:"row",sx:{display:{xs:"none",md:"flex"},width:"100%",alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",maxWidth:{sm:"100%",md:"1700px"},pt:1.5},spacing:2,children:[e.jsx(Bt,{}),e.jsxs(D,{direction:"row",sx:{gap:1},children:[e.jsx(qt,{}),e.jsx(Et,{}),e.jsx(pe,{showBadge:!0,"aria-label":"Open notifications",children:e.jsx(Fe,{})}),e.jsx(Je,{})]})]})}const Nt=[{id:"1",label:"Website",children:[{id:"1.2",label:"About",color:"green"}]},{id:"2",label:"Catalog",children:[{id:"2.1",label:"All products",color:"green"},{id:"2.2",label:"Categories",children:[{id:"2.2.1",label:"Cat1",color:"blue"},{id:"2.2.2",label:"Cat2",color:"blue"},{id:"2.2.3",label:"Cat3",color:"blue"}]}]}];function Vt({color:r}){return e.jsx(y,{sx:{marginRight:1,display:"flex",alignItems:"center"},children:e.jsx("svg",{width:6,height:6,children:e.jsx("circle",{cx:3,cy:3,r:3,fill:r})})})}function Gt({color:r,children:t,...n}){const c=ae(),o={blue:c.palette.primary.main,green:c.palette.success.main},i=r?o[r]:void 0;return e.jsxs(Qr,{...n,sx:{display:"flex",alignItems:"center"},children:[i&&e.jsx(Vt,{color:i}),e.jsx(d,{variant:"body2",sx:{color:c.palette.text.primary},children:t})]})}const Ut=a.forwardRef(function(t,n){const{id:c,itemId:o,label:i,disabled:u,children:l,...p}=t,{getRootProps:x,getContentProps:g,getIconContainerProps:C,getLabelProps:f,getGroupTransitionProps:R,status:I,publicAPI:w}=Hr({id:c,itemId:o,children:l,label:i,disabled:u,rootRef:n}),k=w.getItem(o),b=k==null?void 0:k.color;return e.jsx(Nr,{itemId:o,children:e.jsxs(Vr,{...x(p),children:[e.jsxs(Gr,{...g({className:er("content",{expanded:I.expanded,selected:I.selected,focused:I.focused,disabled:I.disabled})}),children:[I.expandable&&e.jsx(Ur,{...C(),children:e.jsx(Zr,{status:I})}),e.jsx(Gt,{...f({color:b})})]}),l&&e.jsx(Yr,{...R({className:"groupTransition"})})]})})});function Zt(){return e.jsx(B,{variant:"outlined",sx:{display:"block",flexDirection:"column",gap:"8px",flexGrow:0},children:e.jsxs(q,{children:[e.jsx(d,{component:"h2",variant:"subtitle2",children:"Website Tree"}),e.jsx(_r,{items:Nt,"aria-label":"pages",multiSelect:!0,defaultExpandedItems:["1","1.1"],defaultSelectedItems:["1.1","1.1.1"],sx:{m:"0 -8px",pb:"8px",height:"fit-content",flexGrow:1,overflowY:"auto"},slots:{item:Ut}})]})})}function Yt(){const r=ae(),t=Ye(r.breakpoints.down("sm"));return e.jsx(B,{sx:{height:"100%"},children:e.jsxs(q,{children:[e.jsx(Jr,{}),e.jsx(d,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600"},children:"Explore your data"}),e.jsx(d,{sx:{color:"text.secondary",mb:"8px"},children:"Uncover shocking insights with our data wizardry."}),e.jsx(A,{variant:"contained",size:"small",color:"primary",endIcon:e.jsx(be,{}),fullWidth:t,children:"Generate Reports"})]})})}function Qt(){return e.jsxs(y,{sx:{width:"100%"},children:[e.jsx(d,{component:"h2",variant:"h6",sx:{mb:2},children:"Overview"}),e.jsxs(F,{container:!0,spacing:2,columns:2,children:[e.jsx(F,{size:{xs:12,lg:9}}),e.jsx(F,{size:{xs:12,lg:3},children:e.jsx(D,{gap:2,direction:{xs:"column",sm:"row",lg:"column"},children:e.jsx(Zt,{})})})]}),e.jsx(F,{container:!0,spacing:2,columns:12,sx:{mb:r=>r.spacing(1)},children:e.jsx(F,{size:{xs:12,sm:6,lg:3},children:e.jsx(Yt,{})})}),e.jsx(d,{component:"h2",variant:"h6",sx:{mb:2},children:"Details"})]})}const _t={async logout(){try{await S.post("/api/user/logout",{},{withCredentials:!0}),localStorage.clear(),window.location.href="/login"}catch(r){throw console.error("Logout failed:",r),r}}},K=ne(te)({margin:"2px 0"});function Jt(){const[r,t]=a.useState(null),n=X(),c=!!r,o=l=>{t(l.currentTarget)},i=()=>{t(null)},u=async()=>{try{await _t.logout(),n("/login",{replace:!0})}catch(l){console.error("Logout failed:",l)}i()};return e.jsxs(a.Fragment,{children:[e.jsx(pe,{"aria-label":"Open menu",onClick:o,sx:{borderColor:"transparent"},children:e.jsx(Kr,{})}),e.jsxs(qe,{anchorEl:r,id:"menu",open:c,onClose:i,onClick:i,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},sx:{[`& .${Xr.root}`]:{padding:"4px"},[`& .${et.root}`]:{padding:0},[`& .${Ge.root}`]:{margin:"4px -4px"}},children:[e.jsx(K,{onClick:i,children:"Profile"}),e.jsx(K,{onClick:i,children:"My account"}),e.jsx(Z,{}),e.jsx(K,{onClick:i,children:"Add another account"}),e.jsx(K,{onClick:i,children:"Settings"}),e.jsx(Z,{}),e.jsxs(K,{onClick:u,sx:{[`& .${rt.root}`]:{ml:"auto",minWidth:0}},children:[e.jsx(ge,{children:"Logout"}),e.jsx(xe,{children:e.jsx(Be,{fontSize:"small"})})]})]})]})}const Me=240,Kt=ne(We)({width:Me,flexShrink:0,boxSizing:"border-box",mt:10,[`& .${fe.paper}`]:{width:Me,boxSizing:"border-box",height:"100vh",position:"fixed",top:0,left:0}});function Xt(){return e.jsx(Kt,{variant:"permanent",sx:{display:{xs:"none",md:"block"},[`& .${fe.paper}`]:{backgroundColor:"background.paper"}},children:e.jsxs(y,{sx:{height:"100%",overflowY:"auto","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"},children:[e.jsx(y,{sx:{display:"flex",mt:"calc(var(--template-frame-height, 0px))",p:1.5}}),e.jsx(Z,{}),e.jsx(_e,{}),e.jsxs(D,{direction:"row",sx:{p:2,gap:1,alignItems:"center",borderTop:"1px solid",borderColor:"divider"},children:[e.jsx(Ee,{sizes:"small",alt:"First Last",src:"/static/images/avatar/7.jpg",sx:{width:36,height:36}}),e.jsxs(y,{sx:{mr:"auto"},children:[e.jsx(d,{variant:"body2",sx:{fontWeight:500,lineHeight:"16px"},children:"First Last"}),e.jsx(d,{variant:"caption",sx:{color:"text.secondary"},children:"mail@email.com"})]}),e.jsx(Jt,{})]})]})})}const eo=({title:r,buttons:t})=>e.jsxs(y,{sx:{mt:3},children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:r}),t.map((n,c)=>e.jsx(A,{component:se,to:n.path,variant:"contained",sx:{m:1},children:n.label},c))]});function ro(r){console.log("Dashboard component has started rendering");const[t,n]=a.useState(!0);a.useState([]);const[c,o]=a.useState(null),[i,u]=a.useState(null);return a.useState("Guest"),a.useEffect(()=>{let l=!0;return(async()=>{var x;try{console.log("Fetching user data from API...");const g=await S.get("/api/user/currentuser",{withCredentials:!0});l&&(console.log("User data fetched:",g.data),u(g.data),n(!1))}catch(g){l&&(console.error("Error fetching user data:",g),g.name!=="CanceledError"&&o(((x=g.response)==null?void 0:x.status)===401?"You are not logged in.":"Failed to load dashboard data."),n(!1))}})(),()=>{l=!1}},[]),a.useCallback(()=>(console.log("Rendering general section"),e.jsx(eo,{title:"General Settings",buttons:[{label:"Change My Password",path:"/change-password"},{label:"Update Profile",path:"/update-profile"},{label:"View Profile",path:"/profile"},{label:"Change Settings",path:"/settings"}]})),[]),console.log("Rendering Dashboard component, loading:",t),e.jsxs(Xe,{disableCustomTheme:r.disableCustomTheme,children:[e.jsx(tt,{enableColorScheme:!0}),e.jsx("nav",{role:"navigation","aria-label":"Main navigation",children:e.jsx(Xt,{})}),e.jsxs(y,{sx:{display:"flex-start",ml:"80px",width:"100%"},children:[e.jsx("header",{role:"banner",children:e.jsx(Ke,{padding:240})}),e.jsx(y,{component:"main",id:"main-content",role:"main","aria-label":"Dashboard content",tabIndex:-1,sx:l=>({flexGrow:1,display:"flex",backgroundColor:m(l.palette.background.default,1),outline:"none"}),children:e.jsxs(D,{spacing:1,sx:{alignItems:"flex-start",width:"100%"},children:[e.jsx("header",{role:"heading","aria-level":1,children:e.jsx(Ht,{})}),e.jsx("section",{"aria-label":"Dashboard metrics",children:e.jsx(Qt,{})})]})})]})]})}const $e="productCatalog",to=10*60*1e3,oo=()=>{const[r,t]=a.useState([]),[n,c]=a.useState(!0),[o,i]=a.useState(null),u=async()=>{var l;try{const p=await S.get("/api/catalog/products");t(p.data),c(!1),localStorage.setItem($e,JSON.stringify({listings:p.data,timestamp:Date.now()}))}catch(p){i(((l=p.response)==null?void 0:l.data)||"Failed to load products."),c(!1)}};return a.useEffect(()=>{const l=localStorage.getItem($e);if(l){const{listings:p,timestamp:x}=JSON.parse(l);if(Date.now()-x<to){t(p),c(!1);return}}u()},[]),n?e.jsx(G,{}):o?e.jsx(O,{severity:"error",children:o}):e.jsxs(ie,{children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,children:"Product Catalog"}),e.jsx(y,{sx:{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"flex-start"},children:r.map((l,p)=>e.jsxs(B,{sx:{width:"calc(33.333% - 16px)",maxWidth:"calc(33.333% - 16px)",marginBottom:2},children:[e.jsx(ot,{component:"img",height:"200",image:l.imageUrl,alt:l.name,sx:{objectFit:"cover"}}),e.jsxs(q,{children:[e.jsx(d,{variant:"h6",component:"p",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:l.name}),e.jsx(Q,{title:"Price",value:l.price})]})]},p))})]})},so=({question:r,answer:t})=>e.jsxs(st,{children:[e.jsx(at,{expandIcon:e.jsx(nt,{}),"aria-controls":"panel-content",id:"panel-header",children:e.jsx(d,{children:r})}),e.jsx(it,{children:e.jsx(d,{children:t})})]}),ao=()=>{const r=[{question:"How do I create an account?",answer:"To create an account, click on the 'Create New Account' link on the login page. Fill in your details and follow the prompts to complete registration."},{question:"What are the password requirements?",answer:"We recommend using a strong password that is at least 8 characters long, includes uppercase and lowercase letters, numbers, and special characters."},{question:"How can I reset my password?",answer:"If you've forgotten your password, click on the 'Forgot Password' link on the login page. Enter your email address, and we'll send you instructions to reset your password."},{question:"How do I earn points?",answer:"You can earn points by driving safely and completing objectives set by your sponsor."},{question:"How do I apply to a sponsor?",answer:"To apply to a sponsor, fill out the sponsor application form."},{question:"What can I spend my points on?",answer:"Points can be exchanged for purchases from temp not sure where yet."}];return e.jsxs("div",{children:[e.jsx(d,{variant:"h4",gutterBottom:!0,children:"Frequently Asked Questions"}),r.map((t,n)=>e.jsx(so,{question:t.question,answer:t.answer},n))]})},no=()=>{const[r,t]=a.useState(""),[n,c]=a.useState(""),[o,i]=a.useState(""),[u,l]=a.useState(!1),[p,x]=a.useState(""),g=f=>{if(f.preventDefault(),!r||!n||!o){x("Please fill in all fields");return}if(!/\S+@\S+\.\S+/.test(n)){x("Please enter a valid email address");return}console.log("Feedback submitted:",{name:r,email:n,message:o}),l(!0),t(""),c(""),i(""),x("")},C=(f,R)=>{R!=="clickaway"&&l(!1)};return e.jsxs(y,{component:"form",onSubmit:g,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:600,margin:"auto",p:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,children:"Provide Feedback"}),e.jsx(M,{label:"Your Name",fullWidth:!0,margin:"normal",value:r,onChange:f=>t(f.target.value),required:!0}),e.jsx(M,{label:"Your Email",type:"email",fullWidth:!0,margin:"normal",value:n,onChange:f=>c(f.target.value),required:!0}),e.jsx(M,{label:"Your Feedback",fullWidth:!0,margin:"normal",multiline:!0,rows:4,value:o,onChange:f=>i(f.target.value),required:!0}),e.jsx(A,{type:"submit",variant:"contained",size:"large",fullWidth:!0,sx:{mt:3,mb:2},children:"Submit Feedback"}),p&&e.jsx(d,{color:"error",sx:{mt:2},children:p}),e.jsx(lt,{open:u,autoHideDuration:6e3,onClose:C,children:e.jsx(O,{onClose:C,severity:"success",sx:{width:"100%"},children:"Thank you for your feedback!"})})]})},io=(r="Driver")=>{switch(r){case"Admin":return[{check:t=>t.length>=20,message:"At least 20 characters long"},{check:t=>/[0-9]/.test(t),message:"Contains at least one digit"},{check:t=>/[a-z]/.test(t),message:"Contains at least one lowercase letter"},{check:t=>/[A-Z]/.test(t),message:"Contains at least one uppercase letter"},{check:t=>/[^A-Za-z0-9]/.test(t),message:"Contains at least three symbols"},{check:t=>new Set(t).size>=3,message:"Contains at least 3 unique characters"},{check:t=>/^(?=.*[!@#$%^&*])(?=.*[0-9])(?=.*[A-Z]).*$/.test(t),message:"Combination of numbers, symbols, and uppercase"}];case"Driver":return[{check:t=>t.length>=8,message:"At least 8 characters long"},{check:t=>/[0-9]/.test(t),message:"Contains at least one digit"},{check:t=>/[a-z]/.test(t),message:"Contains at least one lowercase letter"},{check:t=>/[A-Z]/.test(t),message:"Contains at least one uppercase letter"},{check:t=>/[^A-Za-z0-9]/.test(t),message:"Contains at least one special character"},{check:t=>new Set(t).size>=1,message:"Contains at least 1 unique character"}];default:return[{check:t=>t.length>=6,message:"At least 6 characters long"},{check:t=>/[0-9]/.test(t),message:"Contains at least one digit"},{check:t=>/[a-zA-Z]/.test(t),message:"Contains at least one letter"},{check:t=>new Set(t).size>=1,message:"Contains at least 1 unique character"}]}},lo=()=>{const[r,t]=a.useState(""),[n,c]=a.useState(""),[o,i]=a.useState(""),[u,l]=a.useState(""),[p,x]=a.useState(!1),[g,C]=a.useState(!1),[f,R]=a.useState("Driver");a.useEffect(()=>{(async()=>{try{const j=await S.get("/api/user/currentuser");R(j.data.userType)}catch(j){console.error("Error fetching user role:",j)}})()},[]);const I=io(f),w=b=>I.every(j=>j.check(b)),k=async b=>{var j,U;if(b.preventDefault(),l(""),x(!1),C(!0),n!==o){l("New passwords do not match"),C(!1);return}if(!w(n)){l("New password does not meet all requirements"),C(!1);return}try{const H=await S.post("/api/user/change-password",{currentPassword:r,newPassword:n});x(!0),t(""),c(""),i("")}catch(H){S.isAxiosError(H)?l(((U=(j=H.response)==null?void 0:j.data)==null?void 0:U.message)||"Failed to change password"):l("An unexpected error occurred")}finally{C(!1)}};return e.jsxs(y,{sx:{width:"100%",maxWidth:400,margin:"auto",mt:4},children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,children:"Change Password"}),u&&e.jsx(O,{severity:"error",sx:{mt:2,mb:2},children:u}),p&&e.jsx(O,{severity:"success",sx:{mt:2,mb:2},children:"Password changed successfully!"}),e.jsxs(y,{component:"form",onSubmit:k,noValidate:!0,sx:{mt:1},children:[e.jsx(M,{margin:"normal",required:!0,fullWidth:!0,name:"currentPassword",label:"Current Password",type:"password",id:"currentPassword",autoComplete:"current-password",value:r,onChange:b=>t(b.target.value)}),e.jsx(M,{margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:"New Password",type:"password",id:"newPassword",autoComplete:"new-password",value:n,onChange:b=>c(b.target.value)}),e.jsx(M,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm New Password",type:"password",id:"confirmPassword",autoComplete:"new-password",value:o,onChange:b=>i(b.target.value)}),e.jsxs(y,{sx:{mt:4},children:[e.jsxs(d,{variant:"h6",children:["Password Requirements for ",f,":"]}),I.map((b,j)=>e.jsxs(y,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(y,{sx:{flexGrow:1,mr:1},children:e.jsx(ee,{variant:"determinate",value:b.check(n)?100:0,color:b.check(n)?"success":"error"})}),e.jsx(y,{sx:{minWidth:200},children:e.jsx(d,{variant:"body2",color:"text.secondary",children:b.message})})]},j))]}),e.jsx(A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:g,children:g?e.jsx(G,{size:24}):"Change Password"})]})]})},co=()=>{const[r,t]=a.useState([]),[n,c]=a.useState(!0),[o,i]=a.useState(""),[u,l]=a.useState("points"),[p,x]=a.useState("desc");a.useEffect(()=>{g()},[u,p]);const g=async()=>{try{c(!0);const f=await S.get("/api/sponsor/drivers",{params:{sortBy:u,sortOrder:p}});t(f.data),i("")}catch(f){i("Failed to load drivers data"),console.error("Error fetching drivers:",f)}finally{c(!1)}},C=f=>{u===f?x(p==="asc"?"desc":"asc"):(l(f),x("desc"))};return n?e.jsx(y,{sx:{width:"100%",mt:2},children:e.jsx(ee,{})}):o?e.jsx(d,{color:"error",sx:{mt:2},children:o}):e.jsx(ye,{sx:{width:"100%",mb:2,mt:2},children:e.jsx(le,{children:e.jsxs(ce,{"aria-label":"drivers points table",children:[e.jsx(de,{children:e.jsxs(V,{children:[e.jsx(v,{children:e.jsx(De,{active:u==="name",direction:u==="name"?p:"asc",onClick:()=>C("name"),children:"Driver Name"})}),e.jsx(v,{children:e.jsx(De,{active:u==="points",direction:u==="points"?p:"asc",onClick:()=>C("points"),children:"Total Points"})}),e.jsx(v,{children:"City"}),e.jsx(v,{children:"State"})]})}),e.jsx(ue,{children:r.map(f=>e.jsxs(V,{children:[e.jsx(v,{children:f.name}),e.jsx(v,{children:f.totalPoints.toLocaleString()})]},f.id))})]})})})},uo=()=>{const{driverId:r}=rr(),[t,n]=a.useState([]),[c,o]=a.useState(!0),[i,u]=a.useState("");return a.useEffect(()=>{(async()=>{try{o(!0);const p=await S.get(`/api/drivers/${r}/transactions`);n(p.data),u("")}catch(p){u("Failed to load transaction data"),console.error("Error fetching transactions:",p)}finally{o(!1)}})()},[r]),c?e.jsx(y,{sx:{width:"100%",mt:2},children:e.jsx(ee,{})}):i?e.jsx(d,{color:"error",sx:{mt:2},children:i}):e.jsx(ye,{sx:{width:"100%",mb:2,mt:2},children:e.jsx(le,{children:e.jsxs(ce,{"aria-label":"driver transactions table",children:[e.jsx(de,{children:e.jsxs(V,{children:[e.jsx(v,{children:"Date"}),e.jsx(v,{children:"Points Changed"}),e.jsx(v,{children:"Reason"})]})}),e.jsx(ue,{children:t.map(l=>e.jsxs(V,{children:[e.jsx(v,{children:new Date(l.transactionDate).toLocaleDateString()}),e.jsx(v,{children:l.pointsChanged}),e.jsx(v,{children:l.reason})]},l.transactionId))})]})})})},po=()=>{const[r,t]=a.useState(null),[n,c]=a.useState(!0),[o,i]=a.useState("");return a.useEffect(()=>{(async()=>{try{c(!0);const l=await S.get("/api/driver/activity");t(l.data)}catch(l){i("Failed to load driver activity"),console.error("Error fetching activity:",l)}finally{c(!1)}})()},[]),n?e.jsx(ee,{}):o?e.jsx(d,{color:"error",children:o}):r?e.jsxs(y,{sx:{p:3},children:[r.pointValue&&e.jsx(B,{sx:{mb:4},children:e.jsxs(q,{children:[e.jsxs(d,{variant:"h6",gutterBottom:!0,children:["Points Value - ",r.pointValue.sponsorName||"Unknown Sponsor"]}),e.jsxs(d,{children:["Current Balance: ",r.pointValue.totalPoints.toLocaleString()," points"]}),e.jsxs(d,{children:["Point Value: $",r.pointValue.pointValue.toFixed(2)," each"]}),e.jsxs(d,{variant:"h5",sx:{mt:2},children:["Total Value: $",r.pointValue.totalValue.toFixed(2)]})]})}),e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Activity History"}),e.jsx(le,{component:ye,children:e.jsxs(ce,{children:[e.jsx(de,{children:e.jsxs(V,{children:[e.jsx(v,{children:"Date"}),e.jsx(v,{children:"Type"}),e.jsx(v,{children:"Points"}),e.jsx(v,{children:"Details"}),e.jsx(v,{children:"Status"})]})}),e.jsx(ue,{children:r.transactions&&r.transactions.length>0?r.transactions.map((u,l)=>e.jsxs(V,{children:[e.jsx(v,{children:u.date?new Date(u.date).toLocaleDateString():"N/A"}),e.jsx(v,{children:u.type}),e.jsxs(v,{sx:{color:u.points>0?"success.main":"error.main"},children:[u.points>0?"+":"",u.points]}),e.jsx(v,{children:u.reason}),e.jsx(v,{children:u.status&&e.jsx(Qe,{label:u.status,color:u.status==="Ordered"?"success":u.status==="Cancelled"?"error":"default",size:"small"})})]},l)):e.jsx(V,{children:e.jsx(v,{colSpan:5,align:"center",children:"No transactions available"})})})]})})]}):null};function Te({icon:r,title:t,value:n,description:c}){return e.jsx(B,{sx:{height:"100%"},children:e.jsxs(q,{children:[e.jsx(r,{sx:{color:"primary.main",mb:1}}),e.jsx(d,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600",mb:1},children:t}),e.jsx(d,{variant:"h4",sx:{mb:1},children:n}),e.jsx(d,{sx:{color:"text.secondary",mb:1},children:c})]})})}function ho(){const r=ae(),t=Ye(r.breakpoints.down("sm")),[n,c]=a.useState([]),[o,i]=a.useState(!0),[u,l]=a.useState(null);if(a.useEffect(()=>{(async()=>{try{const g=await fetch("/api/sponsor/drivers",{credentials:"include"});if(!g.ok)throw new Error("Failed to fetch drivers");const C=await g.json();c(C)}catch(g){l(g instanceof Error?g.message:"An error occurred while fetching drivers")}finally{i(!1)}})()},[]),o)return e.jsx(y,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,children:e.jsx(G,{})});if(u)return e.jsx(O,{severity:"error",sx:{mb:2},children:u});const p=n.reduce((x,g)=>x+g.totalPoints,0);return e.jsxs(y,{sx:{width:"100%"},children:[e.jsx(d,{component:"h2",variant:"h6",sx:{mb:2},children:"Sponsored Drivers Overview"}),e.jsxs(F,{container:!0,spacing:2,columns:12,children:[e.jsx(F,{size:{xs:12,lg:9},children:e.jsx(B,{sx:{height:"100%"},children:e.jsxs(q,{children:[n.length===0?e.jsx(y,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200,children:e.jsx(d,{color:"text.secondary",children:"No drivers found under your sponsorship."})}):e.jsx(le,{children:e.jsxs(ce,{sx:{minWidth:650},children:[e.jsx(de,{children:e.jsxs(V,{children:[e.jsx(v,{children:"Driver ID"}),e.jsx(v,{children:"Email"}),e.jsx(v,{align:"right",children:"Total Points"})]})}),e.jsx(ue,{children:n.map(x=>e.jsxs(V,{children:[e.jsx(v,{component:"th",scope:"row",children:x.userID}),e.jsx(v,{children:x.email}),e.jsx(v,{align:"right",children:x.totalPoints.toLocaleString()})]},x.userID))})]})}),e.jsx(y,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:e.jsx(A,{variant:"contained",size:"small",color:"primary",endIcon:e.jsx(be,{}),fullWidth:t,children:"View All Drivers"})})]})})}),e.jsx(F,{size:{xs:12,lg:3},children:e.jsxs(D,{gap:2,direction:{xs:"column",sm:"row",lg:"column"},children:[e.jsx(Te,{icon:ze,title:"Active Drivers",value:n.length.toString(),description:"Currently sponsored drivers"}),e.jsx(Te,{icon:ct,title:"Total Points",value:p.toLocaleString(),description:"Accumulated driver points"})]})})]}),e.jsx(d,{component:"h2",variant:"h6",sx:{mb:2,mt:4},children:"Driver Management"}),e.jsx(F,{container:!0,spacing:2,columns:12,children:e.jsx(F,{size:{xs:12,sm:6,lg:4},children:e.jsx(B,{sx:{height:"100%"},children:e.jsxs(q,{children:[e.jsx(ze,{sx:{color:"primary.main",mb:1}}),e.jsx(d,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600"},children:"Manage Drivers"}),e.jsx(d,{sx:{color:"text.secondary",mb:2},children:"Add or remove drivers from your sponsorship."}),e.jsx(A,{variant:"contained",size:"small",color:"primary",endIcon:e.jsx(be,{}),fullWidth:t,children:"Manage Drivers"})]})})})})]})}const xo=()=>{const[r,t]=a.useState([]),[n,c]=a.useState([]),[o,i]=a.useState(!0),[u,l]=a.useState(null),[p,x]=a.useState(null),[g,C]=a.useState(!1);a.useEffect(()=>{f()},[]);const f=async()=>{var w,k;try{const b=await S.get("/api/driver/available-sponsors",{withCredentials:!0});t(Array.isArray(b.data)?b.data:[]),console.log("Sponsors response:",b.data)}catch(b){if(S.isAxiosError(b)){const j=((w=b.response)==null?void 0:w.data)||"Error loading sponsors. Please try again later.";l(typeof j=="string"?j:"An error occurred."),console.error("Axios error:",(k=b.response)==null?void 0:k.data)}else l("Error loading sponsors. Please try again later."),console.error("Error:",b);t([])}finally{i(!1)}},R=w=>{c(k=>k.includes(w)?k.filter(b=>b!==w):[...k,w])},I=async()=>{var w,k;if(n.length===0){l("Please select at least one sponsor");return}C(!0),l(null),x(null);try{const b=await S.post("/api/driver/register-sponsors",n,{withCredentials:!0,headers:{"Content-Type":"application/json"}});x(b.data||"Successfully registered with selected sponsors!"),c([]),f()}catch(b){if(S.isAxiosError(b)){const j=((w=b.response)==null?void 0:w.data)||"Failed to register with sponsors. Please try again.";l(typeof j=="string"?j:"Registration failed."),console.error("Axios error:",(k=b.response)==null?void 0:k.data)}else l("Failed to register with sponsors. Please try again."),console.error("Error:",b)}finally{C(!1)}};return o?e.jsx(y,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsx(G,{})}):e.jsxs(y,{sx:{maxWidth:800,mx:"auto",p:2},children:[e.jsx(d,{variant:"h5",component:"h1",gutterBottom:!0,children:"Select Sponsors"}),e.jsx(B,{sx:{mb:2,bgcolor:"background.paper"},children:e.jsxs(q,{children:[e.jsxs(D,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[e.jsx(d,{variant:"subtitle1",children:"Available Reward Programs"}),e.jsx(dt,{title:"Select multiple sponsors to join their reward programs",children:e.jsx(ut,{color:"action",fontSize:"small"})})]}),u&&e.jsx(O,{severity:"error",sx:{mb:2},children:u}),p&&e.jsx(O,{severity:"success",sx:{mb:2},children:p}),e.jsx(pt,{children:r.length===0?e.jsx(d,{color:"text.secondary",children:"No available sponsors found."}):r.map(w=>e.jsxs(y,{sx:{mb:2},children:[e.jsx(Ue,{control:e.jsx(Ze,{checked:n.includes(w.sponsorID),onChange:()=>R(w.sponsorID),color:"primary"}),label:e.jsxs(D,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(ht,{color:"action"}),e.jsx(d,{children:w.companyName}),e.jsx(Qe,{icon:e.jsx(xt,{}),label:`$${w.pointDollarValue} per point`,size:"small",color:"primary",variant:"outlined"})]})}),e.jsx(Z,{sx:{ml:7,my:1}})]},w.sponsorID))}),e.jsx(A,{variant:"contained",color:"primary",onClick:I,disabled:n.length===0||g,sx:{mt:2},children:g?e.jsx(G,{size:24,color:"inherit"}):`Register with ${n.length} Sponsor${n.length!==1?"s":""}`})]})})]})},go=()=>{const[r,t]=a.useState({userId:0,sponsorId:0,reason:""}),[n,c]=a.useState(null),[o,i]=a.useState(null),u=p=>{const{name:x,value:g}=p.target;t({...r,[x]:g})},l=async()=>{try{const p=await S.post("/api/driverapp/apply",r);c(p.data)}catch{i("Failed to submit application.")}};return e.jsxs("div",{children:[e.jsx(d,{variant:"h5",children:"Driver Application"}),e.jsx(M,{label:"User ID",name:"userId",type:"number",onChange:u,fullWidth:!0,margin:"normal"}),e.jsx(M,{label:"Sponsor ID",name:"sponsorId",type:"number",onChange:u,fullWidth:!0,margin:"normal"}),e.jsx(M,{label:"Reason for Application",name:"reason",onChange:u,fullWidth:!0,multiline:!0,margin:"normal"}),e.jsx(A,{variant:"contained",color:"primary",onClick:l,children:"Submit Application"}),n&&e.jsx(O,{severity:"success",children:n}),o&&e.jsx(O,{severity:"error",children:o})]})},mo=()=>{const[r,t]=a.useState([]),[n,c]=a.useState(!0),[o,i]=a.useState(null),u=async()=>{var p;try{const x=await S.get("/api/sponsor/applications");t(x.data)}catch(x){i(((p=x.response)==null?void 0:p.data)||"Failed to load applications.")}finally{c(!1)}};a.useEffect(()=>{u()},[]);const l=async(p,x)=>{var g;try{await S.post(`/api/sponsor/applications/${p}/process?action=${x}`),t(C=>C.map(f=>f.applicationID===p?{...f,status:x==="approve"?"Approved":"Rejected"}:f))}catch(C){i(((g=C.response)==null?void 0:g.data)||`Failed to ${x} application.`)}};return n?e.jsx(G,{}):o?e.jsx(O,{severity:"error",children:o}):e.jsxs(ie,{children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,children:"Driver Applications"}),e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Submitted Applications"}),e.jsx(Z,{sx:{mb:2}}),e.jsx(F,{container:!0,spacing:2,children:r.map(p=>e.jsx(F,{component:"div",children:e.jsx(B,{children:e.jsxs(q,{children:[e.jsxs(d,{variant:"subtitle1",children:["Application ID: ",p.applicationID]}),e.jsxs(d,{children:["User ID: ",p.userID]}),e.jsxs(d,{children:["Apply Date: ",p.applyDate]}),e.jsxs(d,{children:["Status: ",p.status]}),p.status==="Submitted"&&e.jsxs(e.Fragment,{children:[e.jsx(A,{color:"primary",variant:"contained",onClick:()=>l(p.applicationID,"approve"),children:"Approve"}),e.jsx(A,{color:"secondary",variant:"contained",onClick:()=>l(p.applicationID,"reject"),sx:{ml:1},children:"Reject"})]})]})})},p.applicationID))})]})},bo=()=>e.jsxs(Xe,{children:[e.jsx(Ke,{}),e.jsx(He,{})," ",e.jsx(ie,{maxWidth:"md",sx:{mt:4},children:e.jsxs(tr,{children:[e.jsx(P,{path:"/about",element:e.jsx(Mt,{})}),e.jsx(P,{path:"/login",element:e.jsx($t,{})}),e.jsx(P,{path:"/register",element:e.jsx(Ot,{})}),e.jsx(P,{path:"/home",element:e.jsx(zt,{})})," ",e.jsx(P,{path:"/faq",element:e.jsx(ao,{})}),e.jsx(P,{path:"/feedback",element:e.jsx(no,{})}),e.jsx(P,{path:"/dashboard",element:e.jsx(ro,{})}),e.jsx(P,{path:"/catalog",element:e.jsx(oo,{})}),e.jsx(P,{path:"/application",element:e.jsx(go,{})}),e.jsx(P,{path:"/application-manager",element:e.jsx(mo,{})}),e.jsx(P,{path:"/change-password",element:e.jsx(lo,{})})," ",e.jsx(P,{path:"/driver-points",element:e.jsx(co,{})})," ",e.jsx(P,{path:"/driver-activity",element:e.jsx(po,{})})," ",e.jsx(P,{path:"/sponsor-driver-test",element:e.jsx(ho,{})}),e.jsx(P,{path:"/sponsor-reg-test",element:e.jsx(xo,{})}),e.jsx(P,{path:"/points-history/:driverId",element:e.jsx(uo,{})}),e.jsx(P,{path:"/",element:e.jsx(or,{to:"/home",replace:!0})})]})})]});sr.createRoot(document.getElementById("root")).render(e.jsx(ar.StrictMode,{children:e.jsx(nr,{children:e.jsx(bo,{})})}));
