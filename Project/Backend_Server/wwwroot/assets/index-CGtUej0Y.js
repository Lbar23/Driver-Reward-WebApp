import{f as oe,g as Q,h as J,ax as ho,X as Mr,k as ee,Z as Me,Y as Er,t as $r,j as e,l as F,m as re,p as Z,_ as ot,A as xo,V as He,a7 as se,B as mo,q as _e,i as X,a2 as St,a1 as wt,o as Be,ay as go,az as fo,b as Mt,T as yo,aA as vo,aB as Nr,aC as bo,W as y,G as jo,a6 as Or,a8 as So,$ as wo,x as Co,D as ko,a9 as Lr,C as Do,U as Ro,aD as Io,aE as it,aF as Et,aG as Po,aH as Yt,n as E,ag as Jt,H as Zt,aI as Kt,aJ as Ao,w as To,aK as Mo,aL as ae,ap as G,aM as tt,aN as zr,a4 as Eo,am as $o,at as $t,ah as No}from"./mui-core-Bcz49GPG.js";import{b as Oo,r as d,u as We,L as $e,c as Br,d as Lo,g as zo,n as je,e as Bo,f as me,N as Ct,O as Wo,B as Fo}from"./vendor-DuMT9bzH.js";import{D as Uo,P as Xt,A as pt,S as Qt,I as Ke,Q as er,B as tr,a as ht,b as Vo,T as Wr,E as Ho,c as Fr,d as Go,N as qo,L as Ur,e as _o,f as Yo,g as Jo,M as Zo,R as Ko,C as Xo,h as Qo,U as es,i as ts,j as rs,k as os,l as ss,m as rr,n as ns,o as as,p as is,q as Vr,H as ls,G as or,W as cs,r as sr,s as ds,t as us,u as ps,v as nr,w as Nt,x as Ot,y as hs,z as xs,F as ms}from"./mui-icons-CZf9bVb-.js";import{I as xe,C as gs,g as fs,G as ys,a as vs,S as bs,T as js,b as Lt,B as Ss,c as ws,L as kt,d as Dt,e as ar,f as ir,h as st,D as ke,u as Cs,M as Hr,i as N,j as zt,o as ks,k as Ds,l as ce,m as lr,s as cr,n as Rs,p as xt,q as Is,r as mt,v as U,w as Ee,x as De,F as lt,y as Bt,z as Ye,A as Wt,E as Se,H as we,J as ue,K as w,P as ct,N as Ft,O as Ps,Q as Ut,R as Vt,U as Gr,V as nt,W as As}from"./mui-data-visualization-DSHvHDkp.js";import{a as B,l as Ts,p as Ms,i as Es,f as Rt,b as $s,c as Ns,d as Os,e as Ls,g as zs,h as gt,j as dr,k as ur,m as ft,n as Bs,s as Ws,o as Fs,q as Us,r as Vs,t as Hs,u as Gs,v as qs,w as _s,x as Ys,y as Js,z as Zs,A as Ks,B as Xs,C as Qs,D as en,E as tn,F as rn,G as on,H as sn,I as nn,J as an,K as ln,L as cn,M as dn,N as un,O as pn,P as hn,Q as xn,R as mn}from"./utilities-D9ARqe_F.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var It={},pr=Oo;It.createRoot=pr.createRoot,It.hydrateRoot=pr.hydrateRoot;function gn(t){return oe("MuiCollapse",t)}Q("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const fn=t=>{const{orientation:r,classes:n}=t,o={root:["root",`${r}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${r}`],wrapperInner:["wrapperInner",`${r}`]};return ee(o,gn,n)},yn=F("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.orientation],n.state==="entered"&&r.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&r.hidden]}})(re(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:r})=>r.state==="exited"&&!r.in&&r.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),vn=F("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,r)=>r.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),bn=F("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,r)=>r.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Ge=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiCollapse"}),{addEndListener:s,children:i,className:a,collapsedSize:l="0px",component:c,easing:u,in:x,onEnter:m,onEntered:p,onEntering:g,onExit:b,onExited:j,onExiting:h,orientation:f="vertical",style:S,timeout:C=ho.standard,TransitionComponent:P=Mr,...O}=o,z={...o,orientation:f,collapsedSize:l},I=fn(z),V=Me(),D=Er(),A=d.useRef(null),L=d.useRef(),_=typeof l=="number"?`${l}px`:l,M=f==="horizontal",R=M?"width":"height",W=d.useRef(null),K=$r(n,W),Y=q=>ye=>{if(q){const Re=W.current;ye===void 0?q(Re):q(Re,ye)}},H=()=>A.current?A.current[M?"clientWidth":"clientHeight"]:0,ne=Y((q,ye)=>{A.current&&M&&(A.current.style.position="absolute"),q.style[R]=_,m&&m(q,ye)}),Oe=Y((q,ye)=>{const Re=H();A.current&&M&&(A.current.style.position="");const{duration:Ue,easing:Ze}=ot({style:S,timeout:C,easing:u},{mode:"enter"});if(C==="auto"){const _t=V.transitions.getAutoHeightDuration(Re);q.style.transitionDuration=`${_t}ms`,L.current=_t}else q.style.transitionDuration=typeof Ue=="string"?Ue:`${Ue}ms`;q.style[R]=`${Re}px`,q.style.transitionTimingFunction=Ze,g&&g(q,ye)}),dt=Y((q,ye)=>{q.style[R]="auto",p&&p(q,ye)}),Fe=Y(q=>{q.style[R]=`${H()}px`,b&&b(q)}),ut=Y(j),uo=Y(q=>{const ye=H(),{duration:Re,easing:Ue}=ot({style:S,timeout:C,easing:u},{mode:"exit"});if(C==="auto"){const Ze=V.transitions.getAutoHeightDuration(ye);q.style.transitionDuration=`${Ze}ms`,L.current=Ze}else q.style.transitionDuration=typeof Re=="string"?Re:`${Re}ms`;q.style[R]=_,q.style.transitionTimingFunction=Ue,h&&h(q)}),po=q=>{C==="auto"&&D.start(L.current||0,q),s&&s(W.current,q)};return e.jsx(P,{in:x,onEnter:ne,onEntered:dt,onEntering:Oe,onExit:Fe,onExited:ut,onExiting:uo,addEndListener:po,nodeRef:W,timeout:C==="auto"?null:C,...O,children:(q,ye)=>e.jsx(yn,{as:c,className:Z(I.root,a,{entered:I.entered,exited:!x&&_==="0px"&&I.hidden}[q]),style:{[M?"minWidth":"minHeight"]:_,...S},ref:K,...ye,ownerState:{...z,state:q},children:e.jsx(vn,{ownerState:{...z,state:q},className:I.wrapper,ref:A,children:e.jsx(bn,{ownerState:{...z,state:q},className:I.wrapperInner,children:i})})})})});Ge&&(Ge.muiSupportAuto=!0);const qr=d.createContext({});function jn(t){return oe("MuiAccordion",t)}const Xe=Q("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),Sn=t=>{const{classes:r,square:n,expanded:o,disabled:s,disableGutters:i}=t;return ee({root:["root",!n&&"rounded",o&&"expanded",s&&"disabled",!i&&"gutters"],heading:["heading"],region:["region"]},jn,r)},wn=F(se,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`& .${Xe.region}`]:r.region},r.root,!n.square&&r.rounded,!n.disableGutters&&r.gutters]}})(re(({theme:t})=>{const r={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],r),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],r)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Xe.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Xe.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),re(({theme:t})=>({variants:[{props:r=>!r.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:r=>!r.disableGutters,style:{[`&.${Xe.expanded}`]:{margin:"16px 0"}}}]}))),Cn=F("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(t,r)=>r.heading})({all:"unset"}),kn=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiAccordion"}),{children:s,className:i,defaultExpanded:a=!1,disabled:l=!1,disableGutters:c=!1,expanded:u,onChange:x,square:m=!1,slots:p={},slotProps:g={},TransitionComponent:b,TransitionProps:j,...h}=o,[f,S]=xo({controlled:u,default:a,name:"Accordion",state:"expanded"}),C=d.useCallback(K=>{S(!f),x&&x(K,!f)},[f,x,S]),[P,...O]=d.Children.toArray(s),z=d.useMemo(()=>({expanded:f,disabled:l,disableGutters:c,toggle:C}),[f,l,c,C]),I={...o,square:m,disabled:l,disableGutters:c,expanded:f},V=Sn(I),D={transition:b,...p},A={transition:j,...g},L={slots:D,slotProps:A},[_,M]=He("heading",{elementType:Cn,externalForwardedProps:L,className:V.heading,ownerState:I}),[R,W]=He("transition",{elementType:Ge,externalForwardedProps:L,ownerState:I});return e.jsxs(wn,{className:Z(V.root,i),ref:n,ownerState:I,square:m,...h,children:[e.jsx(_,{...M,children:e.jsx(qr.Provider,{value:z,children:P})}),e.jsx(R,{in:f,timeout:"auto",...W,children:e.jsx("div",{"aria-labelledby":P.props.id,id:P.props["aria-controls"],role:"region",className:V.region,children:O})})]})});function Dn(t){return oe("MuiAccordionDetails",t)}Q("MuiAccordionDetails",["root"]);const Rn=t=>{const{classes:r}=t;return ee({root:["root"]},Dn,r)},In=F("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,r)=>r.root})(re(({theme:t})=>({padding:t.spacing(1,2,2)}))),Pn=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiAccordionDetails"}),{className:s,...i}=o,a=o,l=Rn(a);return e.jsx(In,{className:Z(l.root,s),ref:n,ownerState:a,...i})});function An(t){return oe("MuiAccordionSummary",t)}const ze=Q("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Tn=t=>{const{classes:r,expanded:n,disabled:o,disableGutters:s}=t;return ee({root:["root",n&&"expanded",o&&"disabled",!s&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!s&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},An,r)},Mn=F(mo,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,r)=>r.root})(re(({theme:t})=>{const r={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],r),[`&.${ze.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ze.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${ze.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${ze.expanded}`]:{minHeight:64}}}]}})),En=F("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,r)=>r.content})(re(({theme:t})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:r=>!r.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${ze.expanded}`]:{margin:"20px 0"}}}]}))),$n=F("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,r)=>r.expandIconWrapper})(re(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${ze.expanded}`]:{transform:"rotate(180deg)"}}))),Nn=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiAccordionSummary"}),{children:s,className:i,expandIcon:a,focusVisibleClassName:l,onClick:c,...u}=o,{disabled:x=!1,disableGutters:m,expanded:p,toggle:g}=d.useContext(qr),b=f=>{g&&g(f),c&&c(f)},j={...o,expanded:p,disabled:x,disableGutters:m},h=Tn(j);return e.jsxs(Mn,{focusRipple:!1,disableRipple:!0,disabled:x,component:"div","aria-expanded":p,className:Z(h.root,i),focusVisibleClassName:Z(h.focusVisible,l),onClick:b,ref:n,ownerState:j,...u,children:[e.jsx(En,{className:h.content,ownerState:j,children:s}),a&&e.jsx($n,{className:h.expandIconWrapper,ownerState:j,children:a})]})});function On(t){return oe("MuiAlert",t)}const hr=Q("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Ln=_e(e.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),zn=_e(e.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Bn=_e(e.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Wn=_e(e.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Fn=t=>{const{variant:r,color:n,severity:o,classes:s}=t,i={root:["root",`color${X(n||o)}`,`${r}${X(n||o)}`,`${r}`],icon:["icon"],message:["message"],action:["action"]};return ee(i,On,s)},Un=F(se,{name:"MuiAlert",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`${n.variant}${X(n.color||n.severity)}`]]}})(re(({theme:t})=>{const r=t.palette.mode==="light"?St:wt,n=t.palette.mode==="light"?wt:St;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Be(["light"])).map(([o])=>({props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:r(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${o}StandardBg`]:n(t.palette[o].light,.9),[`& .${hr.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}})),...Object.entries(t.palette).filter(Be(["light"])).map(([o])=>({props:{colorSeverity:o,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:r(t.palette[o].light,.6),border:`1px solid ${(t.vars||t).palette[o].light}`,[`& .${hr.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}})),...Object.entries(t.palette).filter(Be(["dark"])).map(([o])=>({props:{colorSeverity:o,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${o}FilledColor`],backgroundColor:t.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[o].dark:t.palette[o].main,color:t.palette.getContrastText(t.palette[o].main)}}}))]}})),Vn=F("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,r)=>r.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Hn=F("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,r)=>r.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),xr=F("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,r)=>r.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),mr={success:e.jsx(Ln,{fontSize:"inherit"}),warning:e.jsx(zn,{fontSize:"inherit"}),error:e.jsx(Bn,{fontSize:"inherit"}),info:e.jsx(Wn,{fontSize:"inherit"})},le=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiAlert"}),{action:s,children:i,className:a,closeText:l="Close",color:c,components:u={},componentsProps:x={},icon:m,iconMapping:p=mr,onClose:g,role:b="alert",severity:j="success",slotProps:h={},slots:f={},variant:S="standard",...C}=o,P={...o,color:c,severity:j,variant:S,colorSeverity:c||j},O=Fn(P),z={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...f},slotProps:{...x,...h}},[I,V]=He("closeButton",{elementType:xe,externalForwardedProps:z,ownerState:P}),[D,A]=He("closeIcon",{elementType:gs,externalForwardedProps:z,ownerState:P});return e.jsxs(Un,{role:b,elevation:0,ownerState:P,className:Z(O.root,a),ref:n,...C,children:[m!==!1?e.jsx(Vn,{ownerState:P,className:O.icon,children:m||p[j]||mr[j]}):null,e.jsx(Hn,{ownerState:P,className:O.message,children:i}),s!=null?e.jsx(xr,{ownerState:P,className:O.action,children:s}):null,s==null&&g?e.jsx(xr,{ownerState:P,className:O.action,children:e.jsx(I,{size:"small","aria-label":l,title:l,color:"inherit",onClick:g,...V,children:e.jsx(D,{fontSize:"small",...A})})}):null]})});function Gn(t){return oe("MuiAppBar",t)}Q("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const qn=t=>{const{color:r,position:n,classes:o}=t,s={root:["root",`color${X(r)}`,`position${X(n)}`]};return ee(s,Gn,o)},gr=(t,r)=>t?`${t==null?void 0:t.replace(")","")}, ${r})`:r,_n=F(se,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`position${X(n.position)}`],r[`color${X(n.color)}`]]}})(re(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Be(["contrastText"])).map(([r])=>({props:{color:r},style:{"--AppBar-background":(t.vars??t).palette[r].main,"--AppBar-color":(t.vars??t).palette[r].contrastText}})),{props:r=>r.enableColorOnDark===!0&&!["inherit","transparent"].includes(r.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:r=>r.enableColorOnDark===!1&&!["inherit","transparent"].includes(r.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?gr(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?gr(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),_r=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:a=!1,position:l="fixed",...c}=o,u={...o,color:i,position:l,enableColorOnDark:a},x=qn(u);return e.jsx(_n,{square:!0,component:"header",ownerState:u,elevation:4,className:Z(x.root,s,l==="fixed"&&"mui-fixed"),ref:n,...c})}),Yn=_e(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Jn(t){return oe("MuiAvatar",t)}Q("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Zn=t=>{const{classes:r,variant:n,colorDefault:o}=t;return ee({root:["root",n,o&&"colorDefault"],img:["img"],fallback:["fallback"]},Jn,r)},Kn=F("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],n.colorDefault&&r.colorDefault]}})(re(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Xn=F("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Qn=F(Yn,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,r)=>r.fallback})({width:"75%",height:"75%"});function ea({crossOrigin:t,referrerPolicy:r,src:n,srcSet:o}){const[s,i]=d.useState(!1);return d.useEffect(()=>{if(!n&&!o)return;i(!1);let a=!0;const l=new Image;return l.onload=()=>{a&&i("loaded")},l.onerror=()=>{a&&i("error")},l.crossOrigin=t,l.referrerPolicy=r,l.src=n,o&&(l.srcset=o),()=>{a=!1}},[t,r,n,o]),s}const Je=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiAvatar"}),{alt:s,children:i,className:a,component:l="div",slots:c={},slotProps:u={},imgProps:x,sizes:m,src:p,srcSet:g,variant:b="circular",...j}=o;let h=null;const f=ea({...x,src:p,srcSet:g}),S=p||g,C=S&&f!=="error",P={...o,colorDefault:!C,component:l,variant:b};delete P.ownerState;const O=Zn(P),[z,I]=He("img",{className:O.img,elementType:Xn,externalForwardedProps:{slots:c,slotProps:{img:{...x,...u.img}}},additionalProps:{alt:s,src:p,srcSet:g,sizes:m},ownerState:P});return C?h=e.jsx(z,{...I}):i||i===0?h=i:S&&s?h=s[0]:h=e.jsx(Qn,{ownerState:P,className:O.fallback}),e.jsx(Kn,{as:l,className:Z(O.root,a),ref:n,...j,ownerState:P,children:h})}),ta=Q("MuiBox",["root"]),ra=Mt(),v=go({themeId:yo,defaultTheme:ra,defaultClassName:ta.root,generateClassName:fo.generate});function oa(t){return oe("MuiCardContent",t)}Q("MuiCardContent",["root"]);const sa=t=>{const{classes:r}=t;return ee({root:["root"]},oa,r)},na=F("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,r)=>r.root})({padding:16,"&:last-child":{paddingBottom:24}}),ie=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiCardContent"}),{className:s,component:i="div",...a}=o,l={...o,component:i},c=sa(l);return e.jsx(na,{as:i,className:Z(c.root,s),ownerState:l,ref:n,...a})});function aa(t){return oe("MuiCardMedia",t)}Q("MuiCardMedia",["root","media","img"]);const ia=t=>{const{classes:r,isMediaComponent:n,isImageComponent:o}=t;return ee({root:["root",n&&"media",o&&"img"]},aa,r)},la=F("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t,{isMediaComponent:o,isImageComponent:s}=n;return[r.root,o&&r.media,s&&r.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),ca=["video","audio","picture","iframe","img"],da=["picture","img"],ua=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiCardMedia"}),{children:s,className:i,component:a="div",image:l,src:c,style:u,...x}=o,m=ca.includes(a),p=!m&&l?{backgroundImage:`url("${l}")`,...u}:u,g={...o,component:a,isMediaComponent:m,isImageComponent:da.includes(a)},b=ia(g);return e.jsx(la,{className:Z(b.root,i),as:a,role:!m&&l?"img":void 0,ref:n,style:p,ownerState:g,src:m?l||c:void 0,...x,children:s})}),Ne=vo({createStyledComponent:F("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`maxWidth${X(String(n.maxWidth))}`],n.fixed&&r.fixed,n.disableGutters&&r.disableGutters]}}),useThemeProps:t=>J({props:t,name:"MuiContainer"})}),Pt=typeof Nr({})=="function",pa=(t,r)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...r&&!t.vars&&{colorScheme:t.palette.mode}}),ha=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),Yr=(t,r=!1)=>{var i,a;const n={};r&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([l,c])=>{var x,m;const u=t.getColorSchemeSelector(l);u.startsWith("@")?n[u]={":root":{colorScheme:(x=c.palette)==null?void 0:x.mode}}:n[u.replace(/\s*&/,"")]={colorScheme:(m=c.palette)==null?void 0:m.mode}});let o={html:pa(t,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...ha(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const s=(a=(i=t.components)==null?void 0:i.MuiCssBaseline)==null?void 0:a.styleOverrides;return s&&(o=[o,s]),o},rt="mui-ecs",xa=t=>{const r=Yr(t,!1),n=Array.isArray(r)?r[0]:r;return!t.vars&&n&&(n.html[`:root:has(${rt})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,s])=>{var a,l;const i=t.getColorSchemeSelector(o);i.startsWith("@")?n[i]={[`:root:not(:has(.${rt}))`]:{colorScheme:(a=s.palette)==null?void 0:a.mode}}:n[i.replace(/\s*&/,"")]={[`&:not(:has(.${rt}))`]:{colorScheme:(l=s.palette)==null?void 0:l.mode}}}),r},ma=Nr(Pt?({theme:t,enableColorScheme:r})=>Yr(t,r):({theme:t})=>xa(t));function Jr(t){const r=J({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:o=!1}=r;return e.jsxs(d.Fragment,{children:[Pt&&e.jsx(ma,{enableColorScheme:o}),!Pt&&!o&&e.jsx("span",{className:rt,style:{display:"none"}}),n]})}const ga=t=>{const{classes:r}=t;return ee({root:["root"]},fs,r)},fa=F(y,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,r)=>r.root})({padding:"16px 24px",flex:"0 0 auto"}),Ht=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiDialogTitle"}),{className:s,id:i,...a}=o,l=o,c=ga(l),{titleId:u=i}=d.useContext(bo);return e.jsx(fa,{component:"h2",className:Z(c.root,s),ownerState:l,ref:n,variant:"h6",id:i??u,...a})});function ya(t,r,n){const o=r.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),i=Or(r);let a;if(r.fakeTransform)a=r.fakeTransform;else{const u=i.getComputedStyle(r);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let l=0,c=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");l=parseInt(u[4],10),c=parseInt(u[5],10)}return t==="left"?s?`translateX(${s.right+l-o.left}px)`:`translateX(${i.innerWidth+l-o.left}px)`:t==="right"?s?`translateX(-${o.right-s.left-l}px)`:`translateX(-${o.left+o.width-l}px)`:t==="up"?s?`translateY(${s.bottom+c-o.top}px)`:`translateY(${i.innerHeight+c-o.top}px)`:s?`translateY(-${o.top-s.top+o.height-c}px)`:`translateY(-${o.top+o.height-c}px)`}function va(t){return typeof t=="function"?t():t}function Qe(t,r,n){const o=va(n),s=ya(t,r,o);s&&(r.style.webkitTransform=s,r.style.transform=s)}const ba=d.forwardRef(function(r,n){const o=Me(),s={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,container:u,direction:x="down",easing:m=s,in:p,onEnter:g,onEntered:b,onEntering:j,onExit:h,onExited:f,onExiting:S,style:C,timeout:P=i,TransitionComponent:O=Mr,...z}=r,I=d.useRef(null),V=$r(jo(c),I,n),D=H=>ne=>{H&&(ne===void 0?H(I.current):H(I.current,ne))},A=D((H,ne)=>{Qe(x,H,u),wo(H),g&&g(H,ne)}),L=D((H,ne)=>{const Oe=ot({timeout:P,style:C,easing:m},{mode:"enter"});H.style.webkitTransition=o.transitions.create("-webkit-transform",{...Oe}),H.style.transition=o.transitions.create("transform",{...Oe}),H.style.webkitTransform="none",H.style.transform="none",j&&j(H,ne)}),_=D(b),M=D(S),R=D(H=>{const ne=ot({timeout:P,style:C,easing:m},{mode:"exit"});H.style.webkitTransition=o.transitions.create("-webkit-transform",ne),H.style.transition=o.transitions.create("transform",ne),Qe(x,H,u),h&&h(H)}),W=D(H=>{H.style.webkitTransition="",H.style.transition="",f&&f(H)}),K=H=>{a&&a(I.current,H)},Y=d.useCallback(()=>{I.current&&Qe(x,I.current,u)},[x,u]);return d.useEffect(()=>{if(p||x==="down"||x==="right")return;const H=So(()=>{I.current&&Qe(x,I.current,u)}),ne=Or(I.current);return ne.addEventListener("resize",H),()=>{H.clear(),ne.removeEventListener("resize",H)}},[x,p,u]),d.useEffect(()=>{p||Y()},[p,Y]),e.jsx(O,{nodeRef:I,onEnter:A,onEntered:_,onEntering:L,onExit:R,onExited:W,onExiting:M,addEndListener:K,appear:l,in:p,timeout:P,...z,children:(H,ne)=>d.cloneElement(c,{ref:V,style:{visibility:H==="exited"&&!p?"hidden":void 0,...C,...c.props.style},...ne})})});function ja(t){return oe("MuiDrawer",t)}const Sa=Q("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]),Zr=(t,r)=>{const{ownerState:n}=t;return[r.root,(n.variant==="permanent"||n.variant==="persistent")&&r.docked,r.modal]},wa=t=>{const{classes:r,anchor:n,variant:o}=t,s={root:["root"],docked:[(o==="permanent"||o==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${X(n)}`,o!=="temporary"&&`paperAnchorDocked${X(n)}`]};return ee(s,ja,r)},Ca=F(Lr,{name:"MuiDrawer",slot:"Root",overridesResolver:Zr})(re(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),fr=F("div",{shouldForwardProp:ko,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Zr})({flex:"0 0 auto"}),ka=F(se,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.paper,r[`paperAnchor${X(n.anchor)}`],n.variant!=="temporary"&&r[`paperAnchorDocked${X(n.anchor)}`]]}})(re(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:r})=>r.anchor==="left"&&r.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="top"&&r.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="right"&&r.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="bottom"&&r.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),Kr={left:"right",right:"left",top:"down",bottom:"up"};function Da(t){return["left","right"].includes(t)}function Ra({direction:t},r){return t==="rtl"&&Da(r)?Kr[r]:r}const Xr=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiDrawer"}),s=Me(),i=Co(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:c,children:u,className:x,elevation:m=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:g,...b}={},onClose:j,open:h=!1,PaperProps:f={},SlideProps:S,TransitionComponent:C=ba,transitionDuration:P=a,variant:O="temporary",...z}=o,I=d.useRef(!1);d.useEffect(()=>{I.current=!0},[]);const V=Ra({direction:i?"rtl":"ltr"},l),A={...o,anchor:l,elevation:m,open:h,variant:O,...z},L=wa(A),_=e.jsx(ka,{elevation:O==="temporary"?m:0,square:!0,...f,className:Z(L.paper,f.className),ownerState:A,children:u});if(O==="permanent")return e.jsx(fr,{className:Z(L.root,L.docked,x),ownerState:A,ref:n,...z,children:_});const M=e.jsx(C,{in:h,direction:Kr[V],timeout:P,appear:I.current,...S,children:_});return O==="persistent"?e.jsx(fr,{className:Z(L.root,L.docked,x),ownerState:A,ref:n,...z,children:M}):e.jsx(Ca,{BackdropProps:{...c,...g,transitionDuration:P},className:Z(L.root,L.modal,x),open:h,ownerState:A,onClose:j,hideBackdrop:p,ref:n,...z,...b,children:M})});function Ia(t){return oe("MuiFormGroup",t)}Q("MuiFormGroup",["root","row","error"]);const Pa=t=>{const{classes:r,row:n,error:o}=t;return ee({root:["root",n&&"row",o&&"error"]},Ia,r)},Aa=F("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.row&&r.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Ta=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiFormGroup"}),{className:s,row:i=!1,...a}=o,l=Do(),c=Ro({props:o,muiFormControl:l,states:["error"]}),u={...o,row:i,error:c.error},x=Pa(u);return e.jsx(Aa,{className:Z(x.root,s),ownerState:u,ref:n,...a})}),yr=d.createContext();function Ma(t){return oe("MuiGrid",t)}const Ea=[0,1,2,3,4,5,6,7,8,9,10],$a=["column-reverse","column","row-reverse","row"],Na=["nowrap","wrap-reverse","wrap"],Ve=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],qe=Q("MuiGrid",["root","container","item","zeroMinWidth",...Ea.map(t=>`spacing-xs-${t}`),...$a.map(t=>`direction-xs-${t}`),...Na.map(t=>`wrap-xs-${t}`),...Ve.map(t=>`grid-xs-${t}`),...Ve.map(t=>`grid-sm-${t}`),...Ve.map(t=>`grid-md-${t}`),...Ve.map(t=>`grid-lg-${t}`),...Ve.map(t=>`grid-xl-${t}`)]);function Oa({theme:t,ownerState:r}){let n;return t.breakpoints.keys.reduce((o,s)=>{let i={};if(r[s]&&(n=r[s]),!n)return o;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=it({values:r.columns,breakpoints:t.breakpoints.values}),l=typeof a=="object"?a[s]:a;if(l==null)return o;const c=`${Math.round(n/l*1e8)/1e6}%`;let u={};if(r.container&&r.item&&r.columnSpacing!==0){const x=t.spacing(r.columnSpacing);if(x!=="0px"){const m=`calc(${c} + ${x})`;u={flexBasis:m,maxWidth:m}}}i={flexBasis:c,flexGrow:0,maxWidth:c,...u}}return t.breakpoints.values[s]===0?Object.assign(o,i):o[t.breakpoints.up(s)]=i,o},{})}function La({theme:t,ownerState:r}){const n=it({values:r.direction,breakpoints:t.breakpoints.values});return Et({theme:t},n,o=>{const s={flexDirection:o};return o.startsWith("column")&&(s[`& > .${qe.item}`]={maxWidth:"none"}),s})}function Qr({breakpoints:t,values:r}){let n="";Object.keys(r).forEach(s=>{n===""&&r[s]!==0&&(n=s)});const o=Object.keys(t).sort((s,i)=>t[s]-t[i]);return o.slice(0,o.indexOf(n))}function za({theme:t,ownerState:r}){const{container:n,rowSpacing:o}=r;let s={};if(n&&o!==0){const i=it({values:o,breakpoints:t.breakpoints.values});let a;typeof i=="object"&&(a=Qr({breakpoints:t.breakpoints.values,values:i})),s=Et({theme:t},i,(l,c)=>{const u=t.spacing(l);return u!=="0px"?{marginTop:`-${u}`,[`& > .${qe.item}`]:{paddingTop:u}}:a!=null&&a.includes(c)?{}:{marginTop:0,[`& > .${qe.item}`]:{paddingTop:0}}})}return s}function Ba({theme:t,ownerState:r}){const{container:n,columnSpacing:o}=r;let s={};if(n&&o!==0){const i=it({values:o,breakpoints:t.breakpoints.values});let a;typeof i=="object"&&(a=Qr({breakpoints:t.breakpoints.values,values:i})),s=Et({theme:t},i,(l,c)=>{const u=t.spacing(l);if(u!=="0px"){const x=`-${u}`;return{width:`calc(100% + ${u})`,marginLeft:x,[`& > .${qe.item}`]:{paddingLeft:u}}}return a!=null&&a.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${qe.item}`]:{paddingLeft:0}}})}return s}function Wa(t,r,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const o=[];return r.forEach(s=>{const i=t[s];Number(i)>0&&o.push(n[`spacing-${s}-${String(i)}`])}),o}const Fa=F("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t,{container:o,direction:s,item:i,spacing:a,wrap:l,zeroMinWidth:c,breakpoints:u}=n;let x=[];o&&(x=Wa(a,u,r));const m=[];return u.forEach(p=>{const g=n[p];g&&m.push(r[`grid-${p}-${String(g)}`])}),[r.root,o&&r.container,i&&r.item,c&&r.zeroMinWidth,...x,s!=="row"&&r[`direction-xs-${String(s)}`],l!=="wrap"&&r[`wrap-xs-${String(l)}`],...m]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),La,za,Ba,Oa);function Ua(t,r){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return r.forEach(o=>{const s=t[o];if(Number(s)>0){const i=`spacing-${o}-${String(s)}`;n.push(i)}}),n}const Va=t=>{const{classes:r,container:n,direction:o,item:s,spacing:i,wrap:a,zeroMinWidth:l,breakpoints:c}=t;let u=[];n&&(u=Ua(i,c));const x=[];c.forEach(p=>{const g=t[p];g&&x.push(`grid-${p}-${String(g)}`)});const m={root:["root",n&&"container",s&&"item",l&&"zeroMinWidth",...u,o!=="row"&&`direction-xs-${String(o)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...x]};return ee(m,Ma,r)},$=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiGrid"}),{breakpoints:s}=Me(),i=Io(o),{className:a,columns:l,columnSpacing:c,component:u="div",container:x=!1,direction:m="row",item:p=!1,rowSpacing:g,spacing:b=0,wrap:j="wrap",zeroMinWidth:h=!1,...f}=i,S=g||b,C=c||b,P=d.useContext(yr),O=x?l||12:P,z={},I={...f};s.keys.forEach(A=>{f[A]!=null&&(z[A]=f[A],delete I[A])});const V={...i,columns:O,container:x,direction:m,item:p,rowSpacing:S,columnSpacing:C,wrap:j,zeroMinWidth:h,spacing:b,...z,breakpoints:s.keys},D=Va(V);return e.jsx(yr.Provider,{value:O,children:e.jsx(Fa,{ownerState:V,className:Z(D.root,a),as:u,ref:n,...I})})}),fe=Po({createStyledComponent:F("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(t,r)=>r.root}),componentName:"MuiGrid2",useThemeProps:t=>J({props:t,name:"MuiGrid2"})});function Ha(t){return oe("MuiLink",t)}const Ga=Q("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),qa=({theme:t,ownerState:r})=>{const n=r.color,o=Yt(t,`palette.${n}`,!1)||r.color,s=Yt(t,`palette.${n}Channel`);return"vars"in t&&s?`rgba(${s} / 0.4)`:E(o,.4)},vr={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},_a=t=>{const{classes:r,component:n,focusVisible:o,underline:s}=t,i={root:["root",`underline${X(s)}`,n==="button"&&"button",o&&"focusVisible"]};return ee(i,Ha,r)},Ya=F(y,{name:"MuiLink",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`underline${X(n.underline)}`],n.component==="button"&&r.button]}})(re(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:r,ownerState:n})=>r==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(Be()).map(([r])=>({props:{underline:"always",color:r},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.4)`:E(t.palette[r].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:E(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:E(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ga.focusVisible}`]:{outline:"auto"}}}]}))),At=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiLink"}),s=Me(),{className:i,color:a="primary",component:l="a",onBlur:c,onFocus:u,TypographyClasses:x,underline:m="always",variant:p="inherit",sx:g,...b}=o,[j,h]=d.useState(!1),f=O=>{Jt(O.target)||h(!1),c&&c(O)},S=O=>{Jt(O.target)&&h(!0),u&&u(O)},C={...o,color:a,component:l,focusVisible:j,underline:m,variant:p},P=_a(C);return e.jsx(Ya,{color:a,className:Z(P.root,i),classes:x,component:l,onBlur:f,onFocus:S,ref:n,ownerState:C,variant:p,...b,sx:[...vr[a]===void 0?[{color:a}]:[],...Array.isArray(g)?g:[g]],style:{...b.style,...m==="always"&&a!=="inherit"&&!vr[a]&&{"--Link-underlineColor":qa({theme:s,ownerState:C})}}})});function Ja(t={}){const{autoHideDuration:r=null,disableWindowBlurListener:n=!1,onClose:o,open:s,resumeHideDuration:i}=t,a=Er();d.useEffect(()=>{if(!s)return;function f(S){S.defaultPrevented||S.key==="Escape"&&(o==null||o(S,"escapeKeyDown"))}return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[s,o]);const l=Zt((f,S)=>{o==null||o(f,S)}),c=Zt(f=>{!o||f==null||a.start(f,()=>{l(null,"timeout")})});d.useEffect(()=>(s&&c(r),a.clear),[s,r,c,a]);const u=f=>{o==null||o(f,"clickaway")},x=a.clear,m=d.useCallback(()=>{r!=null&&c(i??r*.5)},[r,i,c]),p=f=>S=>{const C=f.onBlur;C==null||C(S),m()},g=f=>S=>{const C=f.onFocus;C==null||C(S),x()},b=f=>S=>{const C=f.onMouseEnter;C==null||C(S),x()},j=f=>S=>{const C=f.onMouseLeave;C==null||C(S),m()};return d.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",m),window.addEventListener("blur",x),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",x)}},[n,s,m,x]),{getRootProps:(f={})=>{const S={...Kt(t),...Kt(f)};return{role:"presentation",...f,...S,onBlur:p(S),onFocus:g(S),onMouseEnter:b(S),onMouseLeave:j(S)}},onClickAway:u}}function Za(t){return oe("MuiSnackbarContent",t)}Q("MuiSnackbarContent",["root","message","action"]);const Ka=t=>{const{classes:r}=t;return ee({root:["root"],action:["action"],message:["message"]},Za,r)},Xa=F(se,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,r)=>r.root})(re(({theme:t})=>{const r=t.palette.mode==="light"?.8:.98,n=Ao(t.palette.background.default,r);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Qa=F("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,r)=>r.message})({padding:"8px 0"}),ei=F("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,r)=>r.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ti=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiSnackbarContent"}),{action:s,className:i,message:a,role:l="alert",...c}=o,u=o,x=Ka(u);return e.jsxs(Xa,{role:l,square:!0,elevation:6,className:Z(x.root,i),ownerState:u,ref:n,...c,children:[e.jsx(Qa,{className:x.message,ownerState:u,children:a}),s?e.jsx(ei,{className:x.action,ownerState:u,children:s}):null]})});function ri(t){return oe("MuiSnackbar",t)}Q("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const oi=t=>{const{classes:r,anchorOrigin:n}=t,o={root:["root",`anchorOrigin${X(n.vertical)}${X(n.horizontal)}`]};return ee(o,ri,r)},br=F("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`anchorOrigin${X(n.anchorOrigin.vertical)}${X(n.anchorOrigin.horizontal)}`]]}})(re(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:r})=>r.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:r})=>r.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:r})=>r.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:r})=>r.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:r})=>r.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),Gt=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiSnackbar"}),s=Me(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:l,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:x,className:m,ClickAwayListenerProps:p,ContentProps:g,disableWindowBlurListener:b=!1,message:j,onBlur:h,onClose:f,onFocus:S,onMouseEnter:C,onMouseLeave:P,open:O,resumeHideDuration:z,TransitionComponent:I=ys,transitionDuration:V=i,TransitionProps:{onEnter:D,onExited:A,...L}={},..._}=o,M={...o,anchorOrigin:{vertical:l,horizontal:c},autoHideDuration:u,disableWindowBlurListener:b,TransitionComponent:I,transitionDuration:V},R=oi(M),{getRootProps:W,onClickAway:K}=Ja({...M}),[Y,H]=d.useState(!0),ne=To({elementType:br,getSlotProps:W,externalForwardedProps:_,ownerState:M,additionalProps:{ref:n},className:[R.root,m]}),Oe=Fe=>{H(!0),A&&A(Fe)},dt=(Fe,ut)=>{H(!1),D&&D(Fe,ut)};return!O&&Y?null:e.jsx(vs,{onClickAway:K,...p,children:e.jsx(br,{...ne,children:e.jsx(I,{appear:!0,in:O,timeout:V,direction:l==="top"?"down":"up",onEnter:dt,onExited:Oe,...L,children:x||e.jsx(ti,{message:j,action:a,...g})})})})}),be=Mo({createStyledComponent:F("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,r)=>r.root}),useThemeProps:t=>J({props:t,name:"MuiStack"})});function si(t){return oe("MuiSwitch",t)}const de=Q("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ni=t=>{const{classes:r,edge:n,size:o,color:s,checked:i,disabled:a}=t,l={root:["root",n&&`edge${X(n)}`,`size${X(o)}`],switchBase:["switchBase",`color${X(s)}`,i&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=ee(l,si,r);return{...r,...c}},ai=F("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.edge&&r[`edge${X(n.edge)}`],r[`size${X(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${de.thumb}`]:{width:16,height:16},[`& .${de.switchBase}`]:{padding:4,[`&.${de.checked}`]:{transform:"translateX(16px)"}}}}]}),ii=F(bs,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.switchBase,{[`& .${de.input}`]:r.input},n.color!=="default"&&r[`color${X(n.color)}`]]}})(re(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${de.checked}`]:{transform:"translateX(20px)"},[`&.${de.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${de.checked} + .${de.track}`]:{opacity:.5},[`&.${de.disabled} + .${de.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${de.input}`]:{left:"-100%",width:"300%"}})),re(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:E(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Be(["light"])).map(([r])=>({props:{color:r},style:{[`&.${de.checked}`]:{color:(t.vars||t).palette[r].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:E(t.palette[r].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${de.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${r}DisabledColor`]:`${t.palette.mode==="light"?wt(t.palette[r].main,.62):St(t.palette[r].main,.55)}`}},[`&.${de.checked} + .${de.track}`]:{backgroundColor:(t.vars||t).palette[r].main}}}))]}))),li=F("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,r)=>r.track})(re(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),ci=F("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,r)=>r.thumb})(re(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),di=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiSwitch"}),{className:s,color:i="primary",edge:a=!1,size:l="medium",sx:c,...u}=o,x={...o,color:i,edge:a,size:l},m=ni(x),p=e.jsx(ci,{className:m.thumb,ownerState:x});return e.jsxs(ai,{className:Z(m.root,s),sx:c,ownerState:x,children:[e.jsx(ii,{type:"checkbox",icon:p,checkedIcon:p,ref:n,ownerState:x,...u,classes:{...m,root:m.switchBase}}),e.jsx(li,{className:m.track,ownerState:x})]})});function ui(t){return oe("MuiTable",t)}Q("MuiTable",["root","stickyHeader"]);const pi=t=>{const{classes:r,stickyHeader:n}=t;return ee({root:["root",n&&"stickyHeader"]},ui,r)},hi=F("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.stickyHeader&&r.stickyHeader]}})(re(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:r})=>r.stickyHeader,style:{borderCollapse:"separate"}}]}))),jr="table",Ie=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiTable"}),{className:s,component:i=jr,padding:a="normal",size:l="medium",stickyHeader:c=!1,...u}=o,x={...o,component:i,padding:a,size:l,stickyHeader:c},m=pi(x),p=d.useMemo(()=>({padding:a,size:l,stickyHeader:c}),[a,l,c]);return e.jsx(js.Provider,{value:p,children:e.jsx(hi,{as:i,role:i===jr?null:"table",ref:n,className:Z(m.root,s),ownerState:x,...u})})});function xi(t){return oe("MuiTableBody",t)}Q("MuiTableBody",["root"]);const mi=t=>{const{classes:r}=t;return ee({root:["root"]},xi,r)},gi=F("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,r)=>r.root})({display:"table-row-group"}),fi={variant:"body"},Sr="tbody",Pe=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiTableBody"}),{className:s,component:i=Sr,...a}=o,l={...o,component:i},c=mi(l);return e.jsx(Lt.Provider,{value:fi,children:e.jsx(gi,{className:Z(c.root,s),as:i,ref:n,role:i===Sr?null:"rowgroup",ownerState:l,...a})})});function yi(t){return oe("MuiTableContainer",t)}Q("MuiTableContainer",["root"]);const vi=t=>{const{classes:r}=t;return ee({root:["root"]},yi,r)},bi=F("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,r)=>r.root})({width:"100%",overflowX:"auto"}),Ae=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiTableContainer"}),{className:s,component:i="div",...a}=o,l={...o,component:i},c=vi(l);return e.jsx(bi,{ref:n,as:i,className:Z(c.root,s),ownerState:l,...a})});function ji(t){return oe("MuiTableHead",t)}Q("MuiTableHead",["root"]);const Si=t=>{const{classes:r}=t;return ee({root:["root"]},ji,r)},wi=F("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,r)=>r.root})({display:"table-header-group"}),Ci={variant:"head"},wr="thead",Te=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiTableHead"}),{className:s,component:i=wr,...a}=o,l={...o,component:i},c=Si(l);return e.jsx(Lt.Provider,{value:Ci,children:e.jsx(wi,{as:i,className:Z(c.root,s),ref:n,role:i===wr?null:"rowgroup",ownerState:l,...a})})});function ki(t){return oe("MuiTableRow",t)}const Cr=Q("MuiTableRow",["root","selected","hover","head","footer"]),Di=t=>{const{classes:r,selected:n,hover:o,head:s,footer:i}=t;return ee({root:["root",n&&"selected",o&&"hover",s&&"head",i&&"footer"]},ki,r)},Ri=F("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.head&&r.head,n.footer&&r.footer]}})(re(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Cr.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Cr.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:E(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:E(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),kr="tr",te=d.forwardRef(function(r,n){const o=J({props:r,name:"MuiTableRow"}),{className:s,component:i=kr,hover:a=!1,selected:l=!1,...c}=o,u=d.useContext(Lt),x={...o,component:i,hover:a,selected:l,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},m=Di(x);return e.jsx(Ri,{as:i,ref:n,className:Z(m.root,s),role:i===kr?null:"row",ownerState:x,...c})}),Ii=Q("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Dr=Q("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);function qt({showBadge:t=!1,...r}){return e.jsx(Ss,{color:"error",variant:"dot",invisible:!t,sx:{[`& .${ws.badge}`]:{right:2,top:2}},children:e.jsx(xe,{size:"small",...r})})}const eo=d.createContext(void 0),Pi=({children:t})=>{const[r,n]=d.useState(()=>sessionStorage.getItem("isAuthenticated")==="true"),[o,s]=d.useState(()=>{const h=sessionStorage.getItem("user");return h?JSON.parse(h):null}),[i,a]=d.useState(()=>sessionStorage.getItem("viewRole")||null),[l,c]=d.useState(!r),u={purchaseConfirmation:!0,pointEarned:!0,pointBalanceDrop:!0,orderIssue:!0,systemDrop:!0,applicationApproved:!0},[x,m]=d.useState(()=>{const h=localStorage.getItem("notifySettings");return h?JSON.parse(h):u}),p=(h,f)=>{h==="systemDrop"||h==="applicationApproved"||m(S=>{const C={...S,[h]:f};return localStorage.setItem("notifySettings",JSON.stringify(C)),C})},g=d.useCallback(h=>{a(h),h?sessionStorage.setItem("viewRole",h):sessionStorage.removeItem("viewRole")},[]);d.useEffect(()=>{r?c(!1):b()},[]);const b=async()=>{c(!0);try{const h=await B.get("/api/user/currentuser",{withCredentials:!0});s(h.data),n(!0),sessionStorage.setItem("user",JSON.stringify(h.data)),sessionStorage.setItem("isAuthenticated","true")}catch{s(null),n(!1),sessionStorage.removeItem("user"),sessionStorage.removeItem("isAuthenticated")}finally{c(!1)}},j=async()=>{try{await B.post("/api/system/logout",{},{withCredentials:!0}),s(null),n(!1),g(null),sessionStorage.clear()}catch{}};return e.jsx(eo.Provider,{value:{user:o,isAuthenticated:r,isLoading:l,viewRole:i,setViewRole:g,checkAuth:b,logout:j,notifySettings:x,updateNotifySetting:p},children:t})},Ce=()=>{const t=d.useContext(eo);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},to=d.createContext(void 0),ro=()=>{const t=d.useContext(to);if(!t)throw new Error("useView must be used within a ViewProvider");return t},Ai=({children:t})=>{const[r,n]=d.useState("MAIN");return e.jsx(to.Provider,{value:{currentView:r,setCurrentView:n},children:t})},Rr={base:[{text:"Dashboard",icon:e.jsx(Uo,{}),view:"MAIN"}],Guest:[{text:"Applications",icon:e.jsx(pt,{}),view:"DRIVER_APPLICATION"}],Driver:[{text:"Applications",icon:e.jsx(pt,{}),view:"DRIVER_APPLICATION"},{text:"Product Catalog",icon:e.jsx(Qt,{}),path:"/catalog"},{text:"Points",icon:e.jsx(Ke,{}),view:"DRIVER_POINTS"},{text:"Activity",icon:e.jsx(Ke,{}),view:"DRIVER_ACTIVITY"},{text:"Profile",icon:e.jsx(Ke,{}),view:"PROFILE"}],Admin:[{text:"Manage Users",icon:e.jsx(Xt,{}),nestedItems:[{text:"Drivers",icon:e.jsx(ht,{}),view:"MANAGE_DRIVERS"},{text:"Sponsors",icon:e.jsx(ht,{}),view:"MANAGE_SPONSORS"},{text:"Admins",icon:e.jsx(ht,{}),view:"MANAGE_ADMINS"}]},{text:"Reports Views",icon:e.jsx(tr,{fontWeight:"large"}),nestedItems:[{text:"General",icon:e.jsx(Vo,{fontWeight:"medium"}),view:"ADMIN_REPORTS"},{text:"Audits",icon:e.jsx(er,{fontWeight:"medium"}),view:"ADMIN_AUDIT_REPORTS"}]},{text:"Console",icon:e.jsx(Wr,{}),view:"ADMIN_CONSOLE"}],Sponsor:[{text:"Manage Drivers",icon:e.jsx(Xt,{}),view:"SPONSOR_DRIVERS"},{text:"Approve/Reject Applications",icon:e.jsx(pt,{}),view:"APPLICATION_MANAGER"},{text:"Product Catalog",icon:e.jsx(Qt,{}),path:"/catalog"},{text:"Reports Views",icon:e.jsx(tr,{fontWeight:"large"}),nestedItems:[{text:"General",icon:e.jsx(Ke,{}),view:"SPONSOR_REPORTS"},{text:"Audits",icon:e.jsx(er,{fontWeight:"medium"}),view:"SPONSOR_AUDIT_REPORTS"}]}]};function oo(){const{setCurrentView:t}=ro(),{user:r,viewRole:n}=Ce(),o=We(),s=n||(r==null?void 0:r.userType)||"Guest",[i,a]=d.useState({}),l=[...Rr.base,...Rr[s]||[]],c=x=>{a(m=>({...m,[x]:!m[x]}))},u=(x,m)=>{m?o(m):x&&t(x)};return e.jsx(kt,{dense:!0,children:l.map((x,m)=>e.jsxs(d.Fragment,{children:[e.jsx(Dt,{disablePadding:!0,children:e.jsxs(ar,{onClick:()=>x.nestedItems?c(x.text):u(x.view,x.path),children:[e.jsx(ir,{children:x.icon}),e.jsx(st,{primary:x.text}),x.nestedItems?i[x.text]?e.jsx(Ho,{}):e.jsx(Fr,{}):null]})}),x.nestedItems&&e.jsx(Ge,{in:i[x.text],timeout:"auto",unmountOnExit:!0,children:e.jsx(kt,{component:"div",disablePadding:!0,children:x.nestedItems.map((p,g)=>e.jsx(Dt,{disablePadding:!0,children:e.jsxs(ar,{onClick:()=>u(p.view,p.path),children:[e.jsx(ir,{children:p.icon}),e.jsx(st,{primary:p.text})]})},g))})})]},m))})}function Ti(){return e.jsx(ae,{variant:"outlined",sx:{m:1.5,p:1.5},children:e.jsxs(ie,{children:[e.jsx(Go,{fontSize:"small"}),e.jsx(y,{gutterBottom:!0,sx:{fontWeight:600},children:"Something"}),e.jsx(y,{variant:"body2",sx:{mb:2,color:"text.secondary"},children:"Earn points by driving safe!"}),e.jsx(G,{variant:"contained",size:"small",fullWidth:!0,children:"Make the pledge"})]})})}function Mi({open:t,toggleDrawer:r}){const{user:n,viewRole:o,logout:s}=Ce(),i=o?{userName:`Viewing as ${o}`,email:`${o.toLowerCase()}@example.com`,userType:o}:n;return e.jsx(Xr,{anchor:"right",open:t,onClose:r(!1),sx:{zIndex:a=>a.zIndex.drawer+1,[`& .${Sa.paper}`]:{backgroundImage:"none",backgroundColor:"background.paper"}},children:e.jsxs(be,{sx:{maxWidth:"70dvw",height:"100%"},children:[e.jsxs(be,{direction:"row",sx:{p:2,pb:0,gap:1},children:[i?e.jsxs(be,{direction:"row",sx:{gap:1,alignItems:"center",flexGrow:1,p:1},children:[e.jsx(Je,{alt:i.userName,src:"/static/images/avatar/7.jpg",sx:{width:24,height:24}}),e.jsx(y,{component:"p",variant:"h6",children:i.userName})]}):e.jsx(y,{variant:"body2",sx:{flexGrow:1,p:1},children:"Please log in to access more features."}),e.jsx(qt,{showBadge:!0,children:e.jsx(qo,{})})]}),e.jsx(ke,{}),e.jsxs(be,{sx:{flexGrow:1},children:[e.jsx(oo,{}),e.jsx(ke,{})]}),e.jsx(Ti,{}),i&&e.jsx(be,{sx:{p:2},children:e.jsx(G,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(Ur,{}),onClick:s,children:"Logout"})})]})})}function Ei(t){const{mode:r,systemMode:n,setMode:o}=Cs(),s=Me(),[i,a]=d.useState(null),l=!!i,c=g=>{a(g.currentTarget)},u=()=>{a(null)},x=g=>()=>{o(g),u()};if(!r)return e.jsx(v,{"data-screenshot":"toggle-mode",sx:{verticalAlign:"bottom",display:"inline-flex",width:"2.25rem",height:"2.25rem",borderRadius:s.shape.borderRadius,border:"1px solid",borderColor:s.palette.divider}});const p=(n||r)==="light"?e.jsx(_o,{}):e.jsx(Yo,{});return e.jsxs(d.Fragment,{children:[e.jsx(xe,{"data-screenshot":"toggle-mode",onClick:c,disableRipple:!0,size:"small","aria-controls":l?"color-scheme-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,...t,children:p}),e.jsxs(Hr,{anchorEl:i,id:"color-scheme-menu",open:l,onClose:u,onClick:u,PaperProps:{variant:"outlined",sx:{my:"4px"}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsx(N,{selected:r==="system",onClick:x("system"),children:"System"}),e.jsx(N,{selected:r==="light",onClick:x("light"),children:"Light"}),e.jsx(N,{selected:r==="dark",onClick:x("dark"),children:"Dark"})]})]})}function $i(){const[t,r]=d.useState(!1),{isAuthenticated:n}=Ce(),o=s=>()=>{r(s)};return e.jsx(_r,{position:"fixed",sx:{zIndex:s=>s.zIndex.drawer+1,boxShadow:0,bgcolor:"background.paper",borderBottom:"1px solid",borderColor:"divider",maxWidth:"100vw",overflow:"hidden"},children:e.jsxs(zt,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:1,maxWidth:"100%",overflow:"hidden"},children:[e.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:1,flexShrink:0},children:[e.jsx(Ni,{}),e.jsx(y,{variant:"h5",component:"a",href:"/",sx:{color:"text.primary",textDecoration:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"GitGud Drivers"})]}),e.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:{xs:1,md:2},flexWrap:"wrap",justifyContent:"flex-end",width:{xs:"100%",md:"auto"}},children:[e.jsx(y,{component:$e,to:"/about",sx:{color:"text.primary",textDecoration:"none",fontSize:{xs:"0.9rem",md:"1rem"},whiteSpace:"nowrap"},children:"About"}),e.jsx(y,{component:$e,to:"/faq",sx:{color:"text.primary",textDecoration:"none",fontSize:{xs:"0.9rem",md:"1rem"},whiteSpace:"nowrap"},children:"FAQ"}),e.jsx(Ei,{}),e.jsxs(v,{sx:{display:{xs:"block",md:"none"}},children:[e.jsx(qt,{"aria-label":"menu",onClick:o(!0),children:e.jsx(Zo,{})}),e.jsx(Mi,{open:t,toggleDrawer:o})]})]})]})})}function Ni(){return e.jsx(v,{sx:{width:"1.5rem",height:"1.5rem",bgcolor:"black",borderRadius:"999px",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(135deg, hsl(210, 98%, 60%) 0%, hsl(210, 100%, 35%) 100%)",color:"hsla(210, 100%, 95%, 0.9)",border:"1px solid",borderColor:"hsl(210, 100%, 55%)",boxShadow:"inset 0 2px 5px rgba(255, 255, 255, 0.3)"},children:e.jsx(Jo,{color:"inherit",sx:{fontSize:"1rem"}})})}const ge=Mt();[...ge.shadows];const T={50:"hsl(210, 100%, 95%)",100:"hsl(210, 100%, 92%)",200:"hsl(210, 100%, 80%)",300:"hsl(210, 100%, 65%)",400:"hsl(210, 98%, 48%)",500:"hsl(210, 98%, 42%)",600:"hsl(210, 98%, 55%)",700:"hsl(210, 100%, 35%)",900:"hsl(210, 100%, 21%)"},k={50:"hsl(220, 35%, 97%)",100:"hsl(220, 30%, 94%)",200:"hsl(220, 20%, 88%)",300:"hsl(220, 20%, 80%)",400:"hsl(220, 20%, 65%)",500:"hsl(220, 20%, 42%)",600:"hsl(220, 20%, 35%)",700:"hsl(220, 20%, 25%)",800:"hsl(220, 30%, 6%)",900:"hsl(220, 35%, 3%)"},pe={50:"hsl(120, 80%, 98%)",200:"hsl(120, 75%, 87%)",300:"hsl(120, 61%, 77%)",400:"hsl(120, 44%, 53%)",500:"hsl(120, 59%, 30%)",700:"hsl(120, 75%, 16%)",800:"hsl(120, 84%, 10%)",900:"hsl(120, 87%, 6%)"},ve={100:"hsl(45, 92%, 90%)",300:"hsl(45, 90%, 65%)",400:"hsl(45, 90%, 40%)",500:"hsl(45, 90%, 35%)",700:"hsl(45, 94%, 20%)",800:"hsl(45, 95%, 16%)",900:"hsl(45, 93%, 12%)"},he={50:"hsl(0, 100%, 97%)",100:"hsl(0, 92%, 90%)",200:"hsl(0, 94%, 80%)",300:"hsl(0, 90%, 65%)",400:"hsl(0, 90%, 40%)",500:"hsl(0, 90%, 30%)",700:"hsl(0, 94%, 18%)",800:"hsl(0, 95%, 12%)",900:"hsl(0, 93%, 6%)"},Oi={light:{palette:{primary:{light:T[200],main:T[400],dark:T[700],contrastText:T[50]},info:{light:T[100],main:T[300],dark:T[600],contrastText:k[50]},warning:{light:ve[300],main:ve[400],dark:ve[800]},error:{light:he[300],main:he[400],dark:he[800]},success:{light:pe[300],main:pe[400],dark:pe[800]},grey:{...k},divider:E(k[300],.4),background:{default:"hsl(0, 0%, 99%)",paper:"hsl(220, 35%, 97%)"},text:{primary:k[800],secondary:k[600],warning:ve[400]},action:{hover:E(k[200],.2),selected:`${E(k[200],.3)}`},baseShadow:"hsla(220, 30%, 5%, 0.07) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.07) 0px 8px 16px -5px"}},dark:{palette:{primary:{contrastText:T[50],light:T[300],main:T[400],dark:T[700]},info:{contrastText:T[300],light:T[500],main:T[700],dark:T[900]},warning:{light:ve[400],main:ve[500],dark:ve[700]},error:{light:he[400],main:he[500],dark:he[700]},success:{light:pe[400],main:pe[500],dark:pe[700]},grey:{...k},divider:E(k[700],.6),background:{default:k[900],paper:"hsl(220, 30%, 7%)"},text:{primary:"hsl(0, 0%, 100%)",secondary:k[400]},action:{hover:E(k[600],.2),selected:E(k[600],.3)},baseShadow:"hsla(220, 30%, 5%, 0.7) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.8) 0px 8px 16px -5px"}}};ge.typography.pxToRem(48),ge.typography.pxToRem(36),ge.typography.pxToRem(30),ge.typography.pxToRem(24),ge.typography.pxToRem(20),ge.typography.pxToRem(18),ge.typography.pxToRem(18),ge.typography.pxToRem(14),ge.typography.pxToRem(14),ge.typography.pxToRem(14),ge.typography.pxToRem(12);const Li={borderRadius:8},zi=["none","var(--template-palette-baseShadow)",...ge.shadows.slice(2)],Bi=zi,Wi={MuiButtonBase:{defaultProps:{disableTouchRipple:!0,disableRipple:!0},styleOverrides:{root:({theme:t})=>({boxSizing:"border-box",transition:"all 100ms ease-in","&:focus-visible":{outline:`3px solid ${E(t.palette.primary.main,.5)}`,outlineOffset:"2px"}})}},MuiButton:{styleOverrides:{root:({theme:t})=>({boxShadow:"none",borderRadius:t.shape.borderRadius,textTransform:"none",variants:[{props:{size:"small"},style:{height:"2.25rem",padding:"8px 12px"}},{props:{size:"medium"},style:{height:"2.5rem"}},{props:{color:"primary",variant:"contained"},style:{color:"white",backgroundColor:k[900],backgroundImage:`linear-gradient(to bottom, ${k[700]}, ${k[800]})`,boxShadow:`inset 0 1px 0 ${k[600]}, inset 0 -1px 0 1px hsl(220, 0%, 0%)`,border:`1px solid ${k[700]}`,"&:hover":{backgroundImage:"none",backgroundColor:k[700],boxShadow:"none"},"&:active":{backgroundColor:k[800]},...t.applyStyles("dark",{color:"black",backgroundColor:k[50],backgroundImage:`linear-gradient(to bottom, ${k[100]}, ${k[50]})`,boxShadow:"inset 0 -1px 0  hsl(220, 30%, 80%)",border:`1px solid ${k[50]}`,"&:hover":{backgroundImage:"none",backgroundColor:k[300],boxShadow:"none"},"&:active":{backgroundColor:k[400]}})}},{props:{color:"secondary",variant:"contained"},style:{color:"white",backgroundColor:T[300],backgroundImage:`linear-gradient(to bottom, ${E(T[400],.8)}, ${T[500]})`,boxShadow:`inset 0 2px 0 ${E(T[200],.2)}, inset 0 -2px 0 ${E(T[700],.4)}`,border:`1px solid ${T[500]}`,"&:hover":{backgroundColor:T[700],boxShadow:"none"},"&:active":{backgroundColor:T[700],backgroundImage:"none"}}},{props:{variant:"outlined"},style:{color:t.palette.text.primary,border:"1px solid",borderColor:k[200],backgroundColor:E(k[50],.3),"&:hover":{backgroundColor:k[100],borderColor:k[300]},"&:active":{backgroundColor:k[200]},...t.applyStyles("dark",{backgroundColor:k[800],borderColor:k[700],"&:hover":{backgroundColor:k[900],borderColor:k[600]},"&:active":{backgroundColor:k[900]}})}},{props:{color:"secondary",variant:"outlined"},style:{color:T[700],border:"1px solid",borderColor:T[200],backgroundColor:T[50],"&:hover":{backgroundColor:T[100],borderColor:T[400]},"&:active":{backgroundColor:E(T[200],.7)},...t.applyStyles("dark",{color:T[50],border:"1px solid",borderColor:T[900],backgroundColor:E(T[900],.3),"&:hover":{borderColor:T[700],backgroundColor:E(T[900],.6)},"&:active":{backgroundColor:E(T[900],.5)}})}},{props:{variant:"text"},style:{color:k[600],"&:hover":{backgroundColor:k[100]},"&:active":{backgroundColor:k[200]},...t.applyStyles("dark",{color:k[50],"&:hover":{backgroundColor:k[700]},"&:active":{backgroundColor:E(k[700],.7)}})}},{props:{color:"secondary",variant:"text"},style:{color:T[700],"&:hover":{backgroundColor:E(T[100],.5)},"&:active":{backgroundColor:E(T[200],.7)},...t.applyStyles("dark",{color:T[100],"&:hover":{backgroundColor:E(T[900],.5)},"&:active":{backgroundColor:E(T[900],.3)}})}}]})}},MuiIconButton:{styleOverrides:{root:({theme:t})=>({boxShadow:"none",borderRadius:t.shape.borderRadius,textTransform:"none",fontWeight:t.typography.fontWeightMedium,letterSpacing:0,color:t.palette.text.primary,border:"1px solid ",borderColor:k[200],backgroundColor:E(k[50],.3),"&:hover":{backgroundColor:k[100],borderColor:k[300]},"&:active":{backgroundColor:k[200]},...t.applyStyles("dark",{backgroundColor:k[800],borderColor:k[700],"&:hover":{backgroundColor:k[900],borderColor:k[600]},"&:active":{backgroundColor:k[900]}}),variants:[{props:{size:"small"},style:{width:"2.25rem",height:"2.25rem",padding:"0.25rem",[`& .${tt.root}`]:{fontSize:"1rem"}}},{props:{size:"medium"},style:{width:"2.5rem",height:"2.5rem"}}]})}},MuiToggleButtonGroup:{styleOverrides:{root:({theme:t})=>({borderRadius:"10px",boxShadow:`0 4px 16px ${E(k[400],.2)}`,[`& .${Dr.selected}`]:{color:T[500]},...t.applyStyles("dark",{[`& .${Dr.selected}`]:{color:"#fff"},boxShadow:`0 4px 16px ${E(T[700],.5)}`})})}},MuiToggleButton:{styleOverrides:{root:({theme:t})=>({padding:"12px 16px",textTransform:"none",borderRadius:"10px",fontWeight:500,...t.applyStyles("dark",{color:k[400],boxShadow:"0 4px 16px rgba(0, 0, 0, 0.5)",[`&.${Ii.selected}`]:{color:T[300]}})})}},MuiCheckbox:{defaultProps:{disableRipple:!0,icon:e.jsx(Qo,{sx:{color:"hsla(210, 0%, 0%, 0.0)"}}),checkedIcon:e.jsx(Xo,{sx:{height:14,width:14}}),indeterminateIcon:e.jsx(Ko,{sx:{height:14,width:14}})},styleOverrides:{root:({theme:t})=>({margin:10,height:16,width:16,borderRadius:5,border:"1px solid ",borderColor:E(k[300],.8),boxShadow:"0 0 0 1.5px hsla(210, 0%, 0%, 0.04) inset",backgroundColor:E(k[100],.4),transition:"border-color, background-color, 120ms ease-in","&:hover":{borderColor:T[300]},"&.Mui-focusVisible":{outline:`3px solid ${E(T[500],.5)}`,outlineOffset:"2px",borderColor:T[400]},"&.Mui-checked":{color:"white",backgroundColor:T[500],borderColor:T[500],boxShadow:"none","&:hover":{backgroundColor:T[600]}},...t.applyStyles("dark",{borderColor:E(k[700],.8),boxShadow:"0 0 0 1.5px hsl(210, 0%, 0%) inset",backgroundColor:E(k[900],.8),"&:hover":{borderColor:T[300]},"&.Mui-focusVisible":{borderColor:T[400],outline:`3px solid ${E(T[500],.5)}`,outlineOffset:"2px"}})})}},MuiInputBase:{styleOverrides:{root:{border:"none"},input:{"&::placeholder":{opacity:.7,color:k[500]}}}},MuiOutlinedInput:{styleOverrides:{input:{padding:0},root:({theme:t})=>({padding:"8px 12px",color:t.palette.text.primary,borderRadius:t.shape.borderRadius,border:`1px solid ${t.palette.divider}`,backgroundColor:t.palette.background.default,transition:"border 120ms ease-in","&:hover":{borderColor:k[400]},[`&.${ks.focused}`]:{outline:`3px solid ${E(T[500],.5)}`,borderColor:T[400]},...t.applyStyles("dark",{"&:hover":{borderColor:k[500]}}),variants:[{props:{size:"small"},style:{height:"2.25rem"}},{props:{size:"medium"},style:{height:"2.5rem"}}]}),notchedOutline:{border:"none"}}},MuiInputAdornment:{styleOverrides:{root:({theme:t})=>({color:t.palette.grey[500],...t.applyStyles("dark",{color:t.palette.grey[400]})})}},MuiFormLabel:{styleOverrides:{root:({theme:t})=>({typography:t.typography.caption,marginBottom:8})}}},Fi={MuiList:{styleOverrides:{root:{padding:"8px",display:"flex",flexDirection:"column",gap:0}}},MuiListItem:{styleOverrides:{root:({theme:t})=>({[`& .${tt.root}`]:{width:"1rem",height:"1rem",color:t.palette.text.secondary},[`& .${Eo.root}`]:{fontWeight:500},[`& .${zr.root}`]:{display:"flex",gap:8,padding:"2px 8px",borderRadius:t.shape.borderRadius,opacity:.7,"&.Mui-selected":{opacity:1,backgroundColor:E(t.palette.action.selected,.3),[`& .${tt.root}`]:{color:t.palette.text.primary},"&:focus-visible":{backgroundColor:E(t.palette.action.selected,.3)},"&:hover":{backgroundColor:E(t.palette.action.selected,.5)}},"&:focus-visible":{backgroundColor:"transparent"}}})}},MuiListItemText:{styleOverrides:{primary:({theme:t})=>({fontSize:t.typography.body2.fontSize,fontWeight:500,lineHeight:t.typography.body2.lineHeight}),secondary:({theme:t})=>({fontSize:t.typography.caption.fontSize,lineHeight:t.typography.caption.lineHeight})}},MuiListSubheader:{styleOverrides:{root:({theme:t})=>({backgroundColor:"transparent",padding:"4px 8px",fontSize:t.typography.caption.fontSize,fontWeight:500,lineHeight:t.typography.caption.lineHeight})}},MuiListItemIcon:{styleOverrides:{root:{minWidth:0}}},MuiChip:{defaultProps:{size:"small"},styleOverrides:{root:({theme:t})=>({border:"1px solid",borderRadius:"999px",[`& .${ce.label}`]:{fontWeight:600},variants:[{props:{color:"default"},style:{borderColor:k[200],backgroundColor:k[100],[`& .${ce.label}`]:{color:k[500]},[`& .${ce.icon}`]:{color:k[500]},...t.applyStyles("dark",{borderColor:k[700],backgroundColor:k[800],[`& .${ce.label}`]:{color:k[300]},[`& .${ce.icon}`]:{color:k[300]}})}},{props:{color:"success"},style:{borderColor:pe[200],backgroundColor:pe[50],[`& .${ce.label}`]:{color:pe[500]},[`& .${ce.icon}`]:{color:pe[500]},...t.applyStyles("dark",{borderColor:pe[800],backgroundColor:pe[900],[`& .${ce.label}`]:{color:pe[300]},[`& .${ce.icon}`]:{color:pe[300]}})}},{props:{color:"error"},style:{borderColor:he[100],backgroundColor:he[50],[`& .${ce.label}`]:{color:he[500]},[`& .${ce.icon}`]:{color:he[500]},...t.applyStyles("dark",{borderColor:he[800],backgroundColor:he[900],[`& .${ce.label}`]:{color:he[200]},[`& .${ce.icon}`]:{color:he[300]}})}},{props:{size:"small"},style:{maxHeight:20,[`& .${ce.label}`]:{fontSize:t.typography.caption.fontSize},[`& .${tt.root}`]:{fontSize:t.typography.caption.fontSize}}},{props:{size:"medium"},style:{[`& .${ce.label}`]:{fontSize:t.typography.caption.fontSize}}}]})}},MuiTablePagination:{styleOverrides:{actions:{display:"flex",gap:8,marginRight:6,[`& .${Ds.root}`]:{minWidth:0,width:36,height:36}}}},MuiIcon:{defaultProps:{fontSize:"small"},styleOverrides:{root:{variants:[{props:{fontSize:"small"},style:{fontSize:"1rem"}}]}}}},Ui={MuiAlert:{styleOverrides:{root:({theme:t})=>({borderRadius:10,backgroundColor:ve[100],color:t.palette.text.primary,border:`1px solid ${E(ve[300],.5)}`,"& .MuiAlert-icon":{color:ve[500]},...t.applyStyles("dark",{backgroundColor:`${E(ve[900],.5)}`,border:`1px solid ${E(ve[800],.5)}`})})}},MuiDialog:{styleOverrides:{root:({theme:t})=>({"& .MuiDialog-paper":{borderRadius:"10px",border:"1px solid",borderColor:t.palette.divider}})}},MuiLinearProgress:{styleOverrides:{root:({theme:t})=>({height:8,borderRadius:8,backgroundColor:k[200],...t.applyStyles("dark",{backgroundColor:k[800]})})}}},Vi={MuiMenuItem:{styleOverrides:{root:({theme:t})=>({borderRadius:t.shape.borderRadius,padding:"6px 8px",[`&.${xt.focusVisible}`]:{backgroundColor:"transparent"},[`&.${xt.selected}`]:{[`&.${xt.focusVisible}`]:{backgroundColor:E(t.palette.action.selected,.3)}}})}},MuiMenu:{styleOverrides:{list:{gap:"0px",[`&.${Rs.root}`]:{margin:"0 -8px"}},paper:({theme:t})=>({marginTop:"4px",borderRadius:t.shape.borderRadius,border:`1px solid ${t.palette.divider}`,backgroundImage:"none",background:"hsl(0, 0%, 100%)",boxShadow:"hsla(220, 30%, 5%, 0.07) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.07) 0px 8px 16px -5px",[`& .${zr.root}`]:{"&.Mui-selected":{backgroundColor:E(t.palette.action.selected,.3)}},...t.applyStyles("dark",{background:k[900],boxShadow:"hsla(220, 30%, 5%, 0.7) 0px 4px 16px 0px, hsla(220, 25%, 10%, 0.8) 0px 8px 16px -5px"})})}},MuiSelect:{defaultProps:{IconComponent:d.forwardRef((t,r)=>e.jsx(es,{fontSize:"small",...t,ref:r}))},styleOverrides:{root:({theme:t})=>({borderRadius:t.shape.borderRadius,border:"1px solid",borderColor:k[200],backgroundColor:t.palette.background.paper,boxShadow:"inset 0 1px 0 1px hsla(220, 0%, 100%, 0.6), inset 0 -1px 0 1px hsla(220, 35%, 90%, 0.5)","&:hover":{borderColor:k[300],backgroundColor:t.palette.background.paper,boxShadow:"none"},[`&.${cr.focused}`]:{outlineOffset:0,borderColor:k[400]},"&:before, &:after":{display:"none"},...t.applyStyles("dark",{borderRadius:t.shape.borderRadius,borderColor:k[700],backgroundColor:t.palette.background.paper,boxShadow:`inset 0 1px 0 1px ${E(k[700],.15)}, inset 0 -1px 0 1px hsla(220, 0%, 0%, 0.7)`,"&:hover":{borderColor:E(k[700],.7),backgroundColor:t.palette.background.paper,boxShadow:"none"},[`&.${cr.focused}`]:{outlineOffset:0,borderColor:k[900]},"&:before, &:after":{display:"none"}})}),select:({theme:t})=>({display:"flex",alignItems:"center",...t.applyStyles("dark",{display:"flex",alignItems:"center","&:focus-visible":{backgroundColor:k[900]}})})}},MuiLink:{defaultProps:{underline:"none"},styleOverrides:{root:({theme:t})=>({color:t.palette.text.primary,fontWeight:500,position:"relative",textDecoration:"none",width:"fit-content","&::before":{content:'""',position:"absolute",width:"100%",height:"1px",bottom:0,left:0,backgroundColor:t.palette.text.secondary,opacity:.3,transition:"width 0.3s ease, opacity 0.3s ease"},"&:hover::before":{width:0},"&:focus-visible":{outline:`3px solid ${E(T[500],.5)}`,outlineOffset:"4px",borderRadius:"2px"}})}},MuiDrawer:{styleOverrides:{paper:({theme:t})=>({backgroundColor:t.palette.background.default})}},MuiPaginationItem:{styleOverrides:{root:({theme:t})=>({"&.Mui-selected":{color:"white",backgroundColor:t.palette.grey[900]},...t.applyStyles("dark",{"&.Mui-selected":{color:"black",backgroundColor:t.palette.grey[50]}})})}},MuiTabs:{styleOverrides:{root:{minHeight:"fit-content"},indicator:({theme:t})=>({backgroundColor:t.palette.grey[800],...t.applyStyles("dark",{backgroundColor:t.palette.grey[200]})})}},MuiTab:{styleOverrides:{root:({theme:t})=>({padding:"6px 8px",marginBottom:"8px",textTransform:"none",minWidth:"fit-content",minHeight:"fit-content",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius,border:"1px solid",borderColor:"transparent",":hover":{color:t.palette.text.primary,backgroundColor:k[100],borderColor:k[200]},[`&.${lr.selected}`]:{color:k[900]},...t.applyStyles("dark",{":hover":{color:t.palette.text.primary,backgroundColor:k[800],borderColor:k[700]},[`&.${lr.selected}`]:{color:"#fff"}})})}},MuiStepConnector:{styleOverrides:{line:({theme:t})=>({borderTop:"1px solid",borderColor:t.palette.divider,flex:1,borderRadius:"99px"})}},MuiStepIcon:{styleOverrides:{root:({theme:t})=>({color:"transparent",border:`1px solid ${k[400]}`,width:12,height:12,borderRadius:"50%","& text":{display:"none"},"&.Mui-active":{border:"none",color:t.palette.primary.main},"&.Mui-completed":{border:"none",color:t.palette.success.main},...t.applyStyles("dark",{border:`1px solid ${k[700]}`,"&.Mui-active":{border:"none",color:t.palette.primary.light},"&.Mui-completed":{border:"none",color:t.palette.success.light}}),variants:[{props:{completed:!0},style:{width:12,height:12}}]})}},MuiStepLabel:{styleOverrides:{label:({theme:t})=>({"&.Mui-completed":{opacity:.6,...t.applyStyles("dark",{opacity:.5})}})}}},Hi={MuiAccordion:{defaultProps:{elevation:0,disableGutters:!0},styleOverrides:{root:({theme:t})=>({padding:4,overflow:"clip",backgroundColor:t.palette.background.default,border:"1px solid",borderColor:t.palette.divider,":before":{backgroundColor:"transparent"},"&:not(:last-of-type)":{borderBottom:"none"},"&:first-of-type":{borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:t.shape.borderRadius,borderBottomRightRadius:t.shape.borderRadius}})}},MuiAccordionSummary:{styleOverrides:{root:({theme:t})=>({border:"none",borderRadius:8,"&:hover":{backgroundColor:k[50]},"&:focus-visible":{backgroundColor:"transparent"},...t.applyStyles("dark",{"&:hover":{backgroundColor:k[800]}})})}},MuiAccordionDetails:{styleOverrides:{root:{mb:20,border:"none"}}},MuiPaper:{defaultProps:{elevation:0}},MuiCard:{styleOverrides:{root:({theme:t})=>({padding:16,gap:16,transition:"all 100ms ease",backgroundColor:k[50],borderRadius:t.shape.borderRadius,border:`1px solid ${t.palette.divider}`,boxShadow:"none",...t.applyStyles("dark",{backgroundColor:k[800]}),variants:[{props:{variant:"outlined"},style:{border:`1px solid ${t.palette.divider}`,boxShadow:"none",background:"hsl(0, 0%, 100%)",...t.applyStyles("dark",{background:E(k[900],.4)})}}]})}},MuiCardContent:{styleOverrides:{root:{padding:0,"&:last-child":{paddingBottom:0}}}},MuiCardHeader:{styleOverrides:{root:{padding:0}}},MuiCardActions:{styleOverrides:{root:{padding:0}}}};function Gi({children:t,disableCustomTheme:r,themeComponents:n}){const o=d.useMemo(()=>r?{}:Mt({cssVariables:{colorSchemeSelector:"data-mui-color-scheme",cssVarPrefix:"template"},colorSchemes:Oi,shadows:Bi,shape:Li,components:{...Wi,...Fi,...Ui,...Vi,...Hi,...n}}),[r,n]);return r?e.jsx(d.Fragment,{children:t}):e.jsx(Is,{theme:o,disableTransitionOnChange:!0,children:t})}const qi=F(N)({margin:"2px"}),yt=d.forwardRef(({to:t,children:r,onClick:n},o)=>e.jsx(N,{component:$e,to:t,ref:o,onClick:n,children:r}));function _i(){const[t,r]=d.useState(null),{logout:n}=Ce(),o=!!t,s=l=>{r(l.currentTarget)},i=()=>{r(null)},a=()=>{n(),i()};return e.jsxs(e.Fragment,{children:[e.jsx(qt,{"aria-label":"Open menu",onClick:s,sx:{borderColor:"transparent"},children:e.jsx(ts,{})}),e.jsxs(Hr,{anchorEl:t,id:"menu",open:o,onClose:i,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},sx:{"& .MuiList-root":{padding:"4px"},"& .MuiPaper-root":{padding:0}},children:[e.jsx(yt,{to:"/profile",onClick:i,children:"Profile"}),e.jsx(ke,{}),e.jsx(yt,{to:"/settings",onClick:i,children:"Settings"}),e.jsx(yt,{to:"/feedback",onClick:i,children:"Feedback"}),e.jsx(ke,{}),e.jsxs(qi,{onClick:a,children:[e.jsx(Ur,{fontSize:"small"}),e.jsx(st,{children:"Logout"})]})]})]})}const Ir=240;function Yi(){const{user:t,viewRole:r}=Ce(),n=r?{userName:`Viewing as ${r}`,email:`${r.toLowerCase()}@example.com`,userType:r}:t;return e.jsxs(v,{sx:{display:"flex"},children:[e.jsx(Jr,{}),e.jsx(_r,{position:"fixed",sx:{zIndex:o=>o.zIndex.drawer+1}}),e.jsxs(Xr,{variant:"permanent",sx:{display:{xs:"none",md:"block"},width:Ir,flexShrink:0,"& .MuiDrawer-paper":{width:Ir,boxSizing:"border-box"}},children:[e.jsx(zt,{}),e.jsx(v,{sx:{overflow:"auto"},children:n&&e.jsxs(e.Fragment,{children:[e.jsxs(v,{sx:{display:"flex",alignItems:"center",p:2},children:[e.jsx(Je,{alt:n.userName,src:"/static/images/avatar/7.jpg",sx:{width:36,height:36}}),e.jsxs(v,{sx:{ml:2},children:[e.jsx(y,{variant:"body2",sx:{fontWeight:500,lineHeight:"16px"},children:n.userName}),e.jsx(y,{variant:"caption",sx:{color:"text.secondary"},children:n.email})]}),e.jsx(_i,{})]}),e.jsx(ke,{}),e.jsx(oo,{})]})})]})]})}const so=d.createContext(null),Ji=({children:t})=>{const r=d.useRef(null),n=(s,i="polite")=>{r.current&&(r.current.setAttribute("aria-live",i),r.current.textContent=s,setTimeout(()=>{r.current&&(r.current.textContent="")},1e3))},o=s=>{const i=document.querySelector(s);i&&(i.focus(),n(`Focused ${i.getAttribute("aria-label")||"element"}`))};return d.useEffect(()=>{const s=i=>{var a;if(i.altKey)switch(i.key){case"h":i.preventDefault(),o("#dashboard-home");break;case"m":i.preventDefault(),o("#main-content");break;case"n":i.preventDefault(),o('[role="navigation"]');break;case"s":i.preventDefault(),o('[role="search"]');break}i.key==="Escape"&&((a=document.querySelector('[role="dialog"] [aria-label="Close"]'))==null||a.click())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[]),e.jsxs(so.Provider,{value:{announce:n,focusElement:o},children:[e.jsx("div",{ref:r,"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}}),t]})},Zi=()=>{const t=d.useContext(so);if(!t)throw new Error("useAccessibility must be used within an AccessibilityProvider");return t},vt=({icon:t,title:r,description:n})=>e.jsxs(se,{elevation:3,sx:{p:3,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",transition:"all 0.3s ease","&:hover":{transform:"translateY(-10px)",boxShadow:6}},children:[e.jsx(Je,{sx:{mb:2,width:70,height:70,bgcolor:"primary.main"},children:t}),e.jsx(y,{variant:"h6",gutterBottom:!0,children:r}),e.jsx(y,{variant:"body2",color:"text.secondary",children:n})]}),Ki=()=>{const t=We();return e.jsx(v,{sx:{background:"linear-gradient(135deg, #f0f4f8 0%, #ffffff 100%)",minHeight:"100vh",pt:{xs:4,md:8}},children:e.jsxs(Ne,{maxWidth:"lg",children:[e.jsxs(v,{sx:{textAlign:"center",mb:6,p:{xs:2,md:6},borderRadius:3,background:"rgba(255,255,255,0.8)",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.1)",backdropFilter:"blur(4px)",opacity:1,transition:"opacity 0.5s ease","@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},animation:"fadeIn 0.8s ease-out"},children:[e.jsx(y,{variant:"h2",component:"h1",sx:{mb:3,fontWeight:700,background:"linear-gradient(45deg, #1976d2, #42a5f5)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Git Gud Drivers"}),e.jsx(y,{variant:"h5",color:"text.primary",sx:{mb:4,maxWidth:600,mx:"auto"},children:"Empowering professional drivers through a comprehensive rewards program that recognizes excellence and drives continuous improvement."}),e.jsxs(v,{children:[e.jsx(G,{variant:"contained",size:"large",onClick:()=>t("/register"),sx:{mr:2,px:4,py:1.5,borderRadius:3,textTransform:"none",boxShadow:"0 4px 14px 0 rgba(0, 0, 0, 0.1)",transition:"transform 0.2s ease","&:hover":{transform:"scale(1.05)"}},children:"Join Now"}),e.jsx(G,{variant:"outlined",size:"large",onClick:()=>t("/login"),sx:{px:4,py:1.5,borderRadius:3,textTransform:"none",borderColor:"primary.main",color:"primary.main",transition:"transform 0.2s ease","&:hover":{transform:"scale(1.05)"}},children:"Sign In"})]})]}),e.jsxs($,{container:!0,spacing:4,sx:{mb:6},children:[e.jsx($,{item:!0,xs:12,children:e.jsx(y,{variant:"h4",align:"center",gutterBottom:!0,sx:{mb:4,fontWeight:600,color:"primary.main"},children:"How Git Gud Drivers Works"})}),e.jsx($,{item:!0,xs:12,md:4,children:e.jsx(vt,{icon:e.jsx(rs,{fontSize:"large"}),title:"Professional Drivers",description:"A dedicated platform for drivers committed to delivering exceptional service and continuous improvement."})}),e.jsx($,{item:!0,xs:12,md:4,children:e.jsx(vt,{icon:e.jsx(os,{fontSize:"large"}),title:"Reward System",description:"Earn points for safe driving, customer satisfaction, and professional excellence."})}),e.jsx($,{item:!0,xs:12,md:4,children:e.jsx(vt,{icon:e.jsx(ss,{fontSize:"large"}),title:"Simple Process",description:"Easy onboarding, transparent tracking, and meaningful rewards for your hard work."})})]}),e.jsxs(v,{sx:{bgcolor:"background.paper",borderRadius:3,p:{xs:2,md:4},boxShadow:3},children:[e.jsx(y,{variant:"h5",align:"center",gutterBottom:!0,sx:{mb:4,color:"primary.main"},children:"Your Journey in 4 Simple Steps"}),e.jsx($,{container:!0,spacing:3,children:["Apply as a professional driver","Get approved by a sponsor","Start earning performance points","Redeem exciting rewards"].map((r,n)=>e.jsxs($,{item:!0,xs:12,md:3,children:[e.jsxs(v,{sx:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[e.jsx(Je,{sx:{mr:2,bgcolor:"primary.light",color:"primary.contrastText"},children:n+1}),e.jsx(y,{children:r})]}),n<3&&e.jsx(ke,{orientation:"horizontal",flexItem:!0,sx:{my:2,display:{xs:"none",md:"flex"}}})]},r))})]})]})})},et=({icon:t,title:r,value:n})=>e.jsxs($,{item:!0,xs:12,sx:{display:"flex",alignItems:"center",p:2,borderBottom:"1px solid",borderColor:"divider",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"action.hover"}},children:[e.jsx(v,{sx:{mr:3,color:"primary.main",display:"flex",alignItems:"center"},children:t}),e.jsxs(v,{children:[e.jsx(y,{variant:"subtitle1",fontWeight:"bold",color:"text.secondary",children:r}),e.jsx(y,{variant:"body1",children:n})]})]}),Xi=()=>{const[t,r]=d.useState(null),[n,o]=d.useState(null),[s,i]=d.useState(!0);return d.useEffect(()=>{(async()=>{try{const l=await B.get("/api/system/about",{withCredentials:!0});r(l.data)}catch(l){o(l.message)}finally{i(!1)}})()},[]),n?e.jsx(Ne,{maxWidth:"sm",children:e.jsxs(se,{elevation:3,sx:{p:3,mt:4,textAlign:"center",backgroundColor:"error.light",color:"error.contrastText"},children:[e.jsx(y,{variant:"h6",children:"Error Loading Information"}),e.jsx(y,{children:n})]})}):e.jsx(Ne,{maxWidth:"md",children:e.jsx($o,{in:!s,timeout:500,children:e.jsxs(se,{elevation:4,sx:{p:4,mt:4,borderRadius:2,background:"linear-gradient(145deg, #f0f4f8 0%, #ffffff 100%)"},children:[e.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,sx:{textAlign:"center",mb:4,fontWeight:600,color:"primary.main"},children:"About Our Product"}),s?e.jsxs(e.Fragment,{children:[e.jsx(mt,{variant:"rectangular",width:"100%",height:60,sx:{mb:2}}),e.jsx(mt,{variant:"rectangular",width:"100%",height:60,sx:{mb:2}}),e.jsx(mt,{variant:"rectangular",width:"100%",height:60})]}):e.jsxs($,{container:!0,spacing:2,children:[e.jsx(et,{icon:e.jsx(rr,{}),title:"Team",value:(t==null?void 0:t.team)||"N/A"}),e.jsx(et,{icon:e.jsx(ns,{}),title:"Version",value:(t==null?void 0:t.version.toString())||"N/A"}),e.jsx(et,{icon:e.jsx(as,{}),title:"Release Date",value:t?new Date(t.release).toLocaleDateString():"N/A"}),e.jsx(et,{icon:e.jsx(rr,{}),title:"Product",value:(t==null?void 0:t.product)||"N/A"}),e.jsxs($,{item:!0,xs:12,sx:{p:2,backgroundColor:"background.default",borderRadius:1},children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Description"}),e.jsx(y,{variant:"body1",children:(t==null?void 0:t.description)||"No description available."})]})]})]})})})},Qi=()=>{const t=We(),r=Br(),{checkAuth:n}=Ce(),o=new URLSearchParams(r.search),s=o.get("step")==="2fa"?"2fa":"login",i=o.get("userId"),[a,l]=d.useState(s),[c,u]=d.useState(i||null),[x,m]=d.useState(!1),[p,g]=d.useState(""),[b,j]=d.useState(""),[h,f]=d.useState(""),[S,C]=d.useState(null);d.useEffect(()=>{s==="2fa"&&i&&(l("2fa"),u(i))},[s,i]);const P=async z=>{var I,V;z.preventDefault(),m(!0),C(null);try{const D=await B.post("/api/system/login",{username:p,password:b});D.data.requiresTwoFactor?(l("2fa"),u(D.data.userId.toString()),t(`/login?step=2fa&userId=${D.data.userId}`,{replace:!0})):D.data.succeeded?(await n(),t("/dashboard")):C(D.data.message||"Login failed. Please try again.")}catch(D){C(((V=(I=D.response)==null?void 0:I.data)==null?void 0:V.message)||"Login failed. Please try again.")}finally{m(!1)}},O=async z=>{var I,V;z.preventDefault(),m(!0);try{const D=await B.post("/api/system/verify-2fa",{userId:String(c),code:h},{withCredentials:!0});D.data.succeeded?(await n(),t("/dashboard")):C(D.data.message||"Invalid 2FA code. Please try again.")}catch(D){C(((V=(I=D.response)==null?void 0:I.data)==null?void 0:V.message)||"2FA verification failed. Please try again.")}finally{m(!1)}};return e.jsxs(v,{component:"form",onSubmit:a==="login"?P:O,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,margin:"auto",padding:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,children:a==="login"?"Login":"2FA Verification"}),S&&e.jsx(le,{severity:"error",sx:{mb:2},children:S}),a==="login"?e.jsxs(e.Fragment,{children:[e.jsx(U,{label:"Username",variant:"outlined",margin:"normal",fullWidth:!0,autoComplete:"username",value:p,onChange:z=>g(z.target.value),required:!0}),e.jsx(U,{label:"Password",type:"password",variant:"outlined",margin:"normal",fullWidth:!0,autoComplete:"current-password",value:b,onChange:z=>j(z.target.value),required:!0})]}):e.jsx(U,{label:"2FA Code",variant:"outlined",margin:"normal",fullWidth:!0,value:h,onChange:z=>f(z.target.value),required:!0}),e.jsx(G,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,sx:{mt:3,mb:2},disabled:x,children:x?e.jsx(Ee,{size:24}):a==="login"?"Log In":"Verify 2FA"}),a==="login"&&e.jsxs(v,{sx:{textAlign:"center",mt:2},children:[e.jsx(At,{component:$e,to:"/register",variant:"body2",sx:{display:"block",mb:1},children:"Don't have an account? Sign Up"}),e.jsx(At,{component:$e,to:"/reset-password",variant:"body2",children:"Forgot Password? Click here to Reset it"})]})]})},el=t=>{const[r,n]=d.useState(0);return d.useEffect(()=>{n((s=>{let i=0;return s.length>=8&&(i+=1),/[A-Z]/.test(s)&&(i+=1),/[0-9]/.test(s)&&(i+=1),/[^A-Za-z0-9]/.test(s)&&(i+=1),i/4*100})(t))},[t]),r},tl=t=>t.length<8?"Password must be at least 8 characters long.":/[A-Z]/.test(t)?/[0-9]/.test(t)?/[^A-Za-z0-9]/.test(t)?null:"Password must contain at least one special character.":"Password must contain at least one number.":"Password must contain at least one uppercase letter.",rl=()=>{const[t,r]=d.useState(""),[n,o]=d.useState(""),[s,i]=d.useState(""),[a,l]=d.useState(!1),[c,u]=d.useState(!1),[x,m]=d.useState(null),[p,g]=d.useState(null),b=el(s),j=We(),h=async S=>{var P,O;S.preventDefault(),m(null),g(null);const C=tl(s);if(C){g(C);return}u(!0);try{const z=await B.post("/api/system/register",{username:t,email:n,password:s,enable2FA:a}),I=await B.post("/api/system/login",{username:t,password:s});z.data.requiresTwoFactor?j(`/login?step=2fa&userId=${z.data.userId}`):j("/dashboard")}catch(z){m(((O=(P=z.response)==null?void 0:P.data)==null?void 0:O.message)||"Registration failed. Please try again.")}finally{u(!1)}},f=S=>S<33?"error":S<66?"warning":"success";return e.jsxs(v,{component:"form",onSubmit:h,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,margin:"auto",padding:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,children:"Create Account"}),x&&e.jsx(le,{severity:"error",children:x}),p&&e.jsx(le,{severity:"warning",children:p}),e.jsx(U,{label:"Username",variant:"outlined",margin:"normal",fullWidth:!0,value:t,onChange:S=>r(S.target.value),required:!0}),e.jsx(U,{label:"Email",type:"email",variant:"outlined",margin:"normal",fullWidth:!0,value:n,onChange:S=>o(S.target.value),required:!0}),e.jsx(U,{label:"Password",type:"password",variant:"outlined",margin:"normal",fullWidth:!0,value:s,onChange:S=>i(S.target.value),required:!0}),e.jsxs(v,{sx:{width:"100%",mt:1},children:[e.jsx(De,{variant:"determinate",value:b,color:f(b)}),e.jsxs(y,{variant:"body2",sx:{mt:1},children:["Password strength: ",b<33?"Weak":b<66?"Medium":"Strong"]})]}),e.jsx(lt,{control:e.jsx(Bt,{checked:a,onChange:S=>l(S.target.checked),color:"primary"}),label:"Enable Two-Factor Authentication (2FA)"}),e.jsx(G,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,sx:{mt:3,mb:2},disabled:c,children:c?e.jsx(Ee,{size:24}):"Register"}),e.jsx(At,{component:$e,to:"/login",variant:"body2",children:"Already have an account? Sign in"})]})},ol=()=>{const[t,r]=d.useState([]),[n,o]=d.useState([]),[s,i]=d.useState(""),[a,l]=d.useState(!0),[c,u]=d.useState(null),[x,m]=d.useState(null),[p,g]=d.useState(!1);d.useEffect(()=>{b()},[]);const b=async()=>{var S;try{const C=await B.get("/api/driver/available-sponsors",{withCredentials:!0});r(Array.isArray(C.data)?C.data:[]),u(null)}catch(C){if(B.isAxiosError(C)){const P=((S=C.response)==null?void 0:S.data)||"Failed to load sponsors. Please try again later.";u(typeof P=="string"?P:"An error occurred.")}else u("Failed to load sponsors. Please try again later.");r([])}finally{l(!1)}},j=S=>{o(C=>C.includes(S)?C.filter(P=>P!==S):[...C,S])},h=async()=>{var S;if(n.length===0){u("Please select at least one sponsor");return}if(!s.trim()){u("Please provide a reason for your application");return}g(!0),u(null),m(null);try{const C={sponsorIds:n,reason:s},P=await B.post("/api/driverapp/apply",C,{withCredentials:!0,headers:{"Content-Type":"application/json"}});m(P.data.message||"Application submitted successfully!"),o([]),i("")}catch(C){if(B.isAxiosError(C)){const P=((S=C.response)==null?void 0:S.data)||"Failed to submit application. Please try again.";u(typeof P=="string"?P:"Submission failed.")}else u("Failed to submit application. Please try again.")}finally{g(!1)}},f=d.useMemo(()=>t.map(S=>e.jsxs(v,{sx:{mb:2},children:[e.jsx(lt,{control:e.jsx(Bt,{checked:n.includes(S.sponsorID),onChange:()=>j(S.sponsorID),color:"primary"}),label:e.jsxs(be,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(is,{color:"action"}),e.jsx(y,{children:S.companyName}),e.jsx(Ye,{icon:e.jsx(Vr,{}),label:`$${S.pointDollarValue.toFixed(2)} per point`,size:"small",color:"primary",variant:"outlined"})]})}),e.jsx(ke,{sx:{ml:7,my:1}})]},S.sponsorID)),[t,n]);return a?e.jsx(v,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsx(Ee,{})}):e.jsxs(v,{sx:{maxWidth:800,mx:"auto",p:2},children:[e.jsx(y,{variant:"h5",component:"h1",gutterBottom:!0,children:"Driver Application"}),e.jsx(ae,{sx:{mb:2,bgcolor:"background.paper"},children:e.jsxs(ie,{children:[e.jsxs(be,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[e.jsx(y,{variant:"subtitle1",children:"Available Reward Programs"}),e.jsx(Wt,{title:"Select multiple sponsors to join their reward programs",children:e.jsx(xe,{size:"small",children:e.jsx(ls,{color:"action",fontSize:"small"})})})]}),c&&e.jsx(le,{severity:"error",sx:{mb:2},children:c}),x&&e.jsx(le,{severity:"success",sx:{mb:2},children:x}),e.jsx(Ta,{children:t.length===0?e.jsx(y,{color:"text.secondary",children:"No available sponsors found."}):f}),e.jsx(U,{label:"Reason for Application",multiline:!0,rows:4,value:s,onChange:S=>i(S.target.value),fullWidth:!0,margin:"normal",variant:"outlined"}),e.jsx(G,{variant:"contained",color:"primary",onClick:h,disabled:n.length===0||!s.trim()||p,sx:{mt:2},children:p?e.jsx(Ee,{size:24,color:"inherit"}):`Submit Application (${n.length} Sponsor${n.length!==1?"s":""})`})]})})]})},sl={0:"Submitted",1:"Approved",2:"Rejected"},nl=()=>{const[t,r]=d.useState([]),[n,o]=d.useState(!0),[s,i]=d.useState(null),a=async()=>{var p;try{const g=await B.get("/api/sponsor/applications");r(g.data)}catch(g){i(((p=g.response)==null?void 0:p.data)||"Failed to load applications.")}finally{o(!1)}};d.useEffect(()=>{a()},[]);const l=async(p,g)=>{var b;try{await B.post(`/api/sponsor/applications/${p}/process?action=${g}`),r(j=>j.map(h=>h.applicationID===p?{...h,status:g==="approve"?1:2}:h))}catch(j){i(((b=j.response)==null?void 0:b.data)||`Failed to ${g} application.`)}};if(n)return e.jsx(Ee,{});if(s)return e.jsx(le,{severity:"error",children:s});const c=t.filter(p=>p.status===0),u=t.filter(p=>p.status===1),x=t.filter(p=>p.status===2),m=(p,g)=>p.length>0?p.map(b=>e.jsx(fe,{size:{xs:12,sm:6,md:4},children:e.jsx(ae,{children:e.jsxs(ie,{children:[e.jsxs(y,{variant:"subtitle1",children:["Application ID: ",b.applicationID]}),e.jsxs(y,{children:["User ID: ",b.userID]}),e.jsxs(y,{children:["Apply Date: ",b.applyDate]}),e.jsxs(y,{children:["Status: ",sl[b.status]]}),b.status===0&&e.jsxs(e.Fragment,{children:[e.jsx(G,{color:"primary",variant:"contained",onClick:()=>l(b.applicationID,"approve"),children:"Approve"}),e.jsx(G,{color:"secondary",variant:"contained",onClick:()=>l(b.applicationID,"reject"),sx:{ml:1},children:"Reject"})]})]})})},b.applicationID)):e.jsx(y,{variant:"body2",color:"textSecondary",sx:{mt:2},children:g});return e.jsxs(Ne,{children:[e.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,children:"Driver Applications"}),e.jsxs(v,{children:[e.jsx(y,{variant:"h6",children:"Submitted Applications"}),e.jsx(ke,{sx:{mb:2}}),e.jsx(fe,{container:!0,spacing:2,style:{maxHeight:"300px",overflowY:"auto"},children:m(c,"No pending applications")})]}),e.jsxs(v,{sx:{mt:4},children:[e.jsx(y,{variant:"h6",children:"Approved Applications"}),e.jsx(ke,{sx:{mb:2}}),e.jsx(fe,{container:!0,spacing:2,style:{maxHeight:"300px",overflowY:"auto"},children:m(u,"No approved applications")})]}),e.jsxs(v,{sx:{mt:4},children:[e.jsx(y,{variant:"h6",children:"Rejected Applications"}),e.jsx(ke,{sx:{mb:2}}),e.jsx(fe,{container:!0,spacing:2,style:{maxHeight:"300px",overflowY:"auto"},children:m(x,"No rejected applications")})]})]})},al=(t="Driver")=>{switch(t){case"Admin":return[{check:r=>r.length>=20,message:"At least 20 characters long"},{check:r=>/[0-9]/.test(r),message:"Contains at least one digit"},{check:r=>/[a-z]/.test(r),message:"Contains at least one lowercase letter"},{check:r=>/[A-Z]/.test(r),message:"Contains at least one uppercase letter"},{check:r=>/[^A-Za-z0-9]/.test(r),message:"Contains at least three symbols"},{check:r=>new Set(r).size>=3,message:"Contains at least 3 unique characters"},{check:r=>/^(?=.*[!@#$%^&*])(?=.*[0-9])(?=.*[A-Z]).*$/.test(r),message:"Combination of numbers, symbols, and uppercase"}];case"Driver":return[{check:r=>r.length>=8,message:"At least 8 characters long"},{check:r=>/[0-9]/.test(r),message:"Contains at least one digit"},{check:r=>/[a-z]/.test(r),message:"Contains at least one lowercase letter"},{check:r=>/[A-Z]/.test(r),message:"Contains at least one uppercase letter"},{check:r=>/[^A-Za-z0-9]/.test(r),message:"Contains at least one special character"},{check:r=>new Set(r).size>=1,message:"Contains at least 1 unique character"}];default:return[{check:r=>r.length>=6,message:"At least 6 characters long"},{check:r=>/[0-9]/.test(r),message:"Contains at least one digit"},{check:r=>/[a-zA-Z]/.test(r),message:"Contains at least one letter"},{check:r=>new Set(r).size>=1,message:"Contains at least 1 unique character"}]}},no=()=>{const[t,r]=d.useState(""),[n,o]=d.useState(""),[s,i]=d.useState(""),[a,l]=d.useState(""),[c,u]=d.useState(!1),[x,m]=d.useState(!1),[p,g]=d.useState("Driver");d.useEffect(()=>{(async()=>{try{const S=await B.get("/api/user/currentuser");g(S.data.userType)}catch{}})()},[]);const b=al(p),j=f=>b.every(S=>S.check(f)),h=async f=>{var S,C;if(f.preventDefault(),l(""),u(!1),m(!0),n!==s){l("New passwords do not match"),m(!1);return}if(!j(n)){l("New password does not meet all requirements"),m(!1);return}try{const P=await B.post("/api/user/change-password",{currentPassword:t,newPassword:n});u(!0),r(""),o(""),i("")}catch(P){B.isAxiosError(P)?l(((C=(S=P.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to change password"):l("An unexpected error occurred")}finally{m(!1)}};return e.jsxs(v,{sx:{width:"100%",maxWidth:400,margin:"auto",mt:4},children:[e.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,children:"Change Password"}),a&&e.jsx(le,{severity:"error",sx:{mt:2,mb:2},children:a}),c&&e.jsx(le,{severity:"success",sx:{mt:2,mb:2},children:"Password changed successfully!"}),e.jsxs(v,{component:"form",onSubmit:h,noValidate:!0,sx:{mt:1},children:[e.jsx(U,{margin:"normal",required:!0,fullWidth:!0,name:"currentPassword",label:"Current Password",type:"password",id:"currentPassword",autoComplete:"current-password",value:t,onChange:f=>r(f.target.value)}),e.jsx(U,{margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:"New Password",type:"password",id:"newPassword",autoComplete:"new-password",value:n,onChange:f=>o(f.target.value)}),e.jsx(U,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm New Password",type:"password",id:"confirmPassword",autoComplete:"new-password",value:s,onChange:f=>i(f.target.value)}),e.jsxs(v,{sx:{mt:4},children:[e.jsxs(y,{variant:"h6",children:["Password Requirements for ",p,":"]}),b.map((f,S)=>e.jsxs(v,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(v,{sx:{flexGrow:1,mr:1},children:e.jsx(De,{variant:"determinate",value:f.check(n)?100:0,color:f.check(n)?"success":"error"})}),e.jsx(v,{sx:{minWidth:200},children:e.jsx(y,{variant:"body2",color:"text.secondary",children:f.message})})]},S))]}),e.jsx(G,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:x,children:x?e.jsx(Ee,{size:24}):"Change Password"})]})]})},il=()=>{const[t,r]=d.useState([]),[n,o]=d.useState(null),[s,i]=d.useState(""),[a,l]=d.useState(!0),[c,u]=d.useState("");d.useEffect(()=>{x()},[]),d.useEffect(()=>{s&&m(s)},[s]);const x=async()=>{try{l(!0);const h=await B.get("/api/driver/my-sponsors");r(h.data),h.data.length>0&&!s&&i(h.data[0].sponsorId),u("")}catch{u("Failed to load sponsor points data")}finally{l(!1)}},m=async h=>{try{const f=await B.get(`/api/driver/sponsor-points/${h}`);o(f.data)}catch{}},p=h=>{i(h.target.value)};if(a)return e.jsx(v,{sx:{width:"100%",mt:2},children:e.jsx(De,{})});if(c)return e.jsx(y,{color:"error",sx:{mt:2},children:c});if(t.length===0)return e.jsx(y,{sx:{mt:2},children:"You are not currently registered with any sponsors."});const g=t.find(h=>h.sponsorId===s),b=t.map(h=>({id:h.sponsorId,value:h.totalPoints,label:h.sponsorName})),j=(n==null?void 0:n.pointsHistory.map(h=>({date:new Date(h.date).toLocaleDateString(),points:h.points,reason:h.reason})).reverse())||[];return e.jsxs(v,{sx:{width:"100%",mb:2,mt:2},children:[e.jsxs(Se,{fullWidth:!0,sx:{mb:2},children:[e.jsx(we,{children:"Select Sponsor"}),e.jsx(ue,{value:s,label:"Select Sponsor",onChange:p,children:t.map(h=>e.jsx(N,{value:h.sponsorId,children:h.sponsorName},h.sponsorId))})]}),e.jsxs($,{container:!0,spacing:3,children:[e.jsx($,{item:!0,xs:12,children:e.jsx(se,{children:e.jsx(Ae,{children:e.jsxs(Ie,{"aria-label":"sponsor points details",children:[e.jsx(Te,{children:e.jsxs(te,{children:[e.jsx(w,{children:"Sponsor"}),e.jsx(w,{align:"right",children:"Total Points"}),e.jsx(w,{align:"right",children:"Point Value ($)"}),e.jsx(w,{align:"right",children:"Total Value ($)"})]})}),e.jsx(Pe,{children:g&&e.jsxs(te,{children:[e.jsx(w,{children:g.sponsorName}),e.jsx(w,{align:"right",children:g.totalPoints.toLocaleString()}),e.jsxs(w,{align:"right",children:["$",g.pointDollarValue.toFixed(2)]}),e.jsxs(w,{align:"right",children:["$",(g.totalPoints*g.pointDollarValue).toFixed(2)]})]})})]})})})}),e.jsx($,{item:!0,xs:12,md:6,children:e.jsxs(se,{sx:{p:2},children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Points Distribution Across Sponsors"}),e.jsx(v,{sx:{width:"100%",height:300},children:e.jsx(ct,{series:[{data:b,highlightScope:{faded:"global",highlighted:"item"},faded:{innerRadius:30,additionalRadius:-30}}],height:300})})]})}),e.jsx($,{item:!0,xs:12,md:6,children:e.jsxs(se,{sx:{p:2},children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Recent Points History"}),j.length>0?e.jsx(v,{sx:{width:"100%",height:300},children:e.jsx(Ft,{xAxis:[{scaleType:"band",data:j.map(h=>h.date),label:"Date"}],series:[{data:j.map(h=>h.points),label:"Points"}],height:300,tooltip:{trigger:"item"}})}):e.jsx(y,{children:"No history data available"})]})})]})]})},ll=()=>{const[t,r]=d.useState(null),[n,o]=d.useState(!0),[s,i]=d.useState("");return d.useEffect(()=>{(async()=>{try{o(!0);const l=await B.get("/api/driver/activity");r(l.data)}catch{i("Failed to load driver activity")}finally{o(!1)}})()},[]),n?e.jsx(De,{}):s?e.jsx(y,{color:"error",children:s}):t?e.jsxs(v,{sx:{p:3},children:[t.pointValue&&e.jsx(ae,{sx:{mb:4},children:e.jsxs(ie,{children:[e.jsxs(y,{variant:"h6",gutterBottom:!0,children:["Points Value - ",t.pointValue.sponsorName||"Unknown Sponsor"]}),e.jsxs(y,{children:["Current Balance: ",t.pointValue.totalPoints.toLocaleString()," points"]}),e.jsxs(y,{children:["Point Value: $",t.pointValue.pointValue.toFixed(2)," each"]}),e.jsxs(y,{variant:"h5",sx:{mt:2},children:["Total Value: $",t.pointValue.totalValue.toFixed(2)]})]})}),e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Activity History"}),e.jsx(Ae,{component:se,children:e.jsxs(Ie,{children:[e.jsx(Te,{children:e.jsxs(te,{children:[e.jsx(w,{children:"Date"}),e.jsx(w,{children:"Type"}),e.jsx(w,{children:"Points"}),e.jsx(w,{children:"Details"}),e.jsx(w,{children:"Status"})]})}),e.jsx(Pe,{children:t.transactions&&t.transactions.length>0?t.transactions.map((a,l)=>e.jsxs(te,{children:[e.jsx(w,{children:a.date?new Date(a.date).toLocaleDateString():"N/A"}),e.jsx(w,{children:a.type}),e.jsxs(w,{sx:{color:a.points>0?"success.main":"error.main"},children:[a.points>0?"+":"",a.points]}),e.jsx(w,{children:a.reason}),e.jsx(w,{children:a.status&&e.jsx(Ye,{label:a.status,color:a.status==="Ordered"?"success":a.status==="Cancelled"?"error":"default",size:"small"})})]},l)):e.jsx(te,{children:e.jsx(w,{colSpan:5,align:"center",children:"No transactions available"})})})]})})]}):null};function bt({icon:t,title:r,value:n,description:o}){return e.jsx(ae,{sx:{height:"100%"},children:e.jsxs(ie,{children:[e.jsx(t,{sx:{color:"primary.main",mb:1}}),e.jsx(y,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600",mb:1},children:r}),e.jsx(y,{variant:"h4",sx:{mb:1},children:n}),e.jsx(y,{sx:{color:"text.secondary",mb:1},children:o})]})})}function cl(){const t=Me(),r=Ps(t.breakpoints.down("sm")),[n,o]=d.useState([]),[s,i]=d.useState(null),[a,l]=d.useState(!0),[c,u]=d.useState(null),[x,m]=d.useState({}),[p,g]=d.useState(!1),[b,j]=d.useState(""),[h,f]=d.useState({open:!1,message:"",severity:"success"});d.useEffect(()=>{(async()=>{try{l(!0);const A=await fetch("/api/sponsor/drivers",{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch drivers");const L=await A.json();o(L);const _=await fetch("/api/sponsor/point-ratio",{credentials:"include"});if(!_.ok)throw new Error("Failed to fetch point ratio");const M=await _.json();i(M)}catch(A){u(A instanceof Error?A.message:"An error occurred while fetching data")}finally{l(!1)}})()},[]);const S=async()=>{if(s)try{const D=await fetch("/api/sponsor/point-value",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(parseFloat(b))});if(!D.ok)throw new Error("Failed to update point value");const A=await D.json();i(L=>L?{...L,pointDollarValue:parseFloat(b)}:null),g(!1),f({open:!0,message:"Point value updated successfully",severity:"success"})}catch(D){f({open:!0,message:D instanceof Error?D.message:"Failed to update point value",severity:"error"})}},C=async(D,A)=>{if(s)try{const L=await fetch(`/api/sponsor/driver/${D}/points`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(A)});if(!L.ok)throw new Error("Failed to update driver points");const _=await L.json();o(M=>M.map(R=>R.userID===D?{...R,totalPoints:A}:R)),m(M=>{const R={...M};return delete R[D],R}),f({open:!0,message:"Points updated successfully",severity:"success"})}catch(L){f({open:!0,message:L instanceof Error?L.message:"Failed to update points",severity:"error"})}},P=(s==null?void 0:s.pointDollarValue)!==void 0?`$${s.pointDollarValue.toFixed(2)}`:"$0.00";if(a)return e.jsx(v,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,children:e.jsx(Ee,{})});if(c)return e.jsx(le,{severity:"error",sx:{mb:2},children:c});const O=n.reduce((D,A)=>D+A.totalPoints,0),z=[...n].sort((D,A)=>A.totalPoints-D.totalPoints),I=Math.max(...n.map(D=>D.totalPoints)),V=n.map(D=>({id:D.userID,value:D.totalPoints,label:D.email}));return e.jsxs(v,{sx:{width:"100%"},children:[e.jsx(y,{component:"h2",variant:"h6",sx:{mb:2},children:"Sponsored Drivers Overview"}),e.jsxs(fe,{container:!0,spacing:2,columns:12,children:[e.jsx(fe,{size:{xs:12,lg:3},children:e.jsxs(be,{gap:2,direction:{xs:"column",sm:"row",lg:"column"},children:[e.jsx(bt,{icon:or,title:"Active Drivers",value:n.length.toString(),description:"Currently sponsored drivers"}),e.jsx(bt,{icon:cs,title:"Total Points",value:O.toLocaleString(),description:"Accumulated driver points"}),e.jsx(bt,{icon:Vr,title:"Point Value",value:P,description:e.jsx(G,{size:"small",startIcon:e.jsx(sr,{}),onClick:()=>{j((s==null?void 0:s.pointDollarValue.toString())||"0.00"),g(!0)},children:"Update Value"})})]})}),e.jsx(fe,{size:{xs:12,lg:9},children:e.jsx(ae,{sx:{height:"100%"},children:e.jsx(ie,{children:n.length===0?e.jsx(v,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200,children:e.jsx(y,{color:"text.secondary",children:"No drivers found under your sponsorship."})}):e.jsx(Ae,{children:e.jsxs(Ie,{sx:{minWidth:650},children:[e.jsx(Te,{children:e.jsxs(te,{children:[e.jsx(w,{children:"Driver ID"}),e.jsx(w,{children:"Email"}),e.jsx(w,{align:"right",children:"Points"}),e.jsx(w,{align:"right",children:"Progress"})]})}),e.jsx(Pe,{children:n.map(D=>e.jsxs(te,{children:[e.jsx(w,{component:"th",scope:"row",children:D.userID}),e.jsx(w,{children:D.email}),e.jsx(w,{align:"right",children:x[D.userID]!==void 0?e.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"flex-end"},children:[e.jsx(U,{size:"small",type:"number",value:x[D.userID],onChange:A=>m(L=>({...L,[D.userID]:parseInt(A.target.value)||0})),inputProps:{min:0}}),e.jsx(xe,{size:"small",color:"primary",onClick:()=>C(D.userID,x[D.userID]),children:e.jsx(ds,{})}),e.jsx(xe,{size:"small",color:"error",onClick:()=>m(A=>{const L={...A};return delete L[D.userID],L}),children:e.jsx(us,{})})]}):e.jsxs(v,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:1},children:[D.totalPoints.toLocaleString(),e.jsx(xe,{size:"small",onClick:()=>m(A=>({...A,[D.userID]:D.totalPoints})),children:e.jsx(sr,{})})]})}),e.jsx(w,{align:"right",sx:{width:"30%"},children:e.jsxs(v,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(v,{sx:{width:"100%",mr:1},children:e.jsx(De,{variant:"determinate",value:D.totalPoints/I*100})}),e.jsxs(y,{variant:"body2",color:"text.secondary",children:[Math.round(D.totalPoints/I*100),"%"]})]})})]},D.userID))})]})})})})}),n.length>0&&e.jsx(fe,{size:12,children:e.jsx(ae,{sx:{mt:2},children:e.jsxs(ie,{children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Points Distribution"}),e.jsx(v,{sx:{height:400},children:e.jsx(ct,{series:[{data:V,highlightScope:{faded:"global",highlighted:"item"}}],height:350})})]})})}),n.length>0&&e.jsx(fe,{size:12,children:e.jsx(ae,{sx:{mt:2},children:e.jsxs(ie,{children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Driver Leaderboard"}),e.jsx(Ae,{children:e.jsxs(Ie,{children:[e.jsx(Te,{children:e.jsxs(te,{children:[e.jsx(w,{children:"Rank"}),e.jsx(w,{children:"Driver"}),e.jsx(w,{align:"right",children:"Points"}),e.jsx(w,{align:"right",children:"Progress"})]})}),e.jsx(Pe,{children:z.map((D,A)=>e.jsxs(te,{children:[e.jsx(w,{children:A+1}),e.jsx(w,{children:D.email}),e.jsx(w,{align:"right",children:D.totalPoints.toLocaleString()}),e.jsx(w,{align:"right",sx:{width:"30%"},children:e.jsxs(v,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(v,{sx:{width:"100%",mr:1},children:e.jsx(De,{variant:"determinate",value:D.totalPoints/I*100})}),e.jsxs(y,{variant:"body2",color:"text.secondary",children:[Math.round(D.totalPoints/I*100),"%"]})]})})]},D.userID))})]})})]})})})]}),e.jsx(y,{component:"h2",variant:"h6",sx:{mb:2,mt:4},children:"Driver Management"}),e.jsx(fe,{container:!0,spacing:2,columns:12,children:e.jsx(fe,{size:{xs:12,sm:6,lg:4},children:e.jsx(ae,{sx:{height:"100%"},children:e.jsxs(ie,{children:[e.jsx(or,{sx:{color:"primary.main",mb:1}}),e.jsx(y,{component:"h2",variant:"subtitle2",sx:{fontWeight:"600"},children:"Manage Drivers"}),e.jsx(y,{sx:{color:"text.secondary",mb:2},children:"Add or remove drivers from your sponsorship."}),e.jsx(G,{variant:"contained",size:"small",color:"primary",endIcon:e.jsx(ps,{}),fullWidth:r,children:"Manage Drivers"})]})})})}),e.jsxs($t,{open:p,onClose:()=>g(!1),children:[e.jsx(Ht,{children:"Update Point Dollar Value"}),e.jsx(Ut,{children:e.jsx(U,{autoFocus:!0,margin:"dense",label:"Dollar Value per Point",type:"number",fullWidth:!0,value:b,onChange:D=>j(D.target.value),inputProps:{step:"0.01",min:"0"}})}),e.jsxs(Vt,{children:[e.jsx(G,{onClick:()=>g(!1),children:"Cancel"}),e.jsx(G,{onClick:S,variant:"contained",children:"Update"})]})]}),e.jsx(Gt,{open:h.open,autoHideDuration:6e3,onClose:()=>f(D=>({...D,open:!1})),message:h.message})]})}const dl=()=>{const{driverId:t}=Lo(),[r,n]=d.useState([]),[o,s]=d.useState(!0),[i,a]=d.useState("");return d.useEffect(()=>{(async()=>{try{s(!0);const c=await B.get("/api/driver/transactions");n(c.data),a("")}catch{a("Failed to load transaction data")}finally{s(!1)}})()},[t]),o?e.jsx(v,{sx:{width:"100%",mt:2},children:e.jsx(De,{})}):i?e.jsx(y,{color:"error",sx:{mt:2},children:i}):e.jsx(se,{sx:{width:"100%",mb:2,mt:2},children:e.jsx(Ae,{children:e.jsxs(Ie,{"aria-label":"driver transactions table",children:[e.jsx(Te,{children:e.jsxs(te,{children:[e.jsx(w,{children:"Date"}),e.jsx(w,{children:"Points Changed"}),e.jsx(w,{children:"Reason"})]})}),e.jsx(Pe,{children:r.map(l=>e.jsxs(te,{children:[e.jsx(w,{children:new Date(l.transactionDate).toLocaleDateString()}),e.jsx(w,{children:l.pointsChanged}),e.jsx(w,{children:l.reason})]},l.transactionId))})]})})})};var Tt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(c,u){switch(c){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},o=function(c,u){switch(c){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},s=function(c,u){var x=c.match(/(P+)(p+)?/)||[],m=x[1],p=x[2];if(!p)return n(c,u);var g;switch(m){case"P":g=u.dateTime({width:"short"});break;case"PP":g=u.dateTime({width:"medium"});break;case"PPP":g=u.dateTime({width:"long"});break;case"PPPP":default:g=u.dateTime({width:"full"});break}return g.replace("{{date}}",n(m,u)).replace("{{time}}",o(p,u))},i={p:o,P:s},a=i;r.default=a,t.exports=r.default})(Tt,Tt.exports);var ul=Tt.exports;const pl=zo(ul),hl={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},xl={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class ml{constructor(r){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=hl,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=a=>typeof a>"u"?new Date:a===null?null:new Date(a),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=a=>a,this.toJsDate=a=>a,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=a=>{const l=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return a.match(l).map(c=>{const u=c[0];if(u==="p"||u==="P"){const x=this.longFormatters[u];return x(c,this.locale.formatLong)}return c}).join("")},this.formatNumber=a=>a,this.getDayOfWeek=a=>a.getDay()+1;const{locale:n,formats:o,longFormatters:s,lib:i}=r;this.locale=n,this.formats=No({},xl,o),this.longFormatters=s,this.lib=i||"date-fns"}}class ao extends ml{constructor({locale:r,formats:n}={}){super({locale:r??Ts,formats:n,longFormatters:pl}),this.parse=(o,s)=>o===""?null:Ms(o,s,new Date,{locale:this.locale}),this.isValid=o=>o==null?!1:Es(o),this.format=(o,s)=>this.formatByString(o,this.formats[s]),this.formatByString=(o,s)=>Rt(o,s,{locale:this.locale}),this.isEqual=(o,s)=>o===null&&s===null?!0:o===null||s===null?!1:$s(o,s),this.isSameYear=(o,s)=>Ns(o,s),this.isSameMonth=(o,s)=>Os(o,s),this.isSameDay=(o,s)=>Ls(o,s),this.isSameHour=(o,s)=>zs(o,s),this.isAfter=(o,s)=>gt(o,s),this.isAfterYear=(o,s)=>gt(o,dr(s)),this.isAfterDay=(o,s)=>gt(o,ur(s)),this.isBefore=(o,s)=>ft(o,s),this.isBeforeYear=(o,s)=>ft(o,this.startOfYear(s)),this.isBeforeDay=(o,s)=>ft(o,this.startOfDay(s)),this.isWithinRange=(o,[s,i])=>Bs(o,{start:s,end:i}),this.startOfYear=o=>Ws(o),this.startOfMonth=o=>Fs(o),this.startOfWeek=o=>Us(o,{locale:this.locale}),this.startOfDay=o=>Vs(o),this.endOfYear=o=>dr(o),this.endOfMonth=o=>Hs(o),this.endOfWeek=o=>Gs(o,{locale:this.locale}),this.endOfDay=o=>ur(o),this.addYears=(o,s)=>qs(o,s),this.addMonths=(o,s)=>_s(o,s),this.addWeeks=(o,s)=>Ys(o,s),this.addDays=(o,s)=>Js(o,s),this.addHours=(o,s)=>Zs(o,s),this.addMinutes=(o,s)=>Ks(o,s),this.addSeconds=(o,s)=>Xs(o,s),this.getYear=o=>Qs(o),this.getMonth=o=>en(o),this.getDate=o=>tn(o),this.getHours=o=>rn(o),this.getMinutes=o=>on(o),this.getSeconds=o=>sn(o),this.getMilliseconds=o=>nn(o),this.setYear=(o,s)=>an(o,s),this.setMonth=(o,s)=>ln(o,s),this.setDate=(o,s)=>cn(o,s),this.setHours=(o,s)=>dn(o,s),this.setMinutes=(o,s)=>un(o,s),this.setSeconds=(o,s)=>pn(o,s),this.setMilliseconds=(o,s)=>hn(o,s),this.getDaysInMonth=o=>xn(o),this.getWeekArray=o=>{const s=this.startOfWeek(this.startOfMonth(o)),i=this.endOfWeek(this.endOfMonth(o));let a=0,l=s;const c=[];for(;this.isBefore(l,i);){const u=Math.floor(a/7);c[u]=c[u]||[],c[u].push(l),l=this.addDays(l,1),a+=1}return c},this.getWeekNumber=o=>mn(o,{locale:this.locale}),this.getYearRange=([o,s])=>{const i=this.startOfYear(o),a=this.endOfYear(s),l=[];let c=i;for(;this.isBefore(c,a);)l.push(c),c=this.addYears(c,1);return l}}}const io=({dateRange:t,setDateRange:r})=>{const[n,o]=t,[s,i]=d.useState(!1),a=l=>{const c=new Date,u=new Date;u.setDate(c.getDate()-l),r([u,c])};return e.jsx(Gr,{dateAdapter:ao,children:e.jsxs(be,{direction:"column",spacing:2,alignItems:"flex-start",sx:{mb:2},children:[e.jsx(lt,{control:e.jsx(Bt,{checked:s,onChange:()=>i(!s)}),label:"Custom Date Range"}),s?e.jsxs(be,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(v,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(nr,{fontSize:"small"}),e.jsx(nt,{label:"Start",value:n,onChange:l=>r([l,o]),disableFuture:!0})]}),e.jsxs(v,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(nr,{fontSize:"small"}),e.jsx(nt,{label:"End",value:o,onChange:l=>r([n,l]),disableFuture:!0})]})]}):e.jsxs(be,{direction:"row",spacing:1,children:[e.jsx(G,{variant:"outlined",size:"small",onClick:()=>a(7),children:"Last 7 Days"}),e.jsx(G,{variant:"outlined",size:"small",onClick:()=>a(30),children:"Last 30 Days"}),e.jsx(G,{variant:"outlined",size:"small",onClick:()=>a(365),children:"Last Year"})]})]})})};function lo({reportType:t,viewType:r,selectedSponsor:n,selectedDriver:o,dateRange:s}){const i=Me(),[a,l]=d.useState([]),[c,u]=d.useState([]);d.useEffect(()=>{(async()=>{var g,b;try{const j={viewType:r,selectedSponsor:n==="all"?void 0:n,selectedDriver:o==="all"?void 0:o,startDate:(g=s[0])==null?void 0:g.toISOString(),endDate:(b=s[1])==null?void 0:b.toISOString()},h=`/api/reports/${t}`,S=(await B.get(h,{params:j})).data,C=S.map(P=>t==="sales"?P.SponsorName||"Unknown":(t==="points"||t==="invoice")&&P.DriverName||"Unknown");l(S),u(C)}catch{}})()},[t,r,n,o,s]);const x=()=>{const p=t==="sales"?a.map(b=>b.TotalPoints||0):t==="points"?a.map(b=>b.PointsChanged||0):a.map(b=>b.TotalFee||0),g=t==="sales"?"Total Sales":t==="points"?"Points Changed":"Total Fee";return e.jsx(Ft,{xAxis:[{data:c,scaleType:"band"}],series:[{data:p,label:g,color:i.palette.primary.main}],height:300,grid:{horizontal:!0}})},m=()=>e.jsx(ct,{series:[{data:a.map(p=>({id:p.DriverName||"Unknown",value:p.TotalFee||0,label:p.DriverName||"Unknown",color:i.palette.primary.main}))}],height:300});return e.jsx("div",{children:t==="invoice"?m():x()})}const gl=()=>{const[t,r]=d.useState({reportType:"driver-points",selectedDriver:null,dateRange:[null,null],auditCategory:null}),[n,o]=d.useState([]),[s,i]=d.useState([]),[a,l]=d.useState(null);d.useEffect(()=>{(async()=>{try{const x=await B.get("/api/sponsor/drivers");o(x.data)}catch{l("Failed to fetch drivers. Please try again later.")}})()},[]);const c=async()=>{try{l(null);const u=t.reportType==="audit-log"?"/api/reports/audit-log":"/api/reports/driver-points",[x,m]=t.dateRange,p={startDate:x?x.toISOString().split("T")[0]:"",endDate:m?m.toISOString().split("T")[0]:""};t.reportType==="driver-points"?p.selectedDriver=t.selectedDriver:t.reportType==="audit-log"&&(p.category=t.auditCategory);const g=await B.get(u,{params:p});i(g.data)}catch{l("Failed to fetch reports. Please try again later.")}};return e.jsxs(v,{sx:{padding:4},children:[e.jsx(y,{variant:"h4",gutterBottom:!0,children:"Sponsor Reports"}),e.jsxs(v,{sx:{display:"flex",flexWrap:"wrap",gap:3,alignItems:"center",mb:3},children:[e.jsxs(Se,{sx:{minWidth:200},children:[e.jsx(we,{children:"Report Type"}),e.jsxs(ue,{value:t.reportType,onChange:u=>r(x=>({...x,reportType:u.target.value})),children:[e.jsx(N,{value:"driver-points",children:"Driver Point Tracking"}),e.jsx(N,{value:"audit-log",children:"Audit Log"})]})]}),t.reportType==="driver-points"&&e.jsxs(Se,{sx:{minWidth:200},children:[e.jsx(we,{children:"Select Driver"}),e.jsxs(ue,{value:t.selectedDriver||"",onChange:u=>r(x=>({...x,selectedDriver:u.target.value?Number(u.target.value):null})),children:[e.jsx(N,{value:"",children:"All Drivers"}),n.length>0?n.map(u=>e.jsx(N,{value:u.userID,children:u.name},u.userID)):e.jsx(N,{disabled:!0,children:"No drivers available"})]})]}),t.reportType==="audit-log"&&e.jsxs(Se,{sx:{minWidth:200},children:[e.jsx(we,{children:"Audit Log Category"}),e.jsxs(ue,{value:t.auditCategory||"",onChange:u=>r(x=>({...x,auditCategory:u.target.value||null})),children:[e.jsx(N,{value:"",children:"All Categories"}),e.jsx(N,{value:"User",children:"User"}),e.jsx(N,{value:"System",children:"System"}),e.jsx(N,{value:"Transaction",children:"Transaction"})]})]})]}),e.jsx(v,{sx:{mb:3},children:e.jsx(io,{dateRange:t.dateRange,setDateRange:u=>r(x=>({...x,dateRange:u}))})}),e.jsx(G,{variant:"contained",onClick:c,children:"Fetch Reports"}),e.jsxs(v,{sx:{mt:4},children:[e.jsx(y,{variant:"h5",gutterBottom:!0,children:"Report Chart"}),t.dateRange[0]&&t.dateRange[1]&&t.reportType==="driver-points"&&e.jsx(lo,{reportType:"points",viewType:"detailed",selectedDriver:t.selectedDriver||"all",dateRange:t.dateRange})]}),e.jsxs(v,{sx:{mt:4},children:[e.jsx(y,{variant:"h5",gutterBottom:!0,children:"Report Results"}),a&&e.jsx(y,{color:"error",children:a}),Array.isArray(s)&&s.length>0?e.jsxs(v,{component:"table",sx:{width:"100%",borderCollapse:"collapse"},children:[e.jsx(v,{component:"thead",children:e.jsx(v,{component:"tr",children:Object.keys(s[0]).map(u=>e.jsx(v,{component:"th",sx:{border:"1px solid",padding:"8px",textAlign:"left",backgroundColor:"lightgray"},children:u},u))})}),e.jsx(v,{component:"tbody",children:s.map((u,x)=>e.jsx(v,{component:"tr",children:Object.values(u).map((m,p)=>e.jsx(v,{component:"td",sx:{border:"1px solid",padding:"8px"},children:m!=null?m.toString():"N/A"},p))},x))})]}):!a&&e.jsx(y,{children:"No data available for the selected report type."})]})]})},fl=()=>{const[t,r]=d.useState({reportType:"sales-sponsor",viewType:"summary",selectedSponsor:null,selectedDriver:null,dateRange:[null,null]}),[n,o]=d.useState([]),[s,i]=d.useState([]),[a,l]=d.useState([]),[c,u]=d.useState(null);d.useEffect(()=>{(async()=>{try{const p=await B.get("/api/admin/sponsors/details");o(p.data)}catch{u("Failed to fetch sponsors. Please try again later.")}})()},[]),d.useEffect(()=>{t.reportType==="sales-driver"&&t.selectedSponsor?(async()=>{try{const p=await B.get("/api/sponsor/drivers");i(p.data)}catch{u("Failed to fetch drivers. Please try again later.")}})():i([])},[t.reportType,t.selectedSponsor]);const x=async()=>{try{u(null);const[m,p]=t.dateRange,b=(await B.get(`/api/reports/${t.reportType}`,{params:{selectedSponsor:t.selectedSponsor,selectedDriver:t.selectedDriver,startDate:m?m.toISOString().split("T")[0]:"",endDate:p?p.toISOString().split("T")[0]:"",viewType:t.viewType}})).data;Array.isArray(b)?l(b):(l([]),u("Unexpected response format. No data available."))}catch{u("Failed to fetch reports. Please try again later.")}};return e.jsxs(v,{sx:{padding:4},children:[e.jsx(y,{variant:"h4",gutterBottom:!0,children:"Admin Reports"}),e.jsxs(v,{sx:{display:"flex",flexWrap:"wrap",gap:3,alignItems:"center",mb:3},children:[e.jsxs(Se,{sx:{minWidth:200},children:[e.jsx(we,{children:"Report Type"}),e.jsxs(ue,{value:t.reportType,onChange:m=>r(p=>({...p,reportType:m.target.value,selectedDriver:null})),children:[e.jsx(N,{value:"sales-sponsor",children:"Sales by Sponsor"}),e.jsx(N,{value:"sales-driver",children:"Sales by Driver"}),e.jsx(N,{value:"invoice",children:"Invoice Report"})]})]}),t.reportType!=="invoice"&&e.jsxs(Se,{sx:{minWidth:200},children:[e.jsx(we,{children:"View Type"}),e.jsxs(ue,{value:t.viewType,onChange:m=>r(p=>({...p,viewType:m.target.value})),children:[e.jsx(N,{value:"summary",children:"Summary"}),e.jsx(N,{value:"detailed",children:"Detailed"})]})]}),e.jsxs(Se,{sx:{minWidth:200},children:[e.jsx(we,{children:"Select Sponsor"}),e.jsxs(ue,{value:t.selectedSponsor||"",onChange:m=>r(p=>({...p,selectedSponsor:Number(m.target.value)||null})),children:[e.jsx(N,{value:"",children:"All Sponsors"}),n.length>0?n.map(m=>e.jsx(N,{value:m.sponsorID,children:m.companyName},m.sponsorID)):e.jsx(N,{disabled:!0,children:"No sponsors available"})]})]}),t.reportType==="sales-driver"&&t.selectedSponsor&&e.jsxs(Se,{sx:{minWidth:200},children:[e.jsx(we,{children:"Select Driver"}),e.jsxs(ue,{value:t.selectedDriver||"",onChange:m=>r(p=>({...p,selectedDriver:Number(m.target.value)||null})),children:[e.jsx(N,{value:"",children:"All Drivers"}),s.length>0?s.map(m=>e.jsx(N,{value:m.userID,children:m.name},m.userID)):e.jsx(N,{disabled:!0,children:"No drivers available"})]})]}),e.jsx(io,{dateRange:t.dateRange,setDateRange:m=>r(p=>({...p,dateRange:m}))})]}),e.jsx(G,{variant:"contained",onClick:x,children:"Fetch Reports"}),e.jsxs(v,{sx:{mt:4},children:[e.jsx(y,{variant:"h5",gutterBottom:!0,children:"Report Chart"}),t.dateRange[0]&&t.dateRange[1]&&e.jsx(lo,{reportType:t.reportType==="invoice"?"invoice":"sales",viewType:t.viewType,selectedSponsor:t.selectedSponsor||"all",selectedDriver:t.selectedDriver||"all",dateRange:t.dateRange})]}),e.jsxs(v,{sx:{mt:4},children:[e.jsx(y,{variant:"h5",gutterBottom:!0,children:"Report Results"}),c&&e.jsx(y,{color:"error",children:c}),a.length>0?e.jsxs(v,{component:"table",sx:{width:"100%",borderCollapse:"collapse"},children:[e.jsx(v,{component:"thead",children:e.jsx(v,{component:"tr",children:Object.keys(a[0]).map(m=>e.jsx(v,{component:"th",sx:{border:"1px solid",padding:"8px",textAlign:"left",backgroundColor:"lightgray"},children:m},m))})}),e.jsx(v,{component:"tbody",children:a.map((m,p)=>e.jsx(v,{component:"tr",children:Object.values(m).map((g,b)=>e.jsx(v,{component:"td",sx:{border:"1px solid",padding:"8px"},children:g!=null?g.toString():"N/A"},b))},p))})]}):!c&&e.jsx(y,{children:"No data available for the selected report type."})]})]})},yl=()=>{const[t,r]=d.useState([]),[n,o]=d.useState(!0),[s,i]=d.useState(""),[a,l]=d.useState("");d.useEffect(()=>{c()},[]);const c=async()=>{try{o(!0);const p=await B.get("/api/admin/drivers/details");r(p.data),i("")}catch{i("Failed to load driver data")}finally{o(!1)}},u=async(p,g)=>{try{await B.post("/api/admin/change-user-type",{userId:p,newUserType:g}),await c()}catch(b){i(b.message)}},x=async p=>{try{await B.delete(`/api/admin/remove-user/${p}`),await c()}catch(g){i(g.message)}},m=Array.isArray(t)?t.filter(p=>p.name.toLowerCase().includes(a.toLowerCase())||p.email.toLowerCase().includes(a.toLowerCase())||p.sponsorRelationships.some(g=>g.sponsorName.toLowerCase().includes(a.toLowerCase()))):[];return n?e.jsx(v,{sx:{width:"100%",mt:2},children:e.jsx(De,{})}):s?e.jsx(le,{severity:"error",sx:{mt:2},children:s}):e.jsxs(v,{sx:{width:"100%",p:3},children:[e.jsx(y,{variant:"h5",gutterBottom:!0,children:"Driver-Sponsor Associations"}),e.jsxs(v,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(U,{fullWidth:!0,variant:"outlined",placeholder:"Search by driver name, email, or sponsor...",value:a,onChange:p=>l(p.target.value)}),e.jsx(xe,{sx:{ml:-4},children:e.jsx(Nt,{})})]}),e.jsx(Ae,{component:se,children:e.jsxs(Ie,{children:[e.jsx(Te,{children:e.jsxs(te,{children:[e.jsx(w,{children:"Driver Name"}),e.jsx(w,{children:"Email"}),e.jsx(w,{children:"Sponsors"}),e.jsx(w,{align:"center",children:"Total Sponsors"}),e.jsx(w,{children:"Points Distribution"}),e.jsx(w,{children:"User Type"}),e.jsx(w,{children:"Actions"})]})}),e.jsx(Pe,{children:m.map(p=>e.jsxs(te,{children:[e.jsx(w,{children:p.name}),e.jsx(w,{children:p.email}),e.jsx(w,{children:e.jsx(v,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:p.sponsorRelationships.map(g=>e.jsx(Ye,{label:g.sponsorName,size:"small",color:"primary"},g.sponsorId))})}),e.jsx(w,{align:"center",children:p.sponsorRelationships.length}),e.jsx(w,{children:e.jsx(v,{sx:{display:"flex",alignItems:"center",gap:1},children:p.sponsorRelationships.map(g=>e.jsx(Wt,{title:`${g.sponsorName}: ${g.points} points`,children:e.jsx(v,{sx:{display:"flex",alignItems:"center"},children:e.jsx(y,{variant:"body2",children:g.points})})},g.sponsorId))})}),e.jsx(w,{children:e.jsxs(ue,{size:"small",value:p.userType||"",onChange:g=>u(p.userId.toString(),g.target.value),children:[e.jsx(N,{value:"driver",children:"Driver"}),e.jsx(N,{value:"sponsor",children:"Sponsor"}),e.jsx(N,{value:"admin",children:"Admin"})]})}),e.jsx(w,{children:e.jsx(xe,{onClick:()=>x(p.userId.toString()),color:"error",size:"small",children:e.jsx(Ot,{})})})]},p.userId))})]})})]})};var co=(t=>(t.User="User",t.Point="Point",t.Purchase="Purchase",t.Application="Application",t.Product="Product",t.System="System",t))(co||{});const vl=()=>{const[t,r]=d.useState([]),[n,o]=d.useState(0),[s,i]=d.useState(!1),[a,l]=d.useState(null),[c,u]=d.useState({page:0,pageSize:10}),x=async()=>{try{i(!0),l(null);const h=new URLSearchParams;c.userID&&h.append("userId",c.userID.toString()),c.category&&h.append("category",c.category),c.startDate&&h.append("startDate",c.startDate.toISOString()),c.endDate&&h.append("endDate",c.endDate.toISOString()),h.append("page",(c.page+1).toString()),h.append("pageSize",c.pageSize.toString());const f=await B.get(`/api/reports/audit-logs?${h.toString()}`);r(f.data.logs),o(f.data.totalCount)}catch{l("Failed to fetch audit logs")}finally{i(!1)}},m=async()=>{try{const h=new URLSearchParams;c.startDate&&h.append("startDate",c.startDate.toISOString()),c.endDate&&h.append("endDate",c.endDate.toISOString()),c.category&&h.append("category",c.category);const f=await B.get(`/api/reports/audit-logs/export?${h.toString()}`,{responseType:"blob"}),S=window.URL.createObjectURL(new Blob([f.data])),C=document.createElement("a");C.href=S,C.setAttribute("download",`audit_logs_${Rt(new Date,"yyyyMMdd")}.csv`),document.body.appendChild(C),C.click(),C.remove()}catch{l("Failed to export audit logs")}};d.useEffect(()=>{x()},[c]);const p=(h,f)=>{u(S=>({...S,page:f}))},g=h=>{u(f=>({...f,pageSize:parseInt(h.target.value,10),page:0}))},b=h=>{const f=h.target.value;u(S=>({...S,category:f||void 0,page:0}))},j=h=>({User:"primary",Point:"success",Purchase:"info",Application:"warning",Product:"secondary",System:"error"})[h]||"default";return e.jsx(Gr,{dateAdapter:ao,children:e.jsx(v,{sx:{p:3},children:e.jsxs($,{container:!0,spacing:3,children:[e.jsxs($,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(y,{variant:"h4",children:"Audit Log Dashboard"}),e.jsx(G,{variant:"contained",startIcon:e.jsx(hs,{}),onClick:m,disabled:s,children:"Export CSV"})]}),a&&e.jsx($,{item:!0,xs:12,children:e.jsx(le,{severity:"error",children:a})}),e.jsx($,{item:!0,xs:12,children:e.jsx(se,{sx:{p:2,mb:2},children:e.jsxs($,{container:!0,spacing:2,alignItems:"center",children:[e.jsx($,{item:!0,xs:12,sm:6,md:2,children:e.jsx(U,{fullWidth:!0,label:"User ID",type:"number",value:c.userID||"",onChange:h=>u(f=>({...f,userID:h.target.value?parseInt(h.target.value):void 0,page:0}))})}),e.jsx($,{item:!0,xs:12,sm:6,md:2,children:e.jsxs(Se,{fullWidth:!0,children:[e.jsx(we,{children:"Category"}),e.jsxs(ue,{value:c.category||"",label:"Category",onChange:b,children:[e.jsx(N,{value:"",children:"All"}),Object.values(co).map(h=>e.jsx(N,{value:h,children:h},h))]})]})}),e.jsx($,{item:!0,xs:12,sm:6,md:2,children:e.jsx(nt,{label:"Start Date",value:c.startDate,onChange:h=>u(f=>({...f,startDate:h||void 0,page:0})),slotProps:{textField:{fullWidth:!0}}})}),e.jsx($,{item:!0,xs:12,sm:6,md:2,children:e.jsx(nt,{label:"End Date",value:c.endDate,onChange:h=>u(f=>({...f,endDate:h||void 0,page:0})),slotProps:{textField:{fullWidth:!0}}})}),e.jsx($,{item:!0,xs:12,sm:6,md:1,children:e.jsx(xe,{onClick:()=>x(),disabled:s,children:e.jsx(xs,{})})})]})})}),e.jsx($,{item:!0,xs:12,children:e.jsxs(se,{children:[e.jsx(Ae,{children:e.jsxs(Ie,{children:[e.jsx(Te,{children:e.jsxs(te,{children:[e.jsx(w,{children:"Log ID"}),e.jsx(w,{children:"Timestamp"}),e.jsx(w,{children:"User"}),e.jsx(w,{children:"Category"}),e.jsx(w,{children:"Description"})]})}),e.jsx(Pe,{children:s?e.jsx(te,{children:e.jsx(w,{colSpan:5,align:"center",children:"Loading..."})}):t.length===0?e.jsx(te,{children:e.jsx(w,{colSpan:5,align:"center",children:"No audit logs found"})}):t.map(h=>e.jsxs(te,{children:[e.jsx(w,{children:h.logID}),e.jsx(w,{children:Rt(new Date(h.timestamp),"MMM dd, yyyy HH:mm:ss")}),e.jsx(w,{children:h.userName||h.userID||"N/A"}),e.jsx(w,{children:e.jsx(Ye,{label:h.category,size:"small",color:j(h.category)})}),e.jsx(w,{children:h.description})]},h.logID))})]})}),e.jsx(As,{component:"div",count:n,page:c.page,onPageChange:p,rowsPerPage:c.pageSize,onRowsPerPageChange:g,rowsPerPageOptions:[5,10,25,50]})]})})]})})})},Le={Driver:0,Sponsor:1,Admin:2},bl=({open:t,onClose:r})=>{const[n,o]=d.useState({Username:"",Email:"",Password:"",UserType:Le.Admin,CompanyName:"",SponsorType:"",PointDollarValue:.01,SponsorID:""}),s=a=>{const{name:l,value:c}=a.target;o(l==="UserType"?u=>({...u,[l]:Le[c]}):u=>({...u,[l]:l==="SponsorID"?c===""?"":parseInt(c):c}))},i=async a=>{var c,u;a.preventDefault();const l={...n,CompanyName:n.CompanyName||null,SponsorType:n.SponsorType||null,PointDollarValue:n.PointDollarValue||null,SponsorID:n.SponsorID===""?null:parseInt(n.SponsorID)};try{const x=await B.post("/api/admin/create-user",l,{headers:{"Content-Type":"application/json"}});alert("User created successfully"),r(),o({Username:"",Email:"",Password:"",UserType:"Admin",CompanyName:"",SponsorType:"",PointDollarValue:.01,SponsorID:""})}catch(x){const m=((u=(c=x.response)==null?void 0:c.data)==null?void 0:u.details)||"Failed to create user";alert(m)}};return e.jsx(Lr,{open:t,onClose:r,"aria-labelledby":"create-user-modal-title","aria-describedby":"create-user-modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs(v,{sx:{backgroundColor:"white",padding:4,borderRadius:2,width:"100%",maxWidth:400},children:[e.jsx(y,{id:"create-user-modal-title",variant:"h6",component:"h2",children:"Create New User"}),e.jsxs("form",{onSubmit:i,children:[e.jsx(v,{sx:{mb:2},children:e.jsx(U,{label:"Username",name:"Username",value:n.Username,onChange:s,required:!0,fullWidth:!0})}),e.jsx(v,{sx:{mb:2},children:e.jsx(U,{label:"Email",name:"Email",type:"email",value:n.Email,onChange:s,required:!0,fullWidth:!0})}),e.jsx(v,{sx:{mb:2},children:e.jsx(U,{label:"Password",name:"Password",type:"password",value:n.Password,onChange:s,required:!0,fullWidth:!0})}),e.jsx(v,{sx:{mb:2},children:e.jsxs(Se,{fullWidth:!0,children:[e.jsx(we,{id:"user-type-label",children:"User Type"}),e.jsxs(ue,{labelId:"user-type-label",name:"UserType",value:Object.keys(Le).find(a=>Le[a]===n.UserType),onChange:s,required:!0,children:[e.jsx(N,{value:"Admin",children:"Admin"}),e.jsx(N,{value:"Sponsor",children:"Sponsor"}),e.jsx(N,{value:"Driver",children:"Driver"})]})]})}),n.UserType===Le.Sponsor&&e.jsxs(e.Fragment,{children:[e.jsx(v,{sx:{mb:2},children:e.jsx(U,{label:"Company Name",name:"CompanyName",value:n.CompanyName,onChange:s,required:!0,fullWidth:!0})}),e.jsx(v,{sx:{mb:2},children:e.jsx(U,{label:"Sponsor Type",name:"SponsorType",value:n.SponsorType,onChange:s,required:!0,fullWidth:!0})}),e.jsx(v,{sx:{mb:2},children:e.jsx(U,{label:"Point Dollar Value",name:"PointDollarValue",type:"number",step:"0.01",value:n.PointDollarValue,onChange:s,required:!0,fullWidth:!0})})]}),n.UserType===Le.Driver&&e.jsx(v,{sx:{mb:2},children:e.jsx(U,{label:"Sponsor ID",name:"SponsorID",type:"number",value:n.SponsorID,onChange:s,required:!0,fullWidth:!0})}),e.jsx(G,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Create User"})]})]})})},jl=()=>{const[t,r]=d.useState([]),[n,o]=d.useState(!0),[s,i]=d.useState(""),[a,l]=d.useState(""),[c,u]=d.useState(!1);d.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0);const b=await B.get("/api/admin/admins/details");r(b.data),i("")}catch{i("Failed to load admin data")}finally{o(!1)}},m=async(b,j)=>{try{await B.post("/api/admin/change-user-type",{userId:b,newUserType:j}),await x()}catch(h){i(h.message)}},p=async b=>{try{await B.delete(`/api/admin/remove-user/${b}`),await x()}catch(j){i(j.message)}},g=t.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())||b.email.toLowerCase().includes(a.toLowerCase()));return n?e.jsx(v,{sx:{width:"100%",mt:2},children:e.jsx(De,{})}):s?e.jsx(le,{severity:"error",sx:{mt:2},children:s}):e.jsxs(v,{sx:{width:"100%",p:3},children:[e.jsx(y,{variant:"h5",gutterBottom:!0,children:"Manage Administrators"}),e.jsxs(v,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(U,{fullWidth:!0,variant:"outlined",placeholder:"Search admins by name or email...",value:a,onChange:b=>l(b.target.value),InputProps:{endAdornment:e.jsx(xe,{children:e.jsx(Nt,{})})}}),e.jsx(G,{variant:"contained",color:"primary",onClick:()=>u(!0),sx:{ml:2},children:"Create User"})]}),c&&e.jsx(bl,{open:c,onClose:()=>u(!1)}),e.jsx(Ae,{component:se,children:e.jsxs(Ie,{children:[e.jsx(Te,{children:e.jsxs(te,{children:[e.jsx(w,{children:"Name"}),e.jsx(w,{children:"Email"}),e.jsx(w,{children:"Created At"}),e.jsx(w,{children:"Last Login"}),e.jsx(w,{children:"User Type"}),e.jsx(w,{children:"Actions"})]})}),e.jsx(Pe,{children:g.map(b=>e.jsxs(te,{children:[e.jsx(w,{children:b.name}),e.jsx(w,{children:b.email}),e.jsx(w,{children:new Date(b.createdAt).toLocaleDateString()}),e.jsx(w,{children:new Date(b.lastLogin).toLocaleDateString()}),e.jsx(w,{children:e.jsxs(ue,{size:"small",value:b.userType||"admin",onChange:j=>m(b.userId.toString(),j.target.value),children:[e.jsx(N,{value:"admin",children:"Admin"}),e.jsx(N,{value:"sponsor",children:"Sponsor"}),e.jsx(N,{value:"driver",children:"Driver"})]})}),e.jsx(w,{children:e.jsx(xe,{onClick:()=>p(b.userId.toString()),color:"error",size:"small",children:e.jsx(Ot,{})})})]},b.userId))})]})})]})},Sl=()=>{const[t,r]=d.useState([]),[n,o]=d.useState([]),[s,i]=d.useState(!0),[a,l]=d.useState(null),[c,u]=d.useState("");d.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0);const[j,h]=await Promise.all([B.get("/api/admin/sponsors/details"),B.get("/api/admin/drivers/details")]);r(j.data);const f=new Map;h.data.forEach(S=>{S.sponsorRelationships.forEach(C=>{const P=f.get(C.sponsorId)||{sponsorId:C.sponsorId,sponsorName:C.sponsorName,totalDrivers:0,totalPoints:0,averagePoints:0};f.set(C.sponsorId,{...P,totalDrivers:P.totalDrivers+1,totalPoints:P.totalPoints+C.points,averagePoints:(P.totalPoints+C.points)/(P.totalDrivers+1)})})}),o(Array.from(f.values())),l(null)}catch{l("Failed to load sponsor data")}finally{i(!1)}},m=async(j,h)=>{try{await B.post("/api/admin/change-user-type",{userId:j,newUserType:h}),await fetchSponsors()}catch(f){l(f.message)}},p=async j=>{try{await B.delete(`/api/admin/remove-user/${j}`),await fetchSponsors()}catch(h){l(h.message)}},g=t.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.email.toLowerCase().includes(c.toLowerCase())||j.companyName.toLowerCase().includes(c.toLowerCase()));if(s)return e.jsx(v,{sx:{width:"100%",mt:2},children:e.jsx(De,{})});if(a)return e.jsx(le,{severity:"error",sx:{mt:2},children:a});const b=n.map(j=>({id:j.sponsorId,value:j.totalDrivers,label:j.sponsorName}));return n.map(j=>({value:j.totalPoints,label:j.sponsorName})),e.jsxs(v,{sx:{width:"100%",p:3},children:[e.jsx(y,{variant:"h5",gutterBottom:!0,children:"Sponsor Management Dashboard"}),e.jsxs($,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx($,{item:!0,xs:12,md:4,children:e.jsx(ae,{children:e.jsxs(ie,{children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Total Sponsors"}),e.jsx(y,{variant:"h3",children:t.length})]})})}),e.jsx($,{item:!0,xs:12,md:4,children:e.jsx(ae,{children:e.jsxs(ie,{children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Total Drivers"}),e.jsx(y,{variant:"h3",children:n.reduce((j,h)=>j+h.totalDrivers,0)})]})})}),e.jsx($,{item:!0,xs:12,md:4,children:e.jsx(ae,{children:e.jsxs(ie,{children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Total Points"}),e.jsx(y,{variant:"h3",children:n.reduce((j,h)=>j+h.totalPoints,0).toLocaleString()})]})})})]}),e.jsxs($,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx($,{item:!0,xs:12,md:6,children:e.jsx(ae,{children:e.jsxs(ie,{children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Driver Distribution by Sponsor"}),e.jsx(v,{sx:{height:400},children:e.jsx(ct,{series:[{data:b,highlightScope:{faded:"global",highlighted:"item"}}],height:350})})]})})}),e.jsx($,{item:!0,xs:12,md:6,children:e.jsx(ae,{children:e.jsxs(ie,{children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Total Points by Sponsor"}),e.jsx(v,{sx:{height:400},children:e.jsx(Ft,{xAxis:[{scaleType:"band",data:n.map(j=>j.sponsorName)}],series:[{data:n.map(j=>j.totalPoints)}],height:350})})]})})})]}),e.jsx(ae,{children:e.jsxs(ie,{children:[e.jsx(v,{sx:{display:"flex",alignItems:"center",mb:3},children:e.jsx(U,{fullWidth:!0,variant:"outlined",placeholder:"Search sponsors by name, email, or company...",value:c,onChange:j=>u(j.target.value),InputProps:{endAdornment:e.jsx(xe,{children:e.jsx(Nt,{})})}})}),e.jsx(Ae,{component:se,children:e.jsxs(Ie,{children:[e.jsx(Te,{children:e.jsxs(te,{children:[e.jsx(w,{children:"Name"}),e.jsx(w,{children:"Email"}),e.jsx(w,{children:"Company"}),e.jsx(w,{children:"Sponsor Type"}),e.jsx(w,{children:"Point Value ($)"}),e.jsx(w,{children:"Total Drivers"}),e.jsx(w,{children:"Total Points"}),e.jsx(w,{children:"User Type"}),e.jsx(w,{children:"Actions"})]})}),e.jsx(Pe,{children:g.map(j=>{const h=n.find(f=>f.sponsorId===j.userId);return e.jsxs(te,{children:[e.jsx(w,{children:j.name}),e.jsx(w,{children:j.email}),e.jsx(w,{children:j.companyName}),e.jsx(w,{children:e.jsx(Ye,{label:j.sponsorType,color:"primary",size:"small"})}),e.jsxs(w,{children:["$",j.pointDollarValue.toFixed(2)]}),e.jsx(w,{children:(h==null?void 0:h.totalDrivers)||0}),e.jsx(w,{children:(h==null?void 0:h.totalPoints.toLocaleString())||0}),e.jsx(w,{children:e.jsxs(ue,{size:"small",value:j.userType||"sponsor",onChange:f=>m(j.userId.toString(),f.target.value),children:[e.jsx(N,{value:"sponsor",children:"Sponsor"}),e.jsx(N,{value:"admin",children:"Admin"}),e.jsx(N,{value:"driver",children:"Driver"})]})}),e.jsx(w,{children:e.jsx(xe,{onClick:()=>p(j.userId.toString()),color:"error",size:"small",children:e.jsx(Ot,{})})})]},j.userId)})})]})})]})})]})},wl=({profileData:t,onSave:r=o=>{},onUpdate:n=o=>{}})=>{const o=t||{firstName:"",lastName:"",phone:"",address:"",gender:"",nationality:"",preferredPronouns:"",dateOfBirth:"",profilePicture:""},[s,i]=d.useState(o),[a,l]=d.useState("");d.useEffect(()=>{const p=localStorage.getItem("userProfile");if(p){const g=JSON.parse(p);i(g),typeof g.profilePicture=="string"&&l(g.profilePicture)}},[]),d.useEffect(()=>{localStorage.setItem("userProfile",JSON.stringify(s))},[s]);const c=p=>{const{name:g,value:b}=p.target;i({...s,[g]:b})},u=p=>{const g=p.target.files?p.target.files[0]:null;if(g){const b=URL.createObjectURL(g);l(b),i({...s,profilePicture:g})}},x=()=>{r(s),localStorage.setItem("userProfile",JSON.stringify(s))},m=()=>{n(s),localStorage.setItem("userProfile",JSON.stringify(s))};return e.jsx(Ne,{maxWidth:"xs",children:e.jsxs(v,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(Je,{sx:{m:1,bgcolor:"primary.light"},children:e.jsx(ms,{})}),e.jsx(y,{variant:"h5",children:"User Profile"}),e.jsxs(v,{sx:{mt:3},children:[e.jsxs($,{container:!0,spacing:2,children:[e.jsx($,{item:!0,xs:12,sm:6,children:e.jsx(U,{margin:"normal",required:!0,fullWidth:!0,label:"First Name",name:"firstName",value:s.firstName,onChange:c})}),e.jsx($,{item:!0,xs:12,sm:6,children:e.jsx(U,{margin:"normal",required:!0,fullWidth:!0,label:"Last Name",name:"lastName",value:s.lastName,onChange:c})})]}),e.jsx(U,{margin:"normal",required:!0,fullWidth:!0,label:"Phone Number",name:"phone",value:s.phone,onChange:c}),e.jsx(U,{margin:"normal",required:!0,fullWidth:!0,label:"Address",name:"address",value:s.address,onChange:c}),e.jsxs(U,{select:!0,margin:"normal",fullWidth:!0,label:"Gender",name:"gender",value:s.gender,onChange:c,children:[e.jsx(N,{value:"Male",children:"Male"}),e.jsx(N,{value:"Female",children:"Female"}),e.jsx(N,{value:"Non-Binary",children:"Non-Binary"}),e.jsx(N,{value:"Other",children:"Other"})]}),e.jsx(U,{margin:"normal",required:!0,fullWidth:!0,label:"Nationality",name:"nationality",value:s.nationality,onChange:c}),e.jsx(U,{margin:"normal",fullWidth:!0,label:"Preferred Pronouns",name:"preferredPronouns",value:s.preferredPronouns,onChange:c}),e.jsx(U,{margin:"normal",fullWidth:!0,label:"Date of Birth",name:"dateOfBirth",type:"date",InputLabelProps:{shrink:!0},value:s.dateOfBirth,onChange:c}),a&&e.jsx(v,{component:"img",src:a,alt:"Profile Preview",sx:{width:"100%",height:"auto",maxHeight:"200px",mt:2,mb:2}}),e.jsxs(G,{variant:"contained",component:"label",fullWidth:!0,sx:{mt:2,mb:2},children:["Upload Profile Picture",e.jsx("input",{type:"file",hidden:!0,name:"profilePicture",accept:"image/*",onChange:u})]}),e.jsx(G,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:x,children:"Save"}),e.jsx(G,{fullWidth:!0,variant:"outlined",sx:{mt:1,mb:2},onClick:m,children:"Update Profile"})]})]})})};function Pr(t,r){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o,s,i=n.call(t),a=[];try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(l){s={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return a}var jt=function(t){var r=t.children;return je.createElement("div",{className:"react-terminal-line"},r)},at;(function(t,r){r===void 0&&(r={});var n=r.insertAt;if(typeof document<"u"){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}})(`/**
 * Modfied version of [termynal.js](https://github.com/ines/termynal/blob/master/termynal.css).
 *
 * @author Ines Montani <ines@ines.io>
 * @version 0.0.1
 * @license MIT
 */
 .react-terminal-wrapper {
  width: 100%;
  background: #252a33;
  color: #eee;
  font-size: 18px;
  font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace;
  border-radius: 4px;
  padding: 75px 45px 35px;
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
 }

.react-terminal {
  overflow: auto;
  display: flex;
  flex-direction: column;
}

.react-terminal-wrapper.react-terminal-light {
  background: #ddd;
  color: #1a1e24;
}

.react-terminal-window-buttons {
  position: absolute;
  top: 15px;
  left: 15px;
  display: flex;
  flex-direction: row;
  gap: 10px;
}

.react-terminal-window-buttons button {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  border: 0;
}

.react-terminal-window-buttons button.clickable {
  cursor: pointer;
}

.react-terminal-window-buttons button.red-btn {
  background: #d9515d;
}

.react-terminal-window-buttons button.yellow-btn {
  background: #f4c025;
}

.react-terminal-window-buttons button.green-btn {
  background: #3ec930;
}

.react-terminal-wrapper:after {
  content: attr(data-terminal-name);
  position: absolute;
  color: #a2a2a2;
  top: 5px;
  left: 0;
  width: 100%;
  text-align: center;
  pointer-events: none;
}

.react-terminal-wrapper.react-terminal-light:after {
  color: #D76D77;
}

.react-terminal-line {
  white-space: pre;
}

.react-terminal-line:before {
  /* Set up defaults and ensure empty lines are displayed. */
  content: '';
  display: inline-block;
  vertical-align: middle;
  color: #a2a2a2;
}

.react-terminal-light .react-terminal-line:before {
  color: #D76D77;
}

.react-terminal-input:before {
  margin-right: 0.75em;
  content: '$';
}

.react-terminal-input[data-terminal-prompt]:before {
  content: attr(data-terminal-prompt);
}

.react-terminal-wrapper:focus-within .react-terminal-active-input .cursor {
  position: relative;
  display: inline-block;
  width: 0.55em;
  height: 1em;
  top: 0.225em;
  background: #fff;
  -webkit-animation: blink 1s infinite;
          animation: blink 1s infinite;
}

/* Cursor animation */

@-webkit-keyframes blink {
  50% {
      opacity: 0;
  }
}

@keyframes blink {
  50% {
      opacity: 0;
  }
}

.terminal-hidden-input {
    position: fixed;
    left: -1000px;
}

/* .react-terminal-progress {
  display: flex;
  margin: .5rem 0;
}

.react-terminal-progress-bar {
  background-color: #fff;
  border-radius: .25rem;
  width: 25%;
}

.react-terminal-wrapper.react-terminal-light .react-terminal-progress-bar {
  background-color: #000;
} */
`),function(t){t[t.Light=0]="Light",t[t.Dark=1]="Dark"}(at||(at={}));var Cl=function(t){var r=t.name,n=t.prompt,o=t.height,s=o===void 0?"600px":o,i=t.colorMode,a=t.onInput,l=t.children,c=t.startingInputValue,u=c===void 0?"":c,x=t.redBtnCallback,m=t.yellowBtnCallback,p=t.greenBtnCallback,g=t.scrollToPosition,b=g===void 0||g,j=Pr(d.useState(""),2),h=j[0],f=j[1],S=Pr(d.useState(0),2),C=S[0],P=S[1],O=d.useRef(null);d.useEffect(function(){f(u.trim())},[u]),d.useEffect(function(){var I,V;if(a!=null){var D=[],A=function(M){var R=function(){var W;return(W=M==null?void 0:M.querySelector(".terminal-hidden-input"))===null||W===void 0?void 0:W.focus()};M==null||M.addEventListener("click",R),D.push({terminalEl:M,listener:R})};try{for(var L=function(M){var R=typeof Symbol=="function"&&Symbol.iterator,W=R&&M[R],K=0;if(W)return W.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&K>=M.length&&(M=void 0),{value:M&&M[K++],done:!M}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}(document.getElementsByClassName("react-terminal-wrapper")),_=L.next();!_.done;_=L.next())A(_.value)}catch(M){I={error:M}}finally{try{_&&!_.done&&(V=L.return)&&V.call(L)}finally{if(I)throw I.error}}return function(){D.forEach(function(M){M.terminalEl.removeEventListener("click",M.listener)})}}},[a]);var z=["react-terminal-wrapper"];return i===at.Light&&z.push("react-terminal-light"),je.createElement("div",{className:z.join(" "),"data-terminal-name":r},je.createElement("div",{className:"react-terminal-window-buttons"},je.createElement("button",{className:(m?"clickable":"")+" red-btn",disabled:!x,onClick:x}),je.createElement("button",{className:(m?"clickable":"")+" yellow-btn",disabled:!m,onClick:m}),je.createElement("button",{className:(p?"clickable":"")+" green-btn",disabled:!p,onClick:p})),je.createElement("div",{className:"react-terminal",style:{height:s}},l,typeof a=="function"&&je.createElement("div",{className:"react-terminal-line react-terminal-input react-terminal-active-input","data-terminal-prompt":n||"$",key:"terminal-line-prompt"},h,je.createElement("span",{className:"cursor",style:{left:C+1+"px"}})),je.createElement("div",{ref:O})),je.createElement("input",{className:"terminal-hidden-input",placeholder:"Terminal Hidden Input",value:h,autoFocus:a!=null,onChange:function(I){f(I.target.value)},onKeyDown:function(I){var V,D,A;if(a){if(I.key==="Enter")a(h),P(0),f(""),b&&setTimeout(function(){var W;return(W=O==null?void 0:O.current)===null||W===void 0?void 0:W.scrollIntoView({behavior:"auto",block:"nearest"})},500);else if(["ArrowLeft","ArrowRight","ArrowDown","ArrowUp","Delete"].includes(I.key)){var L=I.currentTarget,_="",M=h.length-(L.selectionStart||0);V=M,D=0,A=h.length,M=V>A?A:V<D?D:V,I.key==="ArrowLeft"?(M>h.length-1&&M--,_=h.slice(h.length-1-M)):I.key==="ArrowRight"||I.key==="Delete"?_=h.slice(h.length-M+1):I.key==="ArrowUp"&&(_=h.slice(0));var R=function(W,K){var Y=document.createElement("span");Y.style.visibility="hidden",Y.style.position="absolute",Y.style.fontSize=window.getComputedStyle(W).fontSize,Y.style.fontFamily=window.getComputedStyle(W).fontFamily,Y.innerText=K,document.body.appendChild(Y);var H=Y.getBoundingClientRect().width;return document.body.removeChild(Y),-H}(L,_);P(R)}}}}))};const kl=()=>{const{user:t}=Ce(),[r,n]=d.useState([e.jsxs(jt,{children:["Welcome ",(t==null?void 0:t.userName)||"Admin"," to the GitGud Drivers Admin Console",`
`,"Type 'help' for available commands"]},"welcome")]),o=s=>{const[i,...a]=s.split(" ");let l="";switch(i){case"help":l=`Available commands:
  help - Show this help message
  status - Show system status
  users - List recent user activities
  clear - Clear console
  audit [date] - Show audit logs for date (YYYY-MM-DD)
  metrics - Show system metrics
  version - Show system version`;break;case"status":l=`System Status: Operational
Last backup: 2024-03-10
Active users: 42
Server load: Normal`;break;case"users":l=`Recent User Activities:
admin1@gitgud.com - Login - 2 mins ago
driver2@email.com - Updated profile - 5 mins ago
sponsor1@company.com - Approved application - 10 mins ago`;break;case"metrics":l=`System Metrics:
CPU Usage: 45%
Memory: 2.1GB/4GB
Active Sessions: 12
Response Time: 230ms`;break;case"audit":const c=a[0];!c||!/^\d{4}-\d{2}-\d{2}$/.test(c)?l="Error: Please provide a date in YYYY-MM-DD format":l=`Fetching audit logs for ${c}...
[${c} 09:15:23] User login - admin1@gitgud.com
[${c} 09:20:45] Configuration change - System settings updated
[${c} 10:30:12] New user registration - driver3@email.com`;break;case"version":l="GitGud Drivers v1.0.0";break;case"clear":n([]);return;default:l=`Unknown command: ${i}. Type 'help' for available commands.`}n(c=>[...c,e.jsx(jt,{children:`$ ${s}`},`input-${Date.now()}`),e.jsx(jt,{children:l},`output-${Date.now()}`)])};return e.jsx(v,{sx:{p:2},children:e.jsxs(se,{elevation:3,sx:{bgcolor:"#1a1a1a",borderRadius:1,overflow:"hidden",height:"500px"},children:[e.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:1,bgcolor:"#2d2d2d",p:1,borderBottom:"1px solid #333"},children:[e.jsx(Wr,{sx:{color:"#fff"}}),e.jsx(y,{variant:"h6",sx:{color:"#fff"},children:"Admin Console"})]}),e.jsx("div",{style:{height:"calc(100% - 48px)",background:"#1a1a1a"},children:e.jsx(Cl,{name:"Admin Console",colorMode:at.Dark,prompt:"$",onInput:o,children:r})})]})})},Dl={MAIN:e.jsx(v,{children:e.jsx(y,{variant:"h6",children:"Dashboard Home"})}),CHANGE_PASSWORD:e.jsx(no,{}),MANAGE_DRIVERS:e.jsx(yl,{}),MANAGE_SPONSORS:e.jsx(Sl,{}),MANAGE_ADMINS:e.jsx(jl,{}),ADMIN_REPORTS:e.jsx(fl,{}),ADMIN_AUDIT_REPORTS:e.jsx(vl,{}),ADMIN_CONSOLE:e.jsx(kl,{}),DRIVER_APPLICATION:e.jsx(ol,{}),DRIVER_POINTS:e.jsx(il,{}),DRIVER_ACTIVITY:e.jsx(ll,{}),DRIVER_POINTS_HISTORY:e.jsx(dl,{}),PROFILE:e.jsx(wl,{}),APPLICATION_MANAGER:e.jsx(nl,{}),SPONSOR_REPORTS:e.jsx(gl,{}),SPONSOR_AUDIT_REPORTS:e.jsx(y,{children:"Audit Reports"}),SPONSOR_DRIVERS:e.jsx(cl,{})};function Rl(){const{currentView:t}=ro();return d.useEffect(()=>{},[t]),e.jsx(v,{sx:{width:"100%"},children:Dl[t]||e.jsx(y,{children:"Select an option to view content"})})}const Il=()=>{const{user:t,viewRole:r,setViewRole:n}=Ce(),o=r||(t==null?void 0:t.userType),{announce:s}=Zi(),i=l=>{const c=l.target.value;n(c),s(`View changed to ${c}`)},a=()=>{n(null),s("View reset back to original role")};return e.jsxs(v,{sx:{display:"flex",width:"100%",minHeight:"100vh"},children:[e.jsx(Jr,{}),e.jsx("a",{href:"#dashboard-main",style:{position:"absolute",left:"-9999px",zIndex:999,padding:"1rem",background:"#fff",textDecoration:"none"},onFocus:l=>{l.currentTarget.style.left="1rem"},onBlur:l=>{l.currentTarget.style.left="-9999px"},children:"Skip to dashboard content"}),e.jsxs(v,{component:"main",sx:{flexGrow:1,display:"flex",flexDirection:"column",ml:"15px"},children:[e.jsx(v,{sx:{p:2},children:e.jsxs(be,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(y,{variant:"h6",component:"h1",tabIndex:0,"aria-label":`Dashboard - Current role: ${o}`,children:"Dashboard"}),t&&(t.userType==="Admin"||t.userType==="Sponsor")&&e.jsxs(ue,{value:r||"",onChange:i,displayEmpty:!0,sx:{minWidth:180},"aria-label":"Select role to view as",renderValue:()=>"Select a role to view",children:[e.jsx(N,{disabled:!0,value:"",children:e.jsx("em",{children:"Select a role to view"})}),t.userType==="Admin"&&[e.jsx(N,{value:"Driver",children:"Driver"},"Driver"),e.jsx(N,{value:"Sponsor",children:"Sponsor"},"Sponsor"),e.jsx(N,{value:"Guest",children:"Guest"},"Guest")],t.userType==="Sponsor"&&e.jsx(N,{value:"Driver",children:"Driver"},"Driver")]}),r&&e.jsx(G,{onClick:a,"aria-label":"Exited view as mode",children:'Exit "View As"'})]})}),e.jsx(Rl,{})]})]})},Ar=({title:t,value:r})=>e.jsxs(v,{sx:{mb:1},children:[e.jsxs(y,{variant:"body1",component:"span",fontWeight:"bold",children:[t,":"]}),e.jsx(y,{variant:"body1",component:"span",sx:{ml:1},children:r})]}),Tr="productCatalog",Pl=10*60*1e3,Al=()=>{const[t,r]=d.useState([]),[n,o]=d.useState(!0),[s,i]=d.useState(null),[a,l]=d.useState({}),[c,u]=d.useState(!1),[x,m]=d.useState([]),[p,g]=d.useState(""),[b,j]=d.useState(""),[h,f]=d.useState(!1),S=We();d.useEffect(()=>{C()},[]),d.useEffect(()=>{const R=localStorage.getItem(Tr);if(R){const{listings:W,timestamp:K}=JSON.parse(R);if(Date.now()-K<Pl){r(W),o(!1);return}}P()},[]);const C=async()=>{try{const R=await B.get("/api/driver/my-sponsors");m(R.data),R.data.length>0&&g(R.data[0].sponsorId)}catch{i("Failed to load sponsor points data")}},P=async()=>{var R;try{const K=(await B.get("/api/catalog/products")).data.map(Y=>({id:Y.productID,productId:Y.productID,name:Y.name,price:Y.price,imageUrl:Y.imageUrl,pointCost:O(Y.price)}));r(K),localStorage.setItem(Tr,JSON.stringify({listings:K,timestamp:Date.now()}))}catch(W){i(((R=W.response)==null?void 0:R.data)||"Failed to load products.")}finally{o(!1)}},O=R=>{const W=x.find(Y=>Y.sponsorId===p);if(!W)return 0;const K=parseFloat(R.split(" ")[0]);return Math.ceil(K/W.pointDollarValue)},z=async R=>{const W=x.find(K=>K.sponsorId===p);if(!(!W||!R.pointCost)){W.totalPoints<O(R.price)&&j(`Not enough points! You need ${R.pointCost} points but have ${W.totalPoints}`),f(!0);try{D(R);const K=await B.post("/api/driver/purchase",{SponsorID:p,ProductID:R.productId,PointsSpent:R.pointCost});m(K.data.remainingPoints)}catch{j("Failed to update points"),f(!0)}}};if(n)return e.jsx(Ee,{});if(s)return e.jsx(le,{severity:"error",children:s});const I=x.find(R=>R.sponsorId===p),V=()=>a[p]||[],D=R=>{typeof p=="number"&&l(W=>({...W,[p]:[...W[p]||[],{...R,productId:R.id}]}))},A=()=>u(!0),L=()=>u(!1),_=()=>{l(R=>({...R,[p]:[]}))},M=async()=>{const R=V();S("/order",{state:{cartItems:R,sponsorId:p,points:I==null?void 0:I.totalPoints,pointValue:I==null?void 0:I.pointDollarValue}}),L()};return e.jsxs(e.Fragment,{children:[e.jsxs(Ne,{children:[e.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,children:"Product Catalog"}),e.jsxs(Se,{fullWidth:!0,sx:{mb:4},children:[e.jsx(we,{children:"Select Sponsor"}),e.jsx(ue,{value:p,label:"Select Sponsor",onChange:R=>g(R.target.value),children:x.map(R=>e.jsxs(N,{value:R.sponsorId,children:[R.sponsorName," - ",R.totalPoints.toLocaleString()," points available"]},R.sponsorId))})]}),I&&e.jsxs(le,{severity:"info",sx:{mb:2},children:["You have ",I.totalPoints.toLocaleString()," points available with ",I.sponsorName,". Point Value: $",I.pointDollarValue.toFixed(2)," per point"]}),e.jsx(v,{sx:{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"flex-start"},children:t.map((R,W)=>e.jsxs(ae,{sx:{width:"calc(33.333% - 16px)",maxWidth:"calc(33.333% - 16px)",marginBottom:2},children:[e.jsx(ua,{component:"img",height:"200",image:R.imageUrl,alt:R.name,sx:{objectFit:"cover"}}),e.jsxs(ie,{children:[e.jsx(y,{variant:"h6",component:"p",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:R.name}),e.jsx(Ar,{title:"Price",value:R.price}),e.jsx(Ar,{title:"Point Cost",value:O(R.price).toLocaleString()}),e.jsx(G,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{z(R),!I||(R.pointCost||0)>I.totalPoints||D(R)},sx:{mt:2},children:"Add to Cart"})]})]},W))}),e.jsx(Gt,{open:h,autoHideDuration:3e3,onClose:()=>f(!1),message:b}),e.jsx(v,{sx:{position:"fixed",top:80,right:16,display:"flex",flexDirection:"column",gap:2},children:e.jsx(G,{variant:"contained",color:"secondary",onClick:A,children:"View Cart"})})]}),e.jsxs($t,{open:c,onClose:L,children:[e.jsx(Ht,{children:"Your Cart"}),e.jsx(Ut,{children:V().length>0?e.jsx(kt,{children:V().map((R,W)=>e.jsx(Dt,{children:e.jsx(st,{primary:R.name,secondary:`Price: ${O(R.price).toLocaleString()}`})},W))}):e.jsx(y,{variant:"body1",children:"Your cart is empty."})}),e.jsxs(Vt,{children:[e.jsx(G,{onClick:_,color:"error",children:"Clear Cart"}),e.jsx(G,{onClick:M,color:"primary",variant:"contained",disabled:V().length===0,children:"Proceed to Checkout"})]})]})]})},Tl=({text:t,href:r})=>e.jsx("a",{href:r,className:"inline-block border border-blue-500 rounded px-1 text-blue-600 hover:bg-blue-50",style:{display:"inline-block",border:"1px solid #3b82f6",borderRadius:"4px",padding:"0 4px",color:"#2563eb",textDecoration:"none"},onMouseOver:n=>{n.currentTarget.style.backgroundColor="#eff6ff"},onMouseOut:n=>{n.currentTarget.style.backgroundColor="transparent"},children:t}),Ml=(t,r)=>{if(!r||r.length===0)return t;let n=t;return r.forEach(s=>{n=n.replace(s.text,`__LINK_${s.text}__`)}),n.split(/__LINK_|__/).map((s,i)=>{const a=r.find(l=>l.text===s);return a?e.jsx(Tl,{text:a.text,href:a.href},i):e.jsx("span",{children:s},i)})},El=({question:t,answer:r,links:n})=>e.jsxs(kn,{children:[e.jsx(Nn,{expandIcon:e.jsx(Fr,{}),"aria-controls":"panel-content",id:"panel-header",children:e.jsx(y,{children:t})}),e.jsx(Pn,{children:e.jsx(y,{component:"div",children:Ml(r,n)})})]}),$l=()=>{const t=[{question:"How do I create an account?",answer:"To create an account, click on the 'Sign Up' Button, and from there you will become a guest.",links:[{text:"Sign Up",href:"/register"}]},{question:"How can I become a driver?",answer:"To become a driver, you need to apply with one of the sponsors associated with our program. Once they have accepted your application, you will automatically become a driver."},{question:"What are the password requirements?",answer:"To create a password, it must have a number, a lowercase letter, an uppercase letter, be at least 8 characters long and no characters can be repeated."},{question:"How can I reset my password?",answer:"If you've forgotten your password, click on the 'Forgot Password' link on the login page.",links:[{text:"Forgot Password",href:"/reset-password"},{text:"login page",href:"/login"}]},{question:"How do I earn points?",answer:"To earn points, first you must be associated with at least one sponsor. From there, simply follow instructions from your sponsor to earn points."},{question:"How do I apply to a sponsor?",answer:"To apply to be a sponsor, simply reach out to us and we will create an account for you if you meet our requirements."},{question:"What can I spend my points on?",answer:"You can exchange your points for a variety of items from your sponsors catalog. Each of our sponsors has a unique selection of items.",links:[{text:"sponsors catalog",href:"/catalog"}]}];return e.jsxs("div",{children:[e.jsx(y,{variant:"h4",gutterBottom:!0,children:"Frequently Asked Questions"}),t.map((r,n)=>e.jsx(El,{question:r.question,answer:r.answer,links:r.links},n))]})},Nl=()=>{const[t,r]=d.useState(""),[n,o]=d.useState(""),[s,i]=d.useState(""),[a,l]=d.useState(!1),[c,u]=d.useState(""),x=async p=>{if(p.preventDefault(),!t||!n||!s){u("Please fill in all fields");return}if(!/\S+@\S+\.\S+/.test(n)){u("Please enter a valid email address");return}try{await B.post("/api/user/feedback",{Name:t,Email:n,Description:s,SubmissionDate:new Date().toISOString()}),l(!0),r(""),o(""),i(""),u("")}catch{u("An error occurred while submitting your feedback. Please try again later.")}},m=(p,g)=>{g!=="clickaway"&&l(!1)};return e.jsxs(v,{component:"form",onSubmit:x,sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:600,margin:"auto",p:3,boxShadow:3,borderRadius:2,backgroundColor:"background.paper"},children:[e.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,children:"Provide Feedback"}),e.jsx(U,{label:"Your Name",fullWidth:!0,margin:"normal",value:t,onChange:p=>r(p.target.value),required:!0}),e.jsx(U,{label:"Your Email",type:"email",fullWidth:!0,margin:"normal",value:n,onChange:p=>o(p.target.value),required:!0}),e.jsx(U,{label:"Your Feedback",fullWidth:!0,margin:"normal",multiline:!0,rows:4,value:s,onChange:p=>i(p.target.value),required:!0}),e.jsx(G,{type:"submit",variant:"contained",size:"large",fullWidth:!0,sx:{mt:3,mb:2},children:"Submit Feedback"}),c&&e.jsx(y,{color:"error",sx:{mt:2},children:c}),e.jsx(Gt,{open:a,autoHideDuration:6e3,onClose:m,children:e.jsx(le,{onClose:m,severity:"success",sx:{width:"100%"},children:"Thank you for your feedback!"})})]})},Ol=()=>{const[t,r]=d.useState(!1),[n,o]=d.useState(null),s=()=>{r(!1),x("/catalog")},i=Br(),{cartItems:a,sponsorId:l,points:c,pointValue:u}=i.state||{},x=We(),m=()=>(a==null?void 0:a.reduce((g,b)=>{const j=parseFloat(b.price.split(" ")[0]);return g+Math.ceil(j/u)},0))||0,p=async()=>{var g,b;try{const j=a.map(h=>{const f=Math.ceil(parseFloat(h.price.split(" ")[0])/u);return B.post("/api/driver/purchase",{SponsorID:l,ProductID:h.productID||h.productId,PointsSpent:f})});await Promise.all(j),r(!0)}catch(j){const h=((b=(g=j.response)==null?void 0:g.data)==null?void 0:b.message)||"Failed to complete order";alert(h)}};return e.jsxs(Ne,{maxWidth:"md",children:[e.jsx(G,{variant:"outlined",onClick:()=>x("/catalog"),sx:{mb:2},children:"Back"}),e.jsx(y,{variant:"h4",align:"center",gutterBottom:!0,children:"Secure Checkout"}),e.jsxs($,{container:!0,spacing:4,children:[e.jsx($,{item:!0,xs:12,sm:7,children:e.jsxs(v,{children:[e.jsx(y,{variant:"h6",children:"1. Delivery Address"}),e.jsx(y,{variant:"body2",children:"All fields marked with * are required"}),e.jsxs($,{container:!0,spacing:2,mt:2,children:[" ",e.jsx($,{item:!0,xs:12,children:e.jsx(U,{label:"Email address *",fullWidth:!0,variant:"outlined"})}),e.jsx($,{item:!0,xs:6,children:e.jsx(U,{label:"First name *",fullWidth:!0,variant:"outlined"})}),e.jsx($,{item:!0,xs:6,children:e.jsx(U,{label:"Last name *",fullWidth:!0,variant:"outlined"})}),e.jsx($,{item:!0,xs:12,children:e.jsx(U,{label:"Address *",fullWidth:!0,variant:"outlined"})}),e.jsx($,{item:!0,xs:6,children:e.jsx(U,{label:"City *",fullWidth:!0,variant:"outlined"})}),e.jsx($,{item:!0,xs:6,children:e.jsx(U,{label:"ZIP code *",fullWidth:!0,variant:"outlined"})}),e.jsx($,{item:!0,xs:12,children:e.jsx(U,{label:"Country *",fullWidth:!0,variant:"outlined",defaultValue:"United States"})})]})]})}),e.jsx($,{item:!0,xs:12,sm:5,children:e.jsxs(v,{children:[e.jsx(y,{variant:"h6",children:"Order Summary"}),e.jsx($,{container:!0,spacing:2,mt:2,alignItems:"center",children:a&&a.map((g,b)=>e.jsxs($,{container:!0,children:[e.jsx($,{item:!0,xs:8,children:e.jsx(y,{variant:"subtitle1",children:g.name})}),e.jsx($,{item:!0,xs:4,textAlign:"right",children:e.jsxs(y,{children:[Math.ceil(parseFloat(g.price.split(" ")[0])/u)," points"]})})]},b))}),e.jsxs(v,{mt:2,textAlign:"right",children:[e.jsxs(y,{variant:"h6",children:["Total: ",m()," points"]}),e.jsxs(y,{variant:"h6",children:["Current Points: ",c]}),e.jsx(G,{variant:"contained",color:"primary",fullWidth:!0,onClick:p,sx:{mt:2},children:"Complete Order"})]})]})})]}),e.jsxs($t,{open:t,onClose:s,children:[e.jsx(Ht,{children:"Order Complete"}),e.jsxs(Ut,{children:[e.jsxs(y,{children:["Your order has been successfully completed! Remaining points: ",c-m()]})," "]}),e.jsx(Vt,{children:e.jsx(G,{onClick:s,color:"primary",children:"Close"})})]})]})},Ll=({title:t,buttons:r})=>e.jsxs(v,{sx:{mt:3},children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:t}),r.map((n,o)=>e.jsx(G,{component:$e,to:n.path,variant:"contained",sx:{m:1},children:n.label},o))]}),zl=()=>{const{notifySettings:t,updateNotifySetting:r,user:n}=Ce(),[o,s]=d.useState(!1),i=()=>{s(a=>!a)};return e.jsxs(v,{sx:{width:"100%",maxWidth:600,margin:"auto"},children:[e.jsx(y,{variant:"h4",component:"h2",gutterBottom:!0,children:"Settings"}),e.jsx(y,{variant:"h5",component:"h2",gutterBottom:!0,sx:{mt:3},children:"Account Settings"}),e.jsx(Ll,{title:"",buttons:[{label:"Update Email",path:"/update-email"},{label:"Change Password",path:"/change-password"}]}),e.jsx(y,{variant:"h5",component:"h2",gutterBottom:!0,sx:{mt:3},children:"Notification Settings"}),e.jsx(G,{variant:"outlined",onClick:i,children:o?"Hide Preferences":"Change Preferences"}),e.jsx(Ge,{in:o,timeout:"auto",unmountOnExit:!0,children:e.jsx(ae,{variant:"outlined",sx:{mt:2},children:e.jsx(ie,{children:e.jsx(fe,{container:!0,spacing:2,children:Object.keys(t).map(a=>(a==="applicationApproved"||a==="orderIssue")&&(n==null?void 0:n.userType)!=="Driver"?null:e.jsx(fe,{size:{xs:12,sm:6,md:4},children:e.jsx(Wt,{title:a==="systemDrop"||a==="applicationApproved"?"This setting cannot be disabled.":"",placement:"top",children:e.jsx(lt,{control:e.jsx(di,{checked:t[a],onChange:()=>r(a,!t[a]),disabled:a==="systemDrop"||a==="applicationApproved",color:"primary"}),label:e.jsx(y,{variant:"body2",children:a.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase())})})})},a))})})})})]})},Bl=()=>{const{isAuthenticated:t}=Ce();return t?e.jsxs(v,{sx:{display:"flex"},children:[e.jsx(Yi,{}),e.jsx(v,{sx:{flexGrow:1},children:e.jsx(Wo,{})})]}):e.jsx(Ct,{to:"/",replace:!0})},Wl=()=>{const{isAuthenticated:t}=Ce();return t?e.jsx(Ct,{to:"/dashboard",replace:!0}):e.jsx(Ct,{to:"/home",replace:!0})},Fl=()=>e.jsx(Pi,{children:e.jsxs(Ai,{children:[e.jsxs(Ji,{children:[" ",e.jsxs(Gi,{children:[e.jsx("a",{href:"#main-content",style:{position:"absolute",left:"-9999px",zIndex:999,padding:"1rem",background:"#fff",textDecoration:"none"},onFocus:t=>{t.currentTarget.style.left="1rem"},onBlur:t=>{t.currentTarget.style.left="-9999px"},children:"Skip to main content"}),e.jsx($i,{}),e.jsx(zt,{}),e.jsx(v,{sx:{mt:1,width:"100%"},children:e.jsxs(Bo,{children:[e.jsx(me,{path:"/",element:e.jsx(Wl,{})}),e.jsx(me,{path:"/about",element:e.jsx(Xi,{})}),e.jsx(me,{path:"/login",element:e.jsx(Qi,{})}),e.jsx(me,{path:"/register",element:e.jsx(rl,{})}),e.jsx(me,{path:"/home",element:e.jsx(Ki,{})}),e.jsx(me,{path:"/faq",element:e.jsx($l,{})}),e.jsx(me,{path:"/feedback",element:e.jsx(Nl,{})}),e.jsxs(me,{element:e.jsx(Bl,{}),children:[e.jsx(me,{path:"/dashboard",element:e.jsx(Il,{})}),e.jsx(me,{path:"/catalog",element:e.jsx(Al,{})}),e.jsx(me,{path:"/change-password",element:e.jsx(no,{})}),e.jsx(me,{path:"/settings",element:e.jsx(zl,{})}),e.jsx(me,{path:"/order",element:e.jsx(Ol,{})})]})]})})]})]})," "]})});It.createRoot(document.getElementById("root")).render(e.jsx(Fo,{children:e.jsx(Fl,{})}));
